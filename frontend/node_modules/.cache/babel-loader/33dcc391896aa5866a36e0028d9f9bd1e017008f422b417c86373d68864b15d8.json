{"ast":null,"code":"var __defProp = Object.defineProperty;\nvar __typeError = msg => {\n  throw TypeError(msg);\n};\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\nvar __privateMethod = (obj, member, method) => (__accessCheck(obj, member, \"access private method\"), method);\nvar __privateWrapper = (obj, member, setter, getter) => ({\n  set _(value) {\n    __privateSet(obj, member, value, setter);\n  },\n  get _() {\n    return __privateGet(obj, member, getter);\n  }\n});\nvar _classList, _disableAutoFetchTimeout, _percent, _style, _visible, _state, _updateMatchesCountOnProgress, _visitedPagesCount, _PDFFindController_instances, onFind_fn, reset_fn, query_get, shouldDirtyMatch_fn, isEntireWord_fn, calculateRegExpMatch_fn, convertToRegExpString_fn, calculateMatch_fn, extractText_fn, updatePage_fn, updateAllPages_fn, nextMatch_fn, matchesReady_fn, nextPageMatch_fn, advanceOffsetPage_fn, updateMatch_fn, onFindBarClose_fn, requestMatchesCount_fn, updateUIResultsCount_fn, updateUIState_fn, _PDFLinkService_static, isValidExplicitDest_fn, _onAppend, _eventAbortController, _AnnotationLayerBuilder_instances, updatePresentationModeState_fn, _openBlobUrls, _listeners, _dir, _elements, _lang, _l10n, _L10n_static, fixupLangCode_fn, isRTL_fn, _genericl10n_GenericL10n_static, generateBundles_fn, createBundle_fn, getPaths_fn, generateBundlesFallback_fn, createBundleFallback_fn, _eventAbortController2, _PDFHistory_instances, pushOrReplaceState_fn, tryPushCurrentPosition_fn, isValidPage_fn, isValidState_fn, updateInternalState_fn, parseCurrentHash_fn, updateViewarea_fn, popState_fn, pageHide_fn, bindEvents_fn, unbindEvents_fn, _annotationLayer, _drawLayer, _onAppend2, _textLayer, _uiManager, _drawLayer2, _treeDom, _StructTreeLayerBuilder_instances, setAttributes_fn, walk_fn, _enabled, _textChildren, _textNodes, _waitingElements, _TextAccessibilityManager_static, compareElementPositions_fn, _TextAccessibilityManager_instances, addIdToAriaOwns_fn, _eventAbortController3, _enablePermissions, _onAppend3, _renderingDone, _textLayer2, _textLayers, _selectionChangeAbortController, _TextLayerBuilder_instances, bindMouse_fn, _TextLayerBuilder_static, removeGlobalSelectionListener_fn, enableGlobalSelectionListener_fn, _annotationMode, _enableHWA, _hasRestrictedScaling, _layerProperties, _loadingId, _previousRotation, _renderError, _renderingState, _textLayerMode, _useThumbnailCanvas, _viewportMap, _layers, _PDFPageView_instances, addLayer_fn, setDimensions_fn, dispatchLayerRendered_fn, renderAnnotationLayer_fn, renderAnnotationEditorLayer_fn, renderDrawLayer_fn, renderXfaLayer_fn, renderTextLayer_fn, renderStructTreeLayer_fn, buildXfaTextContentItems_fn, finishRenderTask_fn, _closeCapability, _destroyCapability, _docProperties, _eventAbortController4, _eventBus, _externalServices, _pdfDocument, _pdfViewer, _ready, _scripting, _willPrintCapability, _PDFScriptingManager_instances, updateFromSandbox_fn, dispatchPageOpen_fn, dispatchPageClose_fn, initScripting_fn, destroyScripting_fn, _buf, _size, _PDFPageViewBuffer_instances, destroyFirstView_fn, _buffer, _altTextManager, _annotationEditorHighlightColors, _annotationEditorMode, _annotationEditorUIManager, _annotationMode2, _containerTopLeft, _enableHWA2, _enableHighlightFloatingButton, _enablePermissions2, _eventAbortController5, _mlManager, _getAllTextInProgress, _hiddenCopyElement, _interruptCopyCondition, _previousContainerHeight, _resizeObserver, _scrollModePageState, _scaleTimeoutId, _textLayerMode2, _PDFViewer_instances, initializePermissions_fn, onePageRenderedOrForceFetch_fn, copyCallback_fn, ensurePageViewVisible_fn, scrollIntoView_fn, isSameScale_fn, setScaleUpdatePages_fn, pageWidthScaleFactor_get, setScale_fn, resetCurrentPageView_fn, ensurePdfPageLoaded_fn, getScrollAhead_fn, updateContainerHeightCss_fn, resizeObserverCallback_fn;\nvar __webpack_require__ = {};\n(() => {\n  __webpack_require__.d = (exports, definition) => {\n    for (var key in definition) {\n      if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n        Object.defineProperty(exports, key, {\n          enumerable: true,\n          get: definition[key]\n        });\n      }\n    }\n  };\n})();\n(() => {\n  __webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n})();\nvar __webpack_exports__ = globalThis.pdfjsViewer = {};\n__webpack_require__.d(__webpack_exports__, {\n  AnnotationLayerBuilder: () => ( /* reexport */\n  AnnotationLayerBuilder),\n  DownloadManager: () => ( /* reexport */\n  DownloadManager),\n  EventBus: () => ( /* reexport */\n  EventBus),\n  FindState: () => ( /* reexport */\n  FindState),\n  GenericL10n: () => ( /* reexport */\n  genericl10n_GenericL10n),\n  LinkTarget: () => ( /* reexport */\n  LinkTarget),\n  PDFFindController: () => ( /* reexport */\n  PDFFindController),\n  PDFHistory: () => ( /* reexport */\n  PDFHistory),\n  PDFLinkService: () => ( /* reexport */\n  PDFLinkService),\n  PDFPageView: () => ( /* reexport */\n  PDFPageView),\n  PDFScriptingManager: () => ( /* reexport */\n  PDFScriptingManagerComponents),\n  PDFSinglePageViewer: () => ( /* reexport */\n  PDFSinglePageViewer),\n  PDFViewer: () => ( /* reexport */\n  PDFViewer),\n  ProgressBar: () => ( /* reexport */\n  ProgressBar),\n  RenderingStates: () => ( /* reexport */\n  RenderingStates),\n  ScrollMode: () => ( /* reexport */\n  ScrollMode),\n  SimpleLinkService: () => ( /* reexport */\n  SimpleLinkService),\n  SpreadMode: () => ( /* reexport */\n  SpreadMode),\n  StructTreeLayerBuilder: () => ( /* reexport */\n  StructTreeLayerBuilder),\n  TextLayerBuilder: () => ( /* reexport */\n  TextLayerBuilder),\n  XfaLayerBuilder: () => ( /* reexport */\n  XfaLayerBuilder),\n  parseQueryString: () => ( /* reexport */\n  parseQueryString)\n});\nconst DEFAULT_SCALE_VALUE = \"auto\";\nconst DEFAULT_SCALE = 1;\nconst DEFAULT_SCALE_DELTA = 1.1;\nconst MIN_SCALE = 0.1;\nconst MAX_SCALE = 10;\nconst UNKNOWN_SCALE = 0;\nconst MAX_AUTO_SCALE = 1.25;\nconst SCROLLBAR_PADDING = 40;\nconst VERTICAL_PADDING = 5;\nconst RenderingStates = {\n  INITIAL: 0,\n  RUNNING: 1,\n  PAUSED: 2,\n  FINISHED: 3\n};\nconst PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nconst TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_PERMISSIONS: 2\n};\nconst ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2,\n  PAGE: 3\n};\nconst SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nclass OutputScale {\n  constructor() {\n    const pixelRatio = window.devicePixelRatio || 1;\n    this.sx = pixelRatio;\n    this.sy = pixelRatio;\n  }\n  get scaled() {\n    return this.sx !== 1 || this.sy !== 1;\n  }\n}\nfunction scrollIntoView(element, spot, scrollMatches = false) {\n  let parent = element.offsetParent;\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n  let offsetY = element.offsetTop + element.clientTop;\n  let offsetX = element.offsetLeft + element.clientLeft;\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || scrollMatches && (parent.classList.contains(\"markedContent\") || getComputedStyle(parent).overflow === \"hidden\")) {\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n    if (!parent) {\n      return;\n    }\n  }\n  if (spot) {\n    if (spot.top !== void 0) {\n      offsetY += spot.top;\n    }\n    if (spot.left !== void 0) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n  parent.scrollTop = offsetY;\n}\nfunction watchScroll(viewAreaElement, callback, abortSignal = void 0) {\n  const debounceScroll = function (evt) {\n    if (rAF) {\n      return;\n    }\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      const currentX = viewAreaElement.scrollLeft;\n      const lastX = state.lastX;\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n      state.lastX = currentX;\n      const currentY = viewAreaElement.scrollTop;\n      const lastY = state.lastY;\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n  const state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  let rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, {\n    useCapture: true,\n    signal: abortSignal\n  });\n  abortSignal == null ? void 0 : abortSignal.addEventListener(\"abort\", () => window.cancelAnimationFrame(rAF), {\n    once: true\n  });\n  return state;\n}\nfunction parseQueryString(query) {\n  const params = /* @__PURE__ */new Map();\n  for (const [key, value] of new URLSearchParams(query)) {\n    params.set(key.toLowerCase(), value);\n  }\n  return params;\n}\nconst InvisibleCharsRegExp = /[\\x00-\\x1F]/g;\nfunction removeNullCharacters(str, replaceInvisible = false) {\n  if (!InvisibleCharsRegExp.test(str)) {\n    return str;\n  }\n  if (replaceInvisible) {\n    return str.replaceAll(InvisibleCharsRegExp, m => m === \"\\0\" ? \"\" : \" \");\n  }\n  return str.replaceAll(\"\\0\", \"\");\n}\nfunction binarySearchFirstItem(items, condition, start = 0) {\n  let minIndex = start;\n  let maxIndex = items.length - 1;\n  if (maxIndex < 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n  while (minIndex < maxIndex) {\n    const currentIndex = minIndex + maxIndex >> 1;\n    const currentItem = items[currentIndex];\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n  return minIndex;\n}\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n  const xinv = 1 / x;\n  const limit = 8;\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n  const x_ = x > 1 ? xinv : x;\n  let a = 0,\n    b = 1,\n    c = 1,\n    d = 1;\n  while (true) {\n    const p = a + c,\n      q = b + d;\n    if (q > limit) {\n      break;\n    }\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n  let result;\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n  return result;\n}\nfunction floorToDivide(x, div) {\n  return x - x % div;\n}\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n  let elt = views[index].div;\n  let pageTop = elt.offsetTop + elt.clientTop;\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n  for (let i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n    index = i;\n  }\n  return index;\n}\nfunction getVisibleElements({\n  scrollEl,\n  views,\n  sortByVisibility = false,\n  horizontal = false,\n  rtl = false\n}) {\n  const top = scrollEl.scrollTop,\n    bottom = top + scrollEl.clientHeight;\n  const left = scrollEl.scrollLeft,\n    right = left + scrollEl.clientWidth;\n  function isElementBottomAfterViewTop(view) {\n    const element = view.div;\n    const elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n  function isElementNextAfterViewHorizontally(view) {\n    const element = view.div;\n    const elementLeft = element.offsetLeft + element.clientLeft;\n    const elementRight = elementLeft + element.clientWidth;\n    return rtl ? elementLeft < right : elementRight > left;\n  }\n  const visible = [],\n    ids = /* @__PURE__ */new Set(),\n    numViews = views.length;\n  let firstVisibleElementInd = binarySearchFirstItem(views, horizontal ? isElementNextAfterViewHorizontally : isElementBottomAfterViewTop);\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n  let lastEdge = horizontal ? right : -1;\n  for (let i = firstVisibleElementInd; i < numViews; i++) {\n    const view = views[i],\n      element = view.div;\n    const currentWidth = element.offsetLeft + element.clientLeft;\n    const currentHeight = element.offsetTop + element.clientTop;\n    const viewWidth = element.clientWidth,\n      viewHeight = element.clientHeight;\n    const viewRight = currentWidth + viewWidth;\n    const viewBottom = currentHeight + viewHeight;\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n    const hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    const hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    const fractionHeight = (viewHeight - hiddenHeight) / viewHeight,\n      fractionWidth = (viewWidth - hiddenWidth) / viewWidth;\n    const percent = fractionHeight * fractionWidth * 100 | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view,\n      percent,\n      widthPercent: fractionWidth * 100 | 0\n    });\n    ids.add(view.id);\n  }\n  const first = visible[0],\n    last = visible.at(-1);\n  if (sortByVisibility) {\n    visible.sort(function (a, b) {\n      const pc = a.percent - b.percent;\n      if (Math.abs(pc) > 1e-3) {\n        return -pc;\n      }\n      return a.id - b.id;\n    });\n  }\n  return {\n    first,\n    last,\n    views: visible,\n    ids\n  };\n}\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\nnew Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\nconst docStyle = document.documentElement.style;\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\nclass ProgressBar {\n  constructor(bar) {\n    __privateAdd(this, _classList, null);\n    __privateAdd(this, _disableAutoFetchTimeout, null);\n    __privateAdd(this, _percent, 0);\n    __privateAdd(this, _style, null);\n    __privateAdd(this, _visible, true);\n    __privateSet(this, _classList, bar.classList);\n    __privateSet(this, _style, bar.style);\n  }\n  get percent() {\n    return __privateGet(this, _percent);\n  }\n  set percent(val) {\n    __privateSet(this, _percent, clamp(val, 0, 100));\n    if (isNaN(val)) {\n      __privateGet(this, _classList).add(\"indeterminate\");\n      return;\n    }\n    __privateGet(this, _classList).remove(\"indeterminate\");\n    __privateGet(this, _style).setProperty(\"--progressBar-percent\", `${__privateGet(this, _percent)}%`);\n  }\n  setWidth(viewer) {\n    if (!viewer) {\n      return;\n    }\n    const container = viewer.parentNode;\n    const scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n    if (scrollbarWidth > 0) {\n      __privateGet(this, _style).setProperty(\"--progressBar-end-offset\", `${scrollbarWidth}px`);\n    }\n  }\n  setDisableAutoFetch(delay = 5e3) {\n    if (isNaN(__privateGet(this, _percent))) {\n      return;\n    }\n    if (__privateGet(this, _disableAutoFetchTimeout)) {\n      clearTimeout(__privateGet(this, _disableAutoFetchTimeout));\n    }\n    this.show();\n    __privateSet(this, _disableAutoFetchTimeout, setTimeout(() => {\n      __privateSet(this, _disableAutoFetchTimeout, null);\n      this.hide();\n    }, delay));\n  }\n  hide() {\n    if (!__privateGet(this, _visible)) {\n      return;\n    }\n    __privateSet(this, _visible, false);\n    __privateGet(this, _classList).add(\"hidden\");\n  }\n  show() {\n    if (__privateGet(this, _visible)) {\n      return;\n    }\n    __privateSet(this, _visible, true);\n    __privateGet(this, _classList).remove(\"hidden\");\n  }\n}\n_classList = new WeakMap();\n_disableAutoFetchTimeout = new WeakMap();\n_percent = new WeakMap();\n_style = new WeakMap();\n_visible = new WeakMap();\nfunction apiPageLayoutToViewerModes(layout) {\n  let scrollMode = ScrollMode.VERTICAL,\n    spreadMode = SpreadMode.NONE;\n  switch (layout) {\n    case \"SinglePage\":\n      scrollMode = ScrollMode.PAGE;\n      break;\n    case \"OneColumn\":\n      break;\n    case \"TwoPageLeft\":\n      scrollMode = ScrollMode.PAGE;\n    case \"TwoColumnLeft\":\n      spreadMode = SpreadMode.ODD;\n      break;\n    case \"TwoPageRight\":\n      scrollMode = ScrollMode.PAGE;\n    case \"TwoColumnRight\":\n      spreadMode = SpreadMode.EVEN;\n      break;\n  }\n  return {\n    scrollMode,\n    spreadMode\n  };\n}\nconst CharacterType = {\n  SPACE: 0,\n  ALPHA_LETTER: 1,\n  PUNCT: 2,\n  HAN_LETTER: 3,\n  KATAKANA_LETTER: 4,\n  HIRAGANA_LETTER: 5,\n  HALFWIDTH_KATAKANA_LETTER: 6,\n  THAI_LETTER: 7\n};\nfunction isAlphabeticalScript(charCode) {\n  return charCode < 11904;\n}\nfunction isAscii(charCode) {\n  return (charCode & 65408) === 0;\n}\nfunction isAsciiAlpha(charCode) {\n  return charCode >= 97 && charCode <= 122 || charCode >= 65 && charCode <= 90;\n}\nfunction isAsciiDigit(charCode) {\n  return charCode >= 48 && charCode <= 57;\n}\nfunction isAsciiSpace(charCode) {\n  return charCode === 32 || charCode === 9 || charCode === 13 || charCode === 10;\n}\nfunction isHan(charCode) {\n  return charCode >= 13312 && charCode <= 40959 || charCode >= 63744 && charCode <= 64255;\n}\nfunction isKatakana(charCode) {\n  return charCode >= 12448 && charCode <= 12543;\n}\nfunction isHiragana(charCode) {\n  return charCode >= 12352 && charCode <= 12447;\n}\nfunction isHalfwidthKatakana(charCode) {\n  return charCode >= 65376 && charCode <= 65439;\n}\nfunction isThai(charCode) {\n  return (charCode & 65408) === 3584;\n}\nfunction getCharacterType(charCode) {\n  if (isAlphabeticalScript(charCode)) {\n    if (isAscii(charCode)) {\n      if (isAsciiSpace(charCode)) {\n        return CharacterType.SPACE;\n      } else if (isAsciiAlpha(charCode) || isAsciiDigit(charCode) || charCode === 95) {\n        return CharacterType.ALPHA_LETTER;\n      }\n      return CharacterType.PUNCT;\n    } else if (isThai(charCode)) {\n      return CharacterType.THAI_LETTER;\n    } else if (charCode === 160) {\n      return CharacterType.SPACE;\n    }\n    return CharacterType.ALPHA_LETTER;\n  }\n  if (isHan(charCode)) {\n    return CharacterType.HAN_LETTER;\n  } else if (isKatakana(charCode)) {\n    return CharacterType.KATAKANA_LETTER;\n  } else if (isHiragana(charCode)) {\n    return CharacterType.HIRAGANA_LETTER;\n  } else if (isHalfwidthKatakana(charCode)) {\n    return CharacterType.HALFWIDTH_KATAKANA_LETTER;\n  }\n  return CharacterType.ALPHA_LETTER;\n}\nlet NormalizeWithNFKC;\nfunction getNormalizeWithNFKC() {\n  NormalizeWithNFKC || (NormalizeWithNFKC = ` ¨ª¯²-µ¸-º¼-¾Ĳ-ĳĿ-ŀŉſǄ-ǌǱ-ǳʰ-ʸ˘-˝ˠ-ˤʹͺ;΄-΅·ϐ-ϖϰ-ϲϴ-ϵϹևٵ-ٸक़-य़ড়-ঢ়য়ਲ਼ਸ਼ਖ਼-ਜ਼ਫ਼ଡ଼-ଢ଼ำຳໜ-ໝ༌གྷཌྷདྷབྷཛྷཀྵჼᴬ-ᴮᴰ-ᴺᴼ-ᵍᵏ-ᵪᵸᶛ-ᶿẚ-ẛάέήίόύώΆ᾽-῁ΈΉ῍-῏ΐΊ῝-῟ΰΎ῭-`ΌΏ´-῾ - ‑‗․-… ″-‴‶-‷‼‾⁇-⁉⁗ ⁰-ⁱ⁴-₎ₐ-ₜ₨℀-℃℅-ℇ℉-ℓℕ-№ℙ-ℝ℠-™ℤΩℨK-ℭℯ-ℱℳ-ℹ℻-⅀ⅅ-ⅉ⅐-ⅿ↉∬-∭∯-∰〈-〉①-⓪⨌⩴-⩶⫝̸ⱼ-ⱽⵯ⺟⻳⼀-⿕　〶〸-〺゛-゜ゟヿㄱ-ㆎ㆒-㆟㈀-㈞㈠-㉇㉐-㉾㊀-㏿ꚜ-ꚝꝰꟲ-ꟴꟸ-ꟹꭜ-ꭟꭩ豈-嗀塚晴凞-羽蘒諸逸-都飯-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼︐-︙︰-﹄﹇-﹒﹔-﹦﹨-﹫ﹰ-ﹲﹴﹶ-ﻼ！-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ￠-￦`);\n  return NormalizeWithNFKC;\n}\nconst FindState = {\n  FOUND: 0,\n  NOT_FOUND: 1,\n  WRAPPED: 2,\n  PENDING: 3\n};\nconst FIND_TIMEOUT = 250;\nconst MATCH_SCROLL_OFFSET_TOP = -50;\nconst MATCH_SCROLL_OFFSET_LEFT = -400;\nconst CHARACTERS_TO_NORMALIZE = {\n  \"‐\": \"-\",\n  \"‘\": \"'\",\n  \"’\": \"'\",\n  \"‚\": \"'\",\n  \"‛\": \"'\",\n  \"“\": '\"',\n  \"”\": '\"',\n  \"„\": '\"',\n  \"‟\": '\"',\n  \"¼\": \"1/4\",\n  \"½\": \"1/2\",\n  \"¾\": \"3/4\"\n};\nconst DIACRITICS_EXCEPTION = /* @__PURE__ */new Set([12441, 12442, 2381, 2509, 2637, 2765, 2893, 3021, 3149, 3277, 3387, 3388, 3405, 3530, 3642, 3770, 3972, 4153, 4154, 5908, 5940, 6098, 6752, 6980, 7082, 7083, 7154, 7155, 11647, 43014, 43052, 43204, 43347, 43456, 43766, 44013, 3158, 3953, 3954, 3962, 3963, 3964, 3965, 3968, 3956]);\nlet DIACRITICS_EXCEPTION_STR;\nconst DIACRITICS_REG_EXP = new RegExp(\"\\\\p{M}+\", \"gu\");\nconst SPECIAL_CHARS_REG_EXP = new RegExp(\"([.*+?^${}()|[\\\\]\\\\\\\\])|(\\\\p{P})|(\\\\s+)|(\\\\p{M})|(\\\\p{L})\", \"gu\");\nconst NOT_DIACRITIC_FROM_END_REG_EXP = new RegExp(\"([^\\\\p{M}])\\\\p{M}*$\", \"u\");\nconst NOT_DIACRITIC_FROM_START_REG_EXP = new RegExp(\"^\\\\p{M}*([^\\\\p{M}])\", \"u\");\nconst SYLLABLES_REG_EXP = /[\\uAC00-\\uD7AF\\uFA6C\\uFACF-\\uFAD1\\uFAD5-\\uFAD7]+/g;\nconst SYLLABLES_LENGTHS = /* @__PURE__ */new Map();\nconst FIRST_CHAR_SYLLABLES_REG_EXP = \"[\\\\u1100-\\\\u1112\\\\ud7a4-\\\\ud7af\\\\ud84a\\\\ud84c\\\\ud850\\\\ud854\\\\ud857\\\\ud85f]\";\nconst NFKC_CHARS_TO_NORMALIZE = /* @__PURE__ */new Map();\nlet noSyllablesRegExp = null;\nlet withSyllablesRegExp = null;\nfunction normalize(text) {\n  const syllablePositions = [];\n  let m;\n  while ((m = SYLLABLES_REG_EXP.exec(text)) !== null) {\n    let {\n      index\n    } = m;\n    for (const char of m[0]) {\n      let len = SYLLABLES_LENGTHS.get(char);\n      if (!len) {\n        len = char.normalize(\"NFD\").length;\n        SYLLABLES_LENGTHS.set(char, len);\n      }\n      syllablePositions.push([len, index++]);\n    }\n  }\n  let normalizationRegex;\n  if (syllablePositions.length === 0 && noSyllablesRegExp) {\n    normalizationRegex = noSyllablesRegExp;\n  } else if (syllablePositions.length > 0 && withSyllablesRegExp) {\n    normalizationRegex = withSyllablesRegExp;\n  } else {\n    const replace = Object.keys(CHARACTERS_TO_NORMALIZE).join(\"\");\n    const toNormalizeWithNFKC = getNormalizeWithNFKC();\n    const CJK = \"(?:\\\\p{Ideographic}|[぀-ヿ])\";\n    const HKDiacritics = \"(?:゙|゚)\";\n    const regexp = `([${replace}])|([${toNormalizeWithNFKC}])|(${HKDiacritics}\\\\n)|(\\\\p{M}+(?:-\\\\n)?)|(\\\\S-\\\\n)|(${CJK}\\\\n)|(\\\\n)`;\n    if (syllablePositions.length === 0) {\n      normalizationRegex = noSyllablesRegExp = new RegExp(regexp + \"|(\\\\u0000)\", \"gum\");\n    } else {\n      normalizationRegex = withSyllablesRegExp = new RegExp(regexp + `|(${FIRST_CHAR_SYLLABLES_REG_EXP})`, \"gum\");\n    }\n  }\n  const rawDiacriticsPositions = [];\n  while ((m = DIACRITICS_REG_EXP.exec(text)) !== null) {\n    rawDiacriticsPositions.push([m[0].length, m.index]);\n  }\n  let normalized = text.normalize(\"NFD\");\n  const positions = [[0, 0]];\n  let rawDiacriticsIndex = 0;\n  let syllableIndex = 0;\n  let shift = 0;\n  let shiftOrigin = 0;\n  let eol = 0;\n  let hasDiacritics = false;\n  normalized = normalized.replace(normalizationRegex, (match2, p1, p2, p3, p4, p5, p6, p7, p8, i) => {\n    var _a, _b, _c;\n    i -= shiftOrigin;\n    if (p1) {\n      const replacement = CHARACTERS_TO_NORMALIZE[p1];\n      const jj = replacement.length;\n      for (let j = 1; j < jj; j++) {\n        positions.push([i - shift + j, shift - j]);\n      }\n      shift -= jj - 1;\n      return replacement;\n    }\n    if (p2) {\n      let replacement = NFKC_CHARS_TO_NORMALIZE.get(p2);\n      if (!replacement) {\n        replacement = p2.normalize(\"NFKC\");\n        NFKC_CHARS_TO_NORMALIZE.set(p2, replacement);\n      }\n      const jj = replacement.length;\n      for (let j = 1; j < jj; j++) {\n        positions.push([i - shift + j, shift - j]);\n      }\n      shift -= jj - 1;\n      return replacement;\n    }\n    if (p3) {\n      hasDiacritics = true;\n      if (i + eol === ((_a = rawDiacriticsPositions[rawDiacriticsIndex]) == null ? void 0 : _a[1])) {\n        ++rawDiacriticsIndex;\n      } else {\n        positions.push([i - 1 - shift + 1, shift - 1]);\n        shift -= 1;\n        shiftOrigin += 1;\n      }\n      positions.push([i - shift + 1, shift]);\n      shiftOrigin += 1;\n      eol += 1;\n      return p3.charAt(0);\n    }\n    if (p4) {\n      const hasTrailingDashEOL = p4.endsWith(\"\\n\");\n      const len = hasTrailingDashEOL ? p4.length - 2 : p4.length;\n      hasDiacritics = true;\n      let jj = len;\n      if (i + eol === ((_b = rawDiacriticsPositions[rawDiacriticsIndex]) == null ? void 0 : _b[1])) {\n        jj -= rawDiacriticsPositions[rawDiacriticsIndex][0];\n        ++rawDiacriticsIndex;\n      }\n      for (let j = 1; j <= jj; j++) {\n        positions.push([i - 1 - shift + j, shift - j]);\n      }\n      shift -= jj;\n      shiftOrigin += jj;\n      if (hasTrailingDashEOL) {\n        i += len - 1;\n        positions.push([i - shift + 1, 1 + shift]);\n        shift += 1;\n        shiftOrigin += 1;\n        eol += 1;\n        return p4.slice(0, len);\n      }\n      return p4;\n    }\n    if (p5) {\n      const len = p5.length - 2;\n      positions.push([i - shift + len, 1 + shift]);\n      shift += 1;\n      shiftOrigin += 1;\n      eol += 1;\n      return p5.slice(0, -2);\n    }\n    if (p6) {\n      const len = p6.length - 1;\n      positions.push([i - shift + len, shift]);\n      shiftOrigin += 1;\n      eol += 1;\n      return p6.slice(0, -1);\n    }\n    if (p7) {\n      positions.push([i - shift + 1, shift - 1]);\n      shift -= 1;\n      shiftOrigin += 1;\n      eol += 1;\n      return \" \";\n    }\n    if (i + eol === ((_c = syllablePositions[syllableIndex]) == null ? void 0 : _c[1])) {\n      const newCharLen = syllablePositions[syllableIndex][0] - 1;\n      ++syllableIndex;\n      for (let j = 1; j <= newCharLen; j++) {\n        positions.push([i - (shift - j), shift - j]);\n      }\n      shift -= newCharLen;\n      shiftOrigin += newCharLen;\n    }\n    return p8;\n  });\n  positions.push([normalized.length, shift]);\n  return [normalized, positions, hasDiacritics];\n}\nfunction getOriginalIndex(diffs, pos, len) {\n  if (!diffs) {\n    return [pos, len];\n  }\n  const start = pos;\n  const end = pos + len - 1;\n  let i = binarySearchFirstItem(diffs, x => x[0] >= start);\n  if (diffs[i][0] > start) {\n    --i;\n  }\n  let j = binarySearchFirstItem(diffs, x => x[0] >= end, i);\n  if (diffs[j][0] > end) {\n    --j;\n  }\n  const oldStart = start + diffs[i][1];\n  const oldEnd = end + diffs[j][1];\n  const oldLen = oldEnd + 1 - oldStart;\n  return [oldStart, oldLen];\n}\nclass PDFFindController {\n  constructor({\n    linkService,\n    eventBus,\n    updateMatchesCountOnProgress = true\n  }) {\n    __privateAdd(this, _PDFFindController_instances);\n    __privateAdd(this, _state, null);\n    __privateAdd(this, _updateMatchesCountOnProgress, true);\n    __privateAdd(this, _visitedPagesCount, 0);\n    this._linkService = linkService;\n    this._eventBus = eventBus;\n    __privateSet(this, _updateMatchesCountOnProgress, updateMatchesCountOnProgress);\n    this.onIsPageVisible = null;\n    __privateMethod(this, _PDFFindController_instances, reset_fn).call(this);\n    eventBus._on(\"find\", __privateMethod(this, _PDFFindController_instances, onFind_fn).bind(this));\n    eventBus._on(\"findbarclose\", __privateMethod(this, _PDFFindController_instances, onFindBarClose_fn).bind(this));\n  }\n  get highlightMatches() {\n    return this._highlightMatches;\n  }\n  get pageMatches() {\n    return this._pageMatches;\n  }\n  get pageMatchesLength() {\n    return this._pageMatchesLength;\n  }\n  get selected() {\n    return this._selected;\n  }\n  get state() {\n    return __privateGet(this, _state);\n  }\n  setDocument(pdfDocument) {\n    if (this._pdfDocument) {\n      __privateMethod(this, _PDFFindController_instances, reset_fn).call(this);\n    }\n    if (!pdfDocument) {\n      return;\n    }\n    this._pdfDocument = pdfDocument;\n    this._firstPageCapability.resolve();\n  }\n  scrollMatchIntoView({\n    element = null,\n    selectedLeft = 0,\n    pageIndex = -1,\n    matchIndex = -1\n  }) {\n    if (!this._scrollMatches || !element) {\n      return;\n    } else if (matchIndex === -1 || matchIndex !== this._selected.matchIdx) {\n      return;\n    } else if (pageIndex === -1 || pageIndex !== this._selected.pageIdx) {\n      return;\n    }\n    this._scrollMatches = false;\n    const spot = {\n      top: MATCH_SCROLL_OFFSET_TOP,\n      left: selectedLeft + MATCH_SCROLL_OFFSET_LEFT\n    };\n    scrollIntoView(element, spot, true);\n  }\n}\n_state = new WeakMap();\n_updateMatchesCountOnProgress = new WeakMap();\n_visitedPagesCount = new WeakMap();\n_PDFFindController_instances = new WeakSet();\nonFind_fn = function (state) {\n  if (!state) {\n    return;\n  }\n  const pdfDocument = this._pdfDocument;\n  const {\n    type\n  } = state;\n  if (__privateGet(this, _state) === null || __privateMethod(this, _PDFFindController_instances, shouldDirtyMatch_fn).call(this, state)) {\n    this._dirtyMatch = true;\n  }\n  __privateSet(this, _state, state);\n  if (type !== \"highlightallchange\") {\n    __privateMethod(this, _PDFFindController_instances, updateUIState_fn).call(this, FindState.PENDING);\n  }\n  this._firstPageCapability.promise.then(() => {\n    if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n      return;\n    }\n    __privateMethod(this, _PDFFindController_instances, extractText_fn).call(this);\n    const findbarClosed = !this._highlightMatches;\n    const pendingTimeout = !!this._findTimeout;\n    if (this._findTimeout) {\n      clearTimeout(this._findTimeout);\n      this._findTimeout = null;\n    }\n    if (!type) {\n      this._findTimeout = setTimeout(() => {\n        __privateMethod(this, _PDFFindController_instances, nextMatch_fn).call(this);\n        this._findTimeout = null;\n      }, FIND_TIMEOUT);\n    } else if (this._dirtyMatch) {\n      __privateMethod(this, _PDFFindController_instances, nextMatch_fn).call(this);\n    } else if (type === \"again\") {\n      __privateMethod(this, _PDFFindController_instances, nextMatch_fn).call(this);\n      if (findbarClosed && __privateGet(this, _state).highlightAll) {\n        __privateMethod(this, _PDFFindController_instances, updateAllPages_fn).call(this);\n      }\n    } else if (type === \"highlightallchange\") {\n      if (pendingTimeout) {\n        __privateMethod(this, _PDFFindController_instances, nextMatch_fn).call(this);\n      } else {\n        this._highlightMatches = true;\n      }\n      __privateMethod(this, _PDFFindController_instances, updateAllPages_fn).call(this);\n    } else {\n      __privateMethod(this, _PDFFindController_instances, nextMatch_fn).call(this);\n    }\n  });\n};\nreset_fn = function () {\n  this._highlightMatches = false;\n  this._scrollMatches = false;\n  this._pdfDocument = null;\n  this._pageMatches = [];\n  this._pageMatchesLength = [];\n  __privateSet(this, _visitedPagesCount, 0);\n  __privateSet(this, _state, null);\n  this._selected = {\n    pageIdx: -1,\n    matchIdx: -1\n  };\n  this._offset = {\n    pageIdx: null,\n    matchIdx: null,\n    wrapped: false\n  };\n  this._extractTextPromises = [];\n  this._pageContents = [];\n  this._pageDiffs = [];\n  this._hasDiacritics = [];\n  this._matchesCountTotal = 0;\n  this._pagesToSearch = null;\n  this._pendingFindMatches = /* @__PURE__ */new Set();\n  this._resumePageIdx = null;\n  this._dirtyMatch = false;\n  clearTimeout(this._findTimeout);\n  this._findTimeout = null;\n  this._firstPageCapability = Promise.withResolvers();\n};\nquery_get = function () {\n  const {\n    query\n  } = __privateGet(this, _state);\n  if (typeof query === \"string\") {\n    if (query !== this._rawQuery) {\n      this._rawQuery = query;\n      [this._normalizedQuery] = normalize(query);\n    }\n    return this._normalizedQuery;\n  }\n  return (query || []).filter(q => !!q).map(q => normalize(q)[0]);\n};\nshouldDirtyMatch_fn = function (state) {\n  var _a;\n  const newQuery = state.query,\n    prevQuery = __privateGet(this, _state).query;\n  const newType = typeof newQuery,\n    prevType = typeof prevQuery;\n  if (newType !== prevType) {\n    return true;\n  }\n  if (newType === \"string\") {\n    if (newQuery !== prevQuery) {\n      return true;\n    }\n  } else if (JSON.stringify(newQuery) !== JSON.stringify(prevQuery)) {\n    return true;\n  }\n  switch (state.type) {\n    case \"again\":\n      const pageNumber = this._selected.pageIdx + 1;\n      const linkService = this._linkService;\n      return pageNumber >= 1 && pageNumber <= linkService.pagesCount && pageNumber !== linkService.page && !(((_a = this.onIsPageVisible) == null ? void 0 : _a.call(this, pageNumber)) ?? true);\n    case \"highlightallchange\":\n      return false;\n  }\n  return true;\n};\nisEntireWord_fn = function (content, startIdx, length) {\n  let match2 = content.slice(0, startIdx).match(NOT_DIACRITIC_FROM_END_REG_EXP);\n  if (match2) {\n    const first = content.charCodeAt(startIdx);\n    const limit = match2[1].charCodeAt(0);\n    if (getCharacterType(first) === getCharacterType(limit)) {\n      return false;\n    }\n  }\n  match2 = content.slice(startIdx + length).match(NOT_DIACRITIC_FROM_START_REG_EXP);\n  if (match2) {\n    const last = content.charCodeAt(startIdx + length - 1);\n    const limit = match2[1].charCodeAt(0);\n    if (getCharacterType(last) === getCharacterType(limit)) {\n      return false;\n    }\n  }\n  return true;\n};\ncalculateRegExpMatch_fn = function (query, entireWord, pageIndex, pageContent) {\n  const matches = this._pageMatches[pageIndex] = [];\n  const matchesLength = this._pageMatchesLength[pageIndex] = [];\n  if (!query) {\n    return;\n  }\n  const diffs = this._pageDiffs[pageIndex];\n  let match2;\n  while ((match2 = query.exec(pageContent)) !== null) {\n    if (entireWord && !__privateMethod(this, _PDFFindController_instances, isEntireWord_fn).call(this, pageContent, match2.index, match2[0].length)) {\n      continue;\n    }\n    const [matchPos, matchLen] = getOriginalIndex(diffs, match2.index, match2[0].length);\n    if (matchLen) {\n      matches.push(matchPos);\n      matchesLength.push(matchLen);\n    }\n  }\n};\nconvertToRegExpString_fn = function (query, hasDiacritics) {\n  const {\n    matchDiacritics\n  } = __privateGet(this, _state);\n  let isUnicode = false;\n  query = query.replaceAll(SPECIAL_CHARS_REG_EXP, (match2, p1, p2, p3, p4, p5) => {\n    if (p1) {\n      return `[ ]*\\\\${p1}[ ]*`;\n    }\n    if (p2) {\n      return `[ ]*${p2}[ ]*`;\n    }\n    if (p3) {\n      return \"[ ]+\";\n    }\n    if (matchDiacritics) {\n      return p4 || p5;\n    }\n    if (p4) {\n      return DIACRITICS_EXCEPTION.has(p4.charCodeAt(0)) ? p4 : \"\";\n    }\n    if (hasDiacritics) {\n      isUnicode = true;\n      return `${p5}\\\\p{M}*`;\n    }\n    return p5;\n  });\n  const trailingSpaces = \"[ ]*\";\n  if (query.endsWith(trailingSpaces)) {\n    query = query.slice(0, query.length - trailingSpaces.length);\n  }\n  if (matchDiacritics) {\n    if (hasDiacritics) {\n      DIACRITICS_EXCEPTION_STR || (DIACRITICS_EXCEPTION_STR = String.fromCharCode(...DIACRITICS_EXCEPTION));\n      isUnicode = true;\n      query = `${query}(?=[${DIACRITICS_EXCEPTION_STR}]|[^\\\\p{M}]|$)`;\n    }\n  }\n  return [isUnicode, query];\n};\ncalculateMatch_fn = function (pageIndex) {\n  let query = __privateGet(this, _PDFFindController_instances, query_get);\n  if (query.length === 0) {\n    return;\n  }\n  const {\n    caseSensitive,\n    entireWord\n  } = __privateGet(this, _state);\n  const pageContent = this._pageContents[pageIndex];\n  const hasDiacritics = this._hasDiacritics[pageIndex];\n  let isUnicode = false;\n  if (typeof query === \"string\") {\n    [isUnicode, query] = __privateMethod(this, _PDFFindController_instances, convertToRegExpString_fn).call(this, query, hasDiacritics);\n  } else {\n    query = query.sort().reverse().map(q => {\n      const [isUnicodePart, queryPart] = __privateMethod(this, _PDFFindController_instances, convertToRegExpString_fn).call(this, q, hasDiacritics);\n      isUnicode || (isUnicode = isUnicodePart);\n      return `(${queryPart})`;\n    }).join(\"|\");\n  }\n  const flags = `g${isUnicode ? \"u\" : \"\"}${caseSensitive ? \"\" : \"i\"}`;\n  query = query ? new RegExp(query, flags) : null;\n  __privateMethod(this, _PDFFindController_instances, calculateRegExpMatch_fn).call(this, query, entireWord, pageIndex, pageContent);\n  if (__privateGet(this, _state).highlightAll) {\n    __privateMethod(this, _PDFFindController_instances, updatePage_fn).call(this, pageIndex);\n  }\n  if (this._resumePageIdx === pageIndex) {\n    this._resumePageIdx = null;\n    __privateMethod(this, _PDFFindController_instances, nextPageMatch_fn).call(this);\n  }\n  const pageMatchesCount = this._pageMatches[pageIndex].length;\n  this._matchesCountTotal += pageMatchesCount;\n  if (__privateGet(this, _updateMatchesCountOnProgress)) {\n    if (pageMatchesCount > 0) {\n      __privateMethod(this, _PDFFindController_instances, updateUIResultsCount_fn).call(this);\n    }\n  } else if (++__privateWrapper(this, _visitedPagesCount)._ === this._linkService.pagesCount) {\n    __privateMethod(this, _PDFFindController_instances, updateUIResultsCount_fn).call(this);\n  }\n};\nextractText_fn = function () {\n  if (this._extractTextPromises.length > 0) {\n    return;\n  }\n  let deferred = Promise.resolve();\n  const textOptions = {\n    disableNormalization: true\n  };\n  for (let i = 0, ii = this._linkService.pagesCount; i < ii; i++) {\n    const {\n      promise,\n      resolve\n    } = Promise.withResolvers();\n    this._extractTextPromises[i] = promise;\n    deferred = deferred.then(() => {\n      return this._pdfDocument.getPage(i + 1).then(pdfPage => pdfPage.getTextContent(textOptions)).then(textContent => {\n        const strBuf = [];\n        for (const textItem of textContent.items) {\n          strBuf.push(textItem.str);\n          if (textItem.hasEOL) {\n            strBuf.push(\"\\n\");\n          }\n        }\n        [this._pageContents[i], this._pageDiffs[i], this._hasDiacritics[i]] = normalize(strBuf.join(\"\"));\n        resolve();\n      }, reason => {\n        console.error(`Unable to get text content for page ${i + 1}`, reason);\n        this._pageContents[i] = \"\";\n        this._pageDiffs[i] = null;\n        this._hasDiacritics[i] = false;\n        resolve();\n      });\n    });\n  }\n};\nupdatePage_fn = function (index) {\n  if (this._scrollMatches && this._selected.pageIdx === index) {\n    this._linkService.page = index + 1;\n  }\n  this._eventBus.dispatch(\"updatetextlayermatches\", {\n    source: this,\n    pageIndex: index\n  });\n};\nupdateAllPages_fn = function () {\n  this._eventBus.dispatch(\"updatetextlayermatches\", {\n    source: this,\n    pageIndex: -1\n  });\n};\nnextMatch_fn = function () {\n  const previous = __privateGet(this, _state).findPrevious;\n  const currentPageIndex = this._linkService.page - 1;\n  const numPages = this._linkService.pagesCount;\n  this._highlightMatches = true;\n  if (this._dirtyMatch) {\n    this._dirtyMatch = false;\n    this._selected.pageIdx = this._selected.matchIdx = -1;\n    this._offset.pageIdx = currentPageIndex;\n    this._offset.matchIdx = null;\n    this._offset.wrapped = false;\n    this._resumePageIdx = null;\n    this._pageMatches.length = 0;\n    this._pageMatchesLength.length = 0;\n    __privateSet(this, _visitedPagesCount, 0);\n    this._matchesCountTotal = 0;\n    __privateMethod(this, _PDFFindController_instances, updateAllPages_fn).call(this);\n    for (let i = 0; i < numPages; i++) {\n      if (this._pendingFindMatches.has(i)) {\n        continue;\n      }\n      this._pendingFindMatches.add(i);\n      this._extractTextPromises[i].then(() => {\n        this._pendingFindMatches.delete(i);\n        __privateMethod(this, _PDFFindController_instances, calculateMatch_fn).call(this, i);\n      });\n    }\n  }\n  const query = __privateGet(this, _PDFFindController_instances, query_get);\n  if (query.length === 0) {\n    __privateMethod(this, _PDFFindController_instances, updateUIState_fn).call(this, FindState.FOUND);\n    return;\n  }\n  if (this._resumePageIdx) {\n    return;\n  }\n  const offset = this._offset;\n  this._pagesToSearch = numPages;\n  if (offset.matchIdx !== null) {\n    const numPageMatches = this._pageMatches[offset.pageIdx].length;\n    if (!previous && offset.matchIdx + 1 < numPageMatches || previous && offset.matchIdx > 0) {\n      offset.matchIdx = previous ? offset.matchIdx - 1 : offset.matchIdx + 1;\n      __privateMethod(this, _PDFFindController_instances, updateMatch_fn).call(this, true);\n      return;\n    }\n    __privateMethod(this, _PDFFindController_instances, advanceOffsetPage_fn).call(this, previous);\n  }\n  __privateMethod(this, _PDFFindController_instances, nextPageMatch_fn).call(this);\n};\nmatchesReady_fn = function (matches) {\n  const offset = this._offset;\n  const numMatches = matches.length;\n  const previous = __privateGet(this, _state).findPrevious;\n  if (numMatches) {\n    offset.matchIdx = previous ? numMatches - 1 : 0;\n    __privateMethod(this, _PDFFindController_instances, updateMatch_fn).call(this, true);\n    return true;\n  }\n  __privateMethod(this, _PDFFindController_instances, advanceOffsetPage_fn).call(this, previous);\n  if (offset.wrapped) {\n    offset.matchIdx = null;\n    if (this._pagesToSearch < 0) {\n      __privateMethod(this, _PDFFindController_instances, updateMatch_fn).call(this, false);\n      return true;\n    }\n  }\n  return false;\n};\nnextPageMatch_fn = function () {\n  if (this._resumePageIdx !== null) {\n    console.error(\"There can only be one pending page.\");\n  }\n  let matches = null;\n  do {\n    const pageIdx = this._offset.pageIdx;\n    matches = this._pageMatches[pageIdx];\n    if (!matches) {\n      this._resumePageIdx = pageIdx;\n      break;\n    }\n  } while (!__privateMethod(this, _PDFFindController_instances, matchesReady_fn).call(this, matches));\n};\nadvanceOffsetPage_fn = function (previous) {\n  const offset = this._offset;\n  const numPages = this._linkService.pagesCount;\n  offset.pageIdx = previous ? offset.pageIdx - 1 : offset.pageIdx + 1;\n  offset.matchIdx = null;\n  this._pagesToSearch--;\n  if (offset.pageIdx >= numPages || offset.pageIdx < 0) {\n    offset.pageIdx = previous ? numPages - 1 : 0;\n    offset.wrapped = true;\n  }\n};\nupdateMatch_fn = function (found = false) {\n  let state = FindState.NOT_FOUND;\n  const wrapped = this._offset.wrapped;\n  this._offset.wrapped = false;\n  if (found) {\n    const previousPage = this._selected.pageIdx;\n    this._selected.pageIdx = this._offset.pageIdx;\n    this._selected.matchIdx = this._offset.matchIdx;\n    state = wrapped ? FindState.WRAPPED : FindState.FOUND;\n    if (previousPage !== -1 && previousPage !== this._selected.pageIdx) {\n      __privateMethod(this, _PDFFindController_instances, updatePage_fn).call(this, previousPage);\n    }\n  }\n  __privateMethod(this, _PDFFindController_instances, updateUIState_fn).call(this, state, __privateGet(this, _state).findPrevious);\n  if (this._selected.pageIdx !== -1) {\n    this._scrollMatches = true;\n    __privateMethod(this, _PDFFindController_instances, updatePage_fn).call(this, this._selected.pageIdx);\n  }\n};\nonFindBarClose_fn = function (evt) {\n  const pdfDocument = this._pdfDocument;\n  this._firstPageCapability.promise.then(() => {\n    if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n      return;\n    }\n    if (this._findTimeout) {\n      clearTimeout(this._findTimeout);\n      this._findTimeout = null;\n    }\n    if (this._resumePageIdx) {\n      this._resumePageIdx = null;\n      this._dirtyMatch = true;\n    }\n    __privateMethod(this, _PDFFindController_instances, updateUIState_fn).call(this, FindState.FOUND);\n    this._highlightMatches = false;\n    __privateMethod(this, _PDFFindController_instances, updateAllPages_fn).call(this);\n  });\n};\nrequestMatchesCount_fn = function () {\n  var _a;\n  const {\n    pageIdx,\n    matchIdx\n  } = this._selected;\n  let current = 0,\n    total = this._matchesCountTotal;\n  if (matchIdx !== -1) {\n    for (let i = 0; i < pageIdx; i++) {\n      current += ((_a = this._pageMatches[i]) == null ? void 0 : _a.length) || 0;\n    }\n    current += matchIdx + 1;\n  }\n  if (current < 1 || current > total) {\n    current = total = 0;\n  }\n  return {\n    current,\n    total\n  };\n};\nupdateUIResultsCount_fn = function () {\n  this._eventBus.dispatch(\"updatefindmatchescount\", {\n    source: this,\n    matchesCount: __privateMethod(this, _PDFFindController_instances, requestMatchesCount_fn).call(this)\n  });\n};\nupdateUIState_fn = function (state, previous = false) {\n  var _a, _b;\n  if (!__privateGet(this, _updateMatchesCountOnProgress) && (__privateGet(this, _visitedPagesCount) !== this._linkService.pagesCount || state === FindState.PENDING)) {\n    return;\n  }\n  this._eventBus.dispatch(\"updatefindcontrolstate\", {\n    source: this,\n    state,\n    previous,\n    entireWord: ((_a = __privateGet(this, _state)) == null ? void 0 : _a.entireWord) ?? null,\n    matchesCount: __privateMethod(this, _PDFFindController_instances, requestMatchesCount_fn).call(this),\n    rawQuery: ((_b = __privateGet(this, _state)) == null ? void 0 : _b.query) ?? null\n  });\n};\nconst DEFAULT_LINK_REL = \"noopener noreferrer nofollow\";\nconst LinkTarget = {\n  NONE: 0,\n  SELF: 1,\n  BLANK: 2,\n  PARENT: 3,\n  TOP: 4\n};\nconst _PDFLinkService = class _PDFLinkService {\n  constructor({\n    eventBus,\n    externalLinkTarget = null,\n    externalLinkRel = null,\n    ignoreDestinationZoom = false\n  } = {}) {\n    __publicField(this, \"externalLinkEnabled\", true);\n    this.eventBus = eventBus;\n    this.externalLinkTarget = externalLinkTarget;\n    this.externalLinkRel = externalLinkRel;\n    this._ignoreDestinationZoom = ignoreDestinationZoom;\n    this.baseUrl = null;\n    this.pdfDocument = null;\n    this.pdfViewer = null;\n    this.pdfHistory = null;\n  }\n  setDocument(pdfDocument, baseUrl = null) {\n    this.baseUrl = baseUrl;\n    this.pdfDocument = pdfDocument;\n  }\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n  setHistory(pdfHistory) {\n    this.pdfHistory = pdfHistory;\n  }\n  get pagesCount() {\n    return this.pdfDocument ? this.pdfDocument.numPages : 0;\n  }\n  get page() {\n    return this.pdfDocument ? this.pdfViewer.currentPageNumber : 1;\n  }\n  set page(value) {\n    if (this.pdfDocument) {\n      this.pdfViewer.currentPageNumber = value;\n    }\n  }\n  get rotation() {\n    return this.pdfDocument ? this.pdfViewer.pagesRotation : 0;\n  }\n  set rotation(value) {\n    if (this.pdfDocument) {\n      this.pdfViewer.pagesRotation = value;\n    }\n  }\n  get isInPresentationMode() {\n    return this.pdfDocument ? this.pdfViewer.isInPresentationMode : false;\n  }\n  async goToDestination(dest) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    let namedDest, explicitDest, pageNumber;\n    if (typeof dest === \"string\") {\n      namedDest = dest;\n      explicitDest = await this.pdfDocument.getDestination(dest);\n    } else {\n      namedDest = null;\n      explicitDest = await dest;\n    }\n    if (!Array.isArray(explicitDest)) {\n      console.error(`goToDestination: \"${explicitDest}\" is not a valid destination array, for dest=\"${dest}\".`);\n      return;\n    }\n    const [destRef] = explicitDest;\n    if (destRef && typeof destRef === \"object\") {\n      pageNumber = this.pdfDocument.cachedPageNumber(destRef);\n      if (!pageNumber) {\n        try {\n          pageNumber = (await this.pdfDocument.getPageIndex(destRef)) + 1;\n        } catch {\n          console.error(`goToDestination: \"${destRef}\" is not a valid page reference, for dest=\"${dest}\".`);\n          return;\n        }\n      }\n    } else if (Number.isInteger(destRef)) {\n      pageNumber = destRef + 1;\n    }\n    if (!pageNumber || pageNumber < 1 || pageNumber > this.pagesCount) {\n      console.error(`goToDestination: \"${pageNumber}\" is not a valid page number, for dest=\"${dest}\".`);\n      return;\n    }\n    if (this.pdfHistory) {\n      this.pdfHistory.pushCurrentPosition();\n      this.pdfHistory.push({\n        namedDest,\n        explicitDest,\n        pageNumber\n      });\n    }\n    this.pdfViewer.scrollPageIntoView({\n      pageNumber,\n      destArray: explicitDest,\n      ignoreDestinationZoom: this._ignoreDestinationZoom\n    });\n  }\n  goToPage(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const pageNumber = typeof val === \"string\" && this.pdfViewer.pageLabelToPageNumber(val) || val | 0;\n    if (!(Number.isInteger(pageNumber) && pageNumber > 0 && pageNumber <= this.pagesCount)) {\n      console.error(`PDFLinkService.goToPage: \"${val}\" is not a valid page.`);\n      return;\n    }\n    if (this.pdfHistory) {\n      this.pdfHistory.pushCurrentPosition();\n      this.pdfHistory.pushPage(pageNumber);\n    }\n    this.pdfViewer.scrollPageIntoView({\n      pageNumber\n    });\n  }\n  addLinkAttributes(link, url, newWindow = false) {\n    if (!url || typeof url !== \"string\") {\n      throw new Error('A valid \"url\" parameter must provided.');\n    }\n    const target = newWindow ? LinkTarget.BLANK : this.externalLinkTarget,\n      rel = this.externalLinkRel;\n    if (this.externalLinkEnabled) {\n      link.href = link.title = url;\n    } else {\n      link.href = \"\";\n      link.title = `Disabled: ${url}`;\n      link.onclick = () => false;\n    }\n    let targetStr = \"\";\n    switch (target) {\n      case LinkTarget.NONE:\n        break;\n      case LinkTarget.SELF:\n        targetStr = \"_self\";\n        break;\n      case LinkTarget.BLANK:\n        targetStr = \"_blank\";\n        break;\n      case LinkTarget.PARENT:\n        targetStr = \"_parent\";\n        break;\n      case LinkTarget.TOP:\n        targetStr = \"_top\";\n        break;\n    }\n    link.target = targetStr;\n    link.rel = typeof rel === \"string\" ? rel : DEFAULT_LINK_REL;\n  }\n  getDestinationHash(dest) {\n    if (typeof dest === \"string\") {\n      if (dest.length > 0) {\n        return this.getAnchorUrl(\"#\" + escape(dest));\n      }\n    } else if (Array.isArray(dest)) {\n      const str = JSON.stringify(dest);\n      if (str.length > 0) {\n        return this.getAnchorUrl(\"#\" + escape(str));\n      }\n    }\n    return this.getAnchorUrl(\"\");\n  }\n  getAnchorUrl(anchor) {\n    return this.baseUrl ? this.baseUrl + anchor : anchor;\n  }\n  setHash(hash) {\n    var _a;\n    if (!this.pdfDocument) {\n      return;\n    }\n    let pageNumber, dest;\n    if (hash.includes(\"=\")) {\n      const params = parseQueryString(hash);\n      if (params.has(\"search\")) {\n        const query = params.get(\"search\").replaceAll('\"', \"\"),\n          phrase = params.get(\"phrase\") === \"true\";\n        this.eventBus.dispatch(\"findfromurlhash\", {\n          source: this,\n          query: phrase ? query : query.match(/\\S+/g)\n        });\n      }\n      if (params.has(\"page\")) {\n        pageNumber = params.get(\"page\") | 0 || 1;\n      }\n      if (params.has(\"zoom\")) {\n        const zoomArgs = params.get(\"zoom\").split(\",\");\n        const zoomArg = zoomArgs[0];\n        const zoomArgNumber = parseFloat(zoomArg);\n        if (!zoomArg.includes(\"Fit\")) {\n          dest = [null, {\n            name: \"XYZ\"\n          }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null, zoomArgs.length > 2 ? zoomArgs[2] | 0 : null, zoomArgNumber ? zoomArgNumber / 100 : zoomArg];\n        } else if (zoomArg === \"Fit\" || zoomArg === \"FitB\") {\n          dest = [null, {\n            name: zoomArg\n          }];\n        } else if (zoomArg === \"FitH\" || zoomArg === \"FitBH\" || zoomArg === \"FitV\" || zoomArg === \"FitBV\") {\n          dest = [null, {\n            name: zoomArg\n          }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null];\n        } else if (zoomArg === \"FitR\") {\n          if (zoomArgs.length !== 5) {\n            console.error('PDFLinkService.setHash: Not enough parameters for \"FitR\".');\n          } else {\n            dest = [null, {\n              name: zoomArg\n            }, zoomArgs[1] | 0, zoomArgs[2] | 0, zoomArgs[3] | 0, zoomArgs[4] | 0];\n          }\n        } else {\n          console.error(`PDFLinkService.setHash: \"${zoomArg}\" is not a valid zoom value.`);\n        }\n      }\n      if (dest) {\n        this.pdfViewer.scrollPageIntoView({\n          pageNumber: pageNumber || this.page,\n          destArray: dest,\n          allowNegativeOffset: true\n        });\n      } else if (pageNumber) {\n        this.page = pageNumber;\n      }\n      if (params.has(\"pagemode\")) {\n        this.eventBus.dispatch(\"pagemode\", {\n          source: this,\n          mode: params.get(\"pagemode\")\n        });\n      }\n      if (params.has(\"nameddest\")) {\n        this.goToDestination(params.get(\"nameddest\"));\n      }\n      return;\n    }\n    dest = unescape(hash);\n    try {\n      dest = JSON.parse(dest);\n      if (!Array.isArray(dest)) {\n        dest = dest.toString();\n      }\n    } catch {}\n    if (typeof dest === \"string\" || __privateMethod(_a = _PDFLinkService, _PDFLinkService_static, isValidExplicitDest_fn).call(_a, dest)) {\n      this.goToDestination(dest);\n      return;\n    }\n    console.error(`PDFLinkService.setHash: \"${unescape(hash)}\" is not a valid destination.`);\n  }\n  executeNamedAction(action) {\n    var _a, _b;\n    if (!this.pdfDocument) {\n      return;\n    }\n    switch (action) {\n      case \"GoBack\":\n        (_a = this.pdfHistory) == null ? void 0 : _a.back();\n        break;\n      case \"GoForward\":\n        (_b = this.pdfHistory) == null ? void 0 : _b.forward();\n        break;\n      case \"NextPage\":\n        this.pdfViewer.nextPage();\n        break;\n      case \"PrevPage\":\n        this.pdfViewer.previousPage();\n        break;\n      case \"LastPage\":\n        this.page = this.pagesCount;\n        break;\n      case \"FirstPage\":\n        this.page = 1;\n        break;\n    }\n    this.eventBus.dispatch(\"namedaction\", {\n      source: this,\n      action\n    });\n  }\n  async executeSetOCGState(action) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const pdfDocument = this.pdfDocument,\n      optionalContentConfig = await this.pdfViewer.optionalContentConfigPromise;\n    if (pdfDocument !== this.pdfDocument) {\n      return;\n    }\n    optionalContentConfig.setOCGState(action);\n    this.pdfViewer.optionalContentConfigPromise = Promise.resolve(optionalContentConfig);\n  }\n};\n_PDFLinkService_static = new WeakSet();\nisValidExplicitDest_fn = function (dest) {\n  if (!Array.isArray(dest) || dest.length < 2) {\n    return false;\n  }\n  const [page, zoom, ...args] = dest;\n  if (!(typeof page === \"object\" && Number.isInteger(page == null ? void 0 : page.num) && Number.isInteger(page == null ? void 0 : page.gen)) && !Number.isInteger(page)) {\n    return false;\n  }\n  if (!(typeof zoom === \"object\" && typeof (zoom == null ? void 0 : zoom.name) === \"string\")) {\n    return false;\n  }\n  let allowNull = true;\n  switch (zoom.name) {\n    case \"XYZ\":\n      if (args.length !== 3) {\n        return false;\n      }\n      break;\n    case \"Fit\":\n    case \"FitB\":\n      return args.length === 0;\n    case \"FitH\":\n    case \"FitBH\":\n    case \"FitV\":\n    case \"FitBV\":\n      if (args.length !== 1) {\n        return false;\n      }\n      break;\n    case \"FitR\":\n      if (args.length !== 4) {\n        return false;\n      }\n      allowNull = false;\n      break;\n    default:\n      return false;\n  }\n  for (const arg of args) {\n    if (!(typeof arg === \"number\" || allowNull && arg === null)) {\n      return false;\n    }\n  }\n  return true;\n};\n__privateAdd(_PDFLinkService, _PDFLinkService_static);\nlet PDFLinkService = _PDFLinkService;\nclass SimpleLinkService extends PDFLinkService {\n  setDocument(pdfDocument, baseUrl = null) {}\n}\nconst {\n  AbortException,\n  AnnotationEditorLayer,\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  AnnotationEditorUIManager,\n  AnnotationLayer,\n  AnnotationMode,\n  build,\n  CMapCompressionType,\n  ColorPicker,\n  createValidAbsoluteUrl,\n  DOMSVGFactory,\n  DrawLayer,\n  FeatureTest,\n  fetchData,\n  getDocument,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getXfaPageViewport,\n  GlobalWorkerOptions,\n  ImageKind,\n  InvalidPDFException,\n  isDataScheme,\n  isPdfFile,\n  MissingPDFException,\n  noContextMenu,\n  normalizeUnicode,\n  OPS,\n  Outliner,\n  PasswordResponses,\n  PDFDataRangeTransport,\n  PDFDateString,\n  PDFWorker,\n  PermissionFlag,\n  PixelsPerInch,\n  RenderingCancelledException,\n  renderTextLayer,\n  setLayerDimensions,\n  shadow,\n  TextLayer,\n  UnexpectedResponseException,\n  updateTextLayer,\n  Util,\n  VerbosityLevel,\n  version,\n  XfaLayer\n} = globalThis.pdfjsLib;\nclass AnnotationLayerBuilder {\n  constructor({\n    pdfPage,\n    linkService,\n    downloadManager,\n    annotationStorage = null,\n    imageResourcesPath = \"\",\n    renderForms = true,\n    enableScripting = false,\n    hasJSActionsPromise = null,\n    fieldObjectsPromise = null,\n    annotationCanvasMap = null,\n    accessibilityManager = null,\n    annotationEditorUIManager = null,\n    onAppend = null\n  }) {\n    __privateAdd(this, _AnnotationLayerBuilder_instances);\n    __privateAdd(this, _onAppend, null);\n    __privateAdd(this, _eventAbortController, null);\n    this.pdfPage = pdfPage;\n    this.linkService = linkService;\n    this.downloadManager = downloadManager;\n    this.imageResourcesPath = imageResourcesPath;\n    this.renderForms = renderForms;\n    this.annotationStorage = annotationStorage;\n    this.enableScripting = enableScripting;\n    this._hasJSActionsPromise = hasJSActionsPromise || Promise.resolve(false);\n    this._fieldObjectsPromise = fieldObjectsPromise || Promise.resolve(null);\n    this._annotationCanvasMap = annotationCanvasMap;\n    this._accessibilityManager = accessibilityManager;\n    this._annotationEditorUIManager = annotationEditorUIManager;\n    __privateSet(this, _onAppend, onAppend);\n    this.annotationLayer = null;\n    this.div = null;\n    this._cancelled = false;\n    this._eventBus = linkService.eventBus;\n  }\n  async render(viewport, intent = \"display\") {\n    var _a, _b;\n    if (this.div) {\n      if (this._cancelled || !this.annotationLayer) {\n        return;\n      }\n      this.annotationLayer.update({\n        viewport: viewport.clone({\n          dontFlip: true\n        })\n      });\n      return;\n    }\n    const [annotations, hasJSActions, fieldObjects] = await Promise.all([this.pdfPage.getAnnotations({\n      intent\n    }), this._hasJSActionsPromise, this._fieldObjectsPromise]);\n    if (this._cancelled) {\n      return;\n    }\n    const div = this.div = document.createElement(\"div\");\n    div.className = \"annotationLayer\";\n    (_a = __privateGet(this, _onAppend)) == null ? void 0 : _a.call(this, div);\n    if (annotations.length === 0) {\n      this.hide();\n      return;\n    }\n    this.annotationLayer = new AnnotationLayer({\n      div,\n      accessibilityManager: this._accessibilityManager,\n      annotationCanvasMap: this._annotationCanvasMap,\n      annotationEditorUIManager: this._annotationEditorUIManager,\n      page: this.pdfPage,\n      viewport: viewport.clone({\n        dontFlip: true\n      })\n    });\n    await this.annotationLayer.render({\n      annotations,\n      imageResourcesPath: this.imageResourcesPath,\n      renderForms: this.renderForms,\n      linkService: this.linkService,\n      downloadManager: this.downloadManager,\n      annotationStorage: this.annotationStorage,\n      enableScripting: this.enableScripting,\n      hasJSActions,\n      fieldObjects\n    });\n    if (this.linkService.isInPresentationMode) {\n      __privateMethod(this, _AnnotationLayerBuilder_instances, updatePresentationModeState_fn).call(this, PresentationModeState.FULLSCREEN);\n    }\n    if (!__privateGet(this, _eventAbortController)) {\n      __privateSet(this, _eventAbortController, new AbortController());\n      (_b = this._eventBus) == null ? void 0 : _b._on(\"presentationmodechanged\", evt => {\n        __privateMethod(this, _AnnotationLayerBuilder_instances, updatePresentationModeState_fn).call(this, evt.state);\n      }, {\n        signal: __privateGet(this, _eventAbortController).signal\n      });\n    }\n  }\n  cancel() {\n    var _a;\n    this._cancelled = true;\n    (_a = __privateGet(this, _eventAbortController)) == null ? void 0 : _a.abort();\n    __privateSet(this, _eventAbortController, null);\n  }\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.hidden = true;\n  }\n}\n_onAppend = new WeakMap();\n_eventAbortController = new WeakMap();\n_AnnotationLayerBuilder_instances = new WeakSet();\nupdatePresentationModeState_fn = function (state) {\n  if (!this.div) {\n    return;\n  }\n  let disableFormElements = false;\n  switch (state) {\n    case PresentationModeState.FULLSCREEN:\n      disableFormElements = true;\n      break;\n    case PresentationModeState.NORMAL:\n      break;\n    default:\n      return;\n  }\n  for (const section of this.div.childNodes) {\n    if (section.hasAttribute(\"data-internal-link\")) {\n      continue;\n    }\n    section.inert = disableFormElements;\n  }\n};\nfunction download(blobUrl, filename) {\n  const a = document.createElement(\"a\");\n  if (!a.click) {\n    throw new Error('DownloadManager: \"a.click()\" is not supported.');\n  }\n  a.href = blobUrl;\n  a.target = \"_parent\";\n  if (\"download\" in a) {\n    a.download = filename;\n  }\n  (document.body || document.documentElement).append(a);\n  a.click();\n  a.remove();\n}\nclass DownloadManager {\n  constructor() {\n    __privateAdd(this, _openBlobUrls, /* @__PURE__ */new WeakMap());\n  }\n  downloadData(data, filename, contentType) {\n    const blobUrl = URL.createObjectURL(new Blob([data], {\n      type: contentType\n    }));\n    download(blobUrl, filename);\n  }\n  openOrDownloadData(data, filename, dest = null) {\n    const isPdfData = isPdfFile(filename);\n    const contentType = isPdfData ? \"application/pdf\" : \"\";\n    this.downloadData(data, filename, contentType);\n    return false;\n  }\n  download(data, url, filename, _options) {\n    let blobUrl;\n    if (data) {\n      blobUrl = URL.createObjectURL(new Blob([data], {\n        type: \"application/pdf\"\n      }));\n    } else {\n      if (!createValidAbsoluteUrl(url, \"http://example.com\")) {\n        console.error(`download - not a valid URL: ${url}`);\n        return;\n      }\n      blobUrl = url + \"#pdfjs.action=download\";\n    }\n    download(blobUrl, filename);\n  }\n}\n_openBlobUrls = new WeakMap();\nconst WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nasync function waitOnEventOrTimeout({\n  target,\n  name,\n  delay = 0\n}) {\n  if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n    throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n  }\n  const {\n    promise,\n    resolve\n  } = Promise.withResolvers();\n  const ac = new AbortController();\n  function handler(type) {\n    ac.abort();\n    clearTimeout(timeout);\n    resolve(type);\n  }\n  const evtMethod = target instanceof EventBus ? \"_on\" : \"addEventListener\";\n  target[evtMethod](name, handler.bind(null, WaitOnType.EVENT), {\n    signal: ac.signal\n  });\n  const timeout = setTimeout(handler.bind(null, WaitOnType.TIMEOUT), delay);\n  return promise;\n}\nclass EventBus {\n  constructor() {\n    __privateAdd(this, _listeners, /* @__PURE__ */Object.create(null));\n  }\n  on(eventName, listener, options = null) {\n    this._on(eventName, listener, {\n      external: true,\n      once: options == null ? void 0 : options.once,\n      signal: options == null ? void 0 : options.signal\n    });\n  }\n  off(eventName, listener, options = null) {\n    this._off(eventName, listener);\n  }\n  dispatch(eventName, data) {\n    const eventListeners = __privateGet(this, _listeners)[eventName];\n    if (!eventListeners || eventListeners.length === 0) {\n      return;\n    }\n    let externalListeners;\n    for (const {\n      listener,\n      external,\n      once\n    } of eventListeners.slice(0)) {\n      if (once) {\n        this._off(eventName, listener);\n      }\n      if (external) {\n        (externalListeners || (externalListeners = [])).push(listener);\n        continue;\n      }\n      listener(data);\n    }\n    if (externalListeners) {\n      for (const listener of externalListeners) {\n        listener(data);\n      }\n      externalListeners = null;\n    }\n  }\n  _on(eventName, listener, options = null) {\n    var _a;\n    let rmAbort = null;\n    if ((options == null ? void 0 : options.signal) instanceof AbortSignal) {\n      const {\n        signal\n      } = options;\n      if (signal.aborted) {\n        console.error(\"Cannot use an `aborted` signal.\");\n        return;\n      }\n      const onAbort = () => this._off(eventName, listener);\n      rmAbort = () => signal.removeEventListener(\"abort\", onAbort);\n      signal.addEventListener(\"abort\", onAbort);\n    }\n    const eventListeners = (_a = __privateGet(this, _listeners))[eventName] || (_a[eventName] = []);\n    eventListeners.push({\n      listener,\n      external: (options == null ? void 0 : options.external) === true,\n      once: (options == null ? void 0 : options.once) === true,\n      rmAbort\n    });\n  }\n  _off(eventName, listener, options = null) {\n    var _a;\n    const eventListeners = __privateGet(this, _listeners)[eventName];\n    if (!eventListeners) {\n      return;\n    }\n    for (let i = 0, ii = eventListeners.length; i < ii; i++) {\n      const evt = eventListeners[i];\n      if (evt.listener === listener) {\n        (_a = evt.rmAbort) == null ? void 0 : _a.call(evt);\n        eventListeners.splice(i, 1);\n        return;\n      }\n    }\n  }\n}\n_listeners = new WeakMap();\nclass FluentType {\n  constructor(value) {\n    this.value = value;\n  }\n  valueOf() {\n    return this.value;\n  }\n}\nclass FluentNone extends FluentType {\n  constructor(value = \"???\") {\n    super(value);\n  }\n  toString(scope) {\n    return `{${this.value}}`;\n  }\n}\nclass FluentNumber extends FluentType {\n  constructor(value, opts = {}) {\n    super(value);\n    this.opts = opts;\n  }\n  toString(scope) {\n    try {\n      const nf = scope.memoizeIntlObject(Intl.NumberFormat, this.opts);\n      return nf.format(this.value);\n    } catch (err) {\n      scope.reportError(err);\n      return this.value.toString(10);\n    }\n  }\n}\nclass FluentDateTime extends FluentType {\n  constructor(value, opts = {}) {\n    super(value);\n    this.opts = opts;\n  }\n  toString(scope) {\n    try {\n      const dtf = scope.memoizeIntlObject(Intl.DateTimeFormat, this.opts);\n      return dtf.format(this.value);\n    } catch (err) {\n      scope.reportError(err);\n      return new Date(this.value).toISOString();\n    }\n  }\n}\nconst MAX_PLACEABLES = 100;\nconst FSI = \"⁨\";\nconst PDI = \"⁩\";\nfunction match(scope, selector, key) {\n  if (key === selector) {\n    return true;\n  }\n  if (key instanceof FluentNumber && selector instanceof FluentNumber && key.value === selector.value) {\n    return true;\n  }\n  if (selector instanceof FluentNumber && typeof key === \"string\") {\n    let category = scope.memoizeIntlObject(Intl.PluralRules, selector.opts).select(selector.value);\n    if (key === category) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction getDefault(scope, variants, star) {\n  if (variants[star]) {\n    return resolvePattern(scope, variants[star].value);\n  }\n  scope.reportError(new RangeError(\"No default\"));\n  return new FluentNone();\n}\nfunction getArguments(scope, args) {\n  const positional = [];\n  const named = /* @__PURE__ */Object.create(null);\n  for (const arg of args) {\n    if (arg.type === \"narg\") {\n      named[arg.name] = resolveExpression(scope, arg.value);\n    } else {\n      positional.push(resolveExpression(scope, arg));\n    }\n  }\n  return {\n    positional,\n    named\n  };\n}\nfunction resolveExpression(scope, expr) {\n  switch (expr.type) {\n    case \"str\":\n      return expr.value;\n    case \"num\":\n      return new FluentNumber(expr.value, {\n        minimumFractionDigits: expr.precision\n      });\n    case \"var\":\n      return resolveVariableReference(scope, expr);\n    case \"mesg\":\n      return resolveMessageReference(scope, expr);\n    case \"term\":\n      return resolveTermReference(scope, expr);\n    case \"func\":\n      return resolveFunctionReference(scope, expr);\n    case \"select\":\n      return resolveSelectExpression(scope, expr);\n    default:\n      return new FluentNone();\n  }\n}\nfunction resolveVariableReference(scope, {\n  name\n}) {\n  let arg;\n  if (scope.params) {\n    if (Object.prototype.hasOwnProperty.call(scope.params, name)) {\n      arg = scope.params[name];\n    } else {\n      return new FluentNone(`$${name}`);\n    }\n  } else if (scope.args && Object.prototype.hasOwnProperty.call(scope.args, name)) {\n    arg = scope.args[name];\n  } else {\n    scope.reportError(new ReferenceError(`Unknown variable: $${name}`));\n    return new FluentNone(`$${name}`);\n  }\n  if (arg instanceof FluentType) {\n    return arg;\n  }\n  switch (typeof arg) {\n    case \"string\":\n      return arg;\n    case \"number\":\n      return new FluentNumber(arg);\n    case \"object\":\n      if (arg instanceof Date) {\n        return new FluentDateTime(arg.getTime());\n      }\n    default:\n      scope.reportError(new TypeError(`Variable type not supported: $${name}, ${typeof arg}`));\n      return new FluentNone(`$${name}`);\n  }\n}\nfunction resolveMessageReference(scope, {\n  name,\n  attr\n}) {\n  const message = scope.bundle._messages.get(name);\n  if (!message) {\n    scope.reportError(new ReferenceError(`Unknown message: ${name}`));\n    return new FluentNone(name);\n  }\n  if (attr) {\n    const attribute = message.attributes[attr];\n    if (attribute) {\n      return resolvePattern(scope, attribute);\n    }\n    scope.reportError(new ReferenceError(`Unknown attribute: ${attr}`));\n    return new FluentNone(`${name}.${attr}`);\n  }\n  if (message.value) {\n    return resolvePattern(scope, message.value);\n  }\n  scope.reportError(new ReferenceError(`No value: ${name}`));\n  return new FluentNone(name);\n}\nfunction resolveTermReference(scope, {\n  name,\n  attr,\n  args\n}) {\n  const id = `-${name}`;\n  const term = scope.bundle._terms.get(id);\n  if (!term) {\n    scope.reportError(new ReferenceError(`Unknown term: ${id}`));\n    return new FluentNone(id);\n  }\n  if (attr) {\n    const attribute = term.attributes[attr];\n    if (attribute) {\n      scope.params = getArguments(scope, args).named;\n      const resolved2 = resolvePattern(scope, attribute);\n      scope.params = null;\n      return resolved2;\n    }\n    scope.reportError(new ReferenceError(`Unknown attribute: ${attr}`));\n    return new FluentNone(`${id}.${attr}`);\n  }\n  scope.params = getArguments(scope, args).named;\n  const resolved = resolvePattern(scope, term.value);\n  scope.params = null;\n  return resolved;\n}\nfunction resolveFunctionReference(scope, {\n  name,\n  args\n}) {\n  let func = scope.bundle._functions[name];\n  if (!func) {\n    scope.reportError(new ReferenceError(`Unknown function: ${name}()`));\n    return new FluentNone(`${name}()`);\n  }\n  if (typeof func !== \"function\") {\n    scope.reportError(new TypeError(`Function ${name}() is not callable`));\n    return new FluentNone(`${name}()`);\n  }\n  try {\n    let resolved = getArguments(scope, args);\n    return func(resolved.positional, resolved.named);\n  } catch (err) {\n    scope.reportError(err);\n    return new FluentNone(`${name}()`);\n  }\n}\nfunction resolveSelectExpression(scope, {\n  selector,\n  variants,\n  star\n}) {\n  let sel = resolveExpression(scope, selector);\n  if (sel instanceof FluentNone) {\n    return getDefault(scope, variants, star);\n  }\n  for (const variant of variants) {\n    const key = resolveExpression(scope, variant.key);\n    if (match(scope, sel, key)) {\n      return resolvePattern(scope, variant.value);\n    }\n  }\n  return getDefault(scope, variants, star);\n}\nfunction resolveComplexPattern(scope, ptn) {\n  if (scope.dirty.has(ptn)) {\n    scope.reportError(new RangeError(\"Cyclic reference\"));\n    return new FluentNone();\n  }\n  scope.dirty.add(ptn);\n  const result = [];\n  const useIsolating = scope.bundle._useIsolating && ptn.length > 1;\n  for (const elem of ptn) {\n    if (typeof elem === \"string\") {\n      result.push(scope.bundle._transform(elem));\n      continue;\n    }\n    scope.placeables++;\n    if (scope.placeables > MAX_PLACEABLES) {\n      scope.dirty.delete(ptn);\n      throw new RangeError(`Too many placeables expanded: ${scope.placeables}, max allowed is ${MAX_PLACEABLES}`);\n    }\n    if (useIsolating) {\n      result.push(FSI);\n    }\n    result.push(resolveExpression(scope, elem).toString(scope));\n    if (useIsolating) {\n      result.push(PDI);\n    }\n  }\n  scope.dirty.delete(ptn);\n  return result.join(\"\");\n}\nfunction resolvePattern(scope, value) {\n  if (typeof value === \"string\") {\n    return scope.bundle._transform(value);\n  }\n  return resolveComplexPattern(scope, value);\n}\nclass Scope {\n  constructor(bundle, errors, args) {\n    this.dirty = /* @__PURE__ */new WeakSet();\n    this.params = null;\n    this.placeables = 0;\n    this.bundle = bundle;\n    this.errors = errors;\n    this.args = args;\n  }\n  reportError(error) {\n    if (!this.errors || !(error instanceof Error)) {\n      throw error;\n    }\n    this.errors.push(error);\n  }\n  memoizeIntlObject(ctor, opts) {\n    let cache2 = this.bundle._intls.get(ctor);\n    if (!cache2) {\n      cache2 = {};\n      this.bundle._intls.set(ctor, cache2);\n    }\n    let id = JSON.stringify(opts);\n    if (!cache2[id]) {\n      cache2[id] = new ctor(this.bundle.locales, opts);\n    }\n    return cache2[id];\n  }\n}\nfunction values(opts, allowed) {\n  const unwrapped = /* @__PURE__ */Object.create(null);\n  for (const [name, opt] of Object.entries(opts)) {\n    if (allowed.includes(name)) {\n      unwrapped[name] = opt.valueOf();\n    }\n  }\n  return unwrapped;\n}\nconst NUMBER_ALLOWED = [\"unitDisplay\", \"currencyDisplay\", \"useGrouping\", \"minimumIntegerDigits\", \"minimumFractionDigits\", \"maximumFractionDigits\", \"minimumSignificantDigits\", \"maximumSignificantDigits\"];\nfunction NUMBER(args, opts) {\n  let arg = args[0];\n  if (arg instanceof FluentNone) {\n    return new FluentNone(`NUMBER(${arg.valueOf()})`);\n  }\n  if (arg instanceof FluentNumber) {\n    return new FluentNumber(arg.valueOf(), {\n      ...arg.opts,\n      ...values(opts, NUMBER_ALLOWED)\n    });\n  }\n  if (arg instanceof FluentDateTime) {\n    return new FluentNumber(arg.valueOf(), {\n      ...values(opts, NUMBER_ALLOWED)\n    });\n  }\n  throw new TypeError(\"Invalid argument to NUMBER\");\n}\nconst DATETIME_ALLOWED = [\"dateStyle\", \"timeStyle\", \"fractionalSecondDigits\", \"dayPeriod\", \"hour12\", \"weekday\", \"era\", \"year\", \"month\", \"day\", \"hour\", \"minute\", \"second\", \"timeZoneName\"];\nfunction DATETIME(args, opts) {\n  let arg = args[0];\n  if (arg instanceof FluentNone) {\n    return new FluentNone(`DATETIME(${arg.valueOf()})`);\n  }\n  if (arg instanceof FluentDateTime) {\n    return new FluentDateTime(arg.valueOf(), {\n      ...arg.opts,\n      ...values(opts, DATETIME_ALLOWED)\n    });\n  }\n  if (arg instanceof FluentNumber) {\n    return new FluentDateTime(arg.valueOf(), {\n      ...values(opts, DATETIME_ALLOWED)\n    });\n  }\n  throw new TypeError(\"Invalid argument to DATETIME\");\n}\nconst cache = /* @__PURE__ */new Map();\nfunction getMemoizerForLocale(locales) {\n  const stringLocale = Array.isArray(locales) ? locales.join(\" \") : locales;\n  let memoizer = cache.get(stringLocale);\n  if (memoizer === void 0) {\n    memoizer = /* @__PURE__ */new Map();\n    cache.set(stringLocale, memoizer);\n  }\n  return memoizer;\n}\nclass FluentBundle {\n  constructor(locales, {\n    functions,\n    useIsolating = true,\n    transform = v => v\n  } = {}) {\n    this._terms = /* @__PURE__ */new Map();\n    this._messages = /* @__PURE__ */new Map();\n    this.locales = Array.isArray(locales) ? locales : [locales];\n    this._functions = {\n      NUMBER,\n      DATETIME,\n      ...functions\n    };\n    this._useIsolating = useIsolating;\n    this._transform = transform;\n    this._intls = getMemoizerForLocale(locales);\n  }\n  hasMessage(id) {\n    return this._messages.has(id);\n  }\n  getMessage(id) {\n    return this._messages.get(id);\n  }\n  addResource(res, {\n    allowOverrides = false\n  } = {}) {\n    const errors = [];\n    for (let i = 0; i < res.body.length; i++) {\n      let entry = res.body[i];\n      if (entry.id.startsWith(\"-\")) {\n        if (allowOverrides === false && this._terms.has(entry.id)) {\n          errors.push(new Error(`Attempt to override an existing term: \"${entry.id}\"`));\n          continue;\n        }\n        this._terms.set(entry.id, entry);\n      } else {\n        if (allowOverrides === false && this._messages.has(entry.id)) {\n          errors.push(new Error(`Attempt to override an existing message: \"${entry.id}\"`));\n          continue;\n        }\n        this._messages.set(entry.id, entry);\n      }\n    }\n    return errors;\n  }\n  formatPattern(pattern, args = null, errors = null) {\n    if (typeof pattern === \"string\") {\n      return this._transform(pattern);\n    }\n    let scope = new Scope(this, errors, args);\n    try {\n      let value = resolveComplexPattern(scope, pattern);\n      return value.toString(scope);\n    } catch (err) {\n      if (scope.errors && err instanceof Error) {\n        scope.errors.push(err);\n        return new FluentNone().toString(scope);\n      }\n      throw err;\n    }\n  }\n}\nconst RE_MESSAGE_START = /^(-?[a-zA-Z][\\w-]*) *= */gm;\nconst RE_ATTRIBUTE_START = /\\.([a-zA-Z][\\w-]*) *= */y;\nconst RE_VARIANT_START = /\\*?\\[/y;\nconst RE_NUMBER_LITERAL = /(-?[0-9]+(?:\\.([0-9]+))?)/y;\nconst RE_IDENTIFIER = /([a-zA-Z][\\w-]*)/y;\nconst RE_REFERENCE = /([$-])?([a-zA-Z][\\w-]*)(?:\\.([a-zA-Z][\\w-]*))?/y;\nconst RE_FUNCTION_NAME = /^[A-Z][A-Z0-9_-]*$/;\nconst RE_TEXT_RUN = /([^{}\\n\\r]+)/y;\nconst RE_STRING_RUN = /([^\\\\\"\\n\\r]*)/y;\nconst RE_STRING_ESCAPE = /\\\\([\\\\\"])/y;\nconst RE_UNICODE_ESCAPE = /\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{6})/y;\nconst RE_LEADING_NEWLINES = /^\\n+/;\nconst RE_TRAILING_SPACES = / +$/;\nconst RE_BLANK_LINES = / *\\r?\\n/g;\nconst RE_INDENT = /( *)$/;\nconst TOKEN_BRACE_OPEN = /{\\s*/y;\nconst TOKEN_BRACE_CLOSE = /\\s*}/y;\nconst TOKEN_BRACKET_OPEN = /\\[\\s*/y;\nconst TOKEN_BRACKET_CLOSE = /\\s*] */y;\nconst TOKEN_PAREN_OPEN = /\\s*\\(\\s*/y;\nconst TOKEN_ARROW = /\\s*->\\s*/y;\nconst TOKEN_COLON = /\\s*:\\s*/y;\nconst TOKEN_COMMA = /\\s*,?\\s*/y;\nconst TOKEN_BLANK = /\\s+/y;\nclass FluentResource {\n  constructor(source) {\n    this.body = [];\n    RE_MESSAGE_START.lastIndex = 0;\n    let cursor = 0;\n    while (true) {\n      let next = RE_MESSAGE_START.exec(source);\n      if (next === null) {\n        break;\n      }\n      cursor = RE_MESSAGE_START.lastIndex;\n      try {\n        this.body.push(parseMessage(next[1]));\n      } catch (err) {\n        if (err instanceof SyntaxError) {\n          continue;\n        }\n        throw err;\n      }\n    }\n    function test(re) {\n      re.lastIndex = cursor;\n      return re.test(source);\n    }\n    function consumeChar(char, errorClass) {\n      if (source[cursor] === char) {\n        cursor++;\n        return true;\n      }\n      if (errorClass) {\n        throw new errorClass(`Expected ${char}`);\n      }\n      return false;\n    }\n    function consumeToken(re, errorClass) {\n      if (test(re)) {\n        cursor = re.lastIndex;\n        return true;\n      }\n      if (errorClass) {\n        throw new errorClass(`Expected ${re.toString()}`);\n      }\n      return false;\n    }\n    function match2(re) {\n      re.lastIndex = cursor;\n      let result = re.exec(source);\n      if (result === null) {\n        throw new SyntaxError(`Expected ${re.toString()}`);\n      }\n      cursor = re.lastIndex;\n      return result;\n    }\n    function match1(re) {\n      return match2(re)[1];\n    }\n    function parseMessage(id) {\n      let value = parsePattern();\n      let attributes = parseAttributes();\n      if (value === null && Object.keys(attributes).length === 0) {\n        throw new SyntaxError(\"Expected message value or attributes\");\n      }\n      return {\n        id,\n        value,\n        attributes\n      };\n    }\n    function parseAttributes() {\n      let attrs = /* @__PURE__ */Object.create(null);\n      while (test(RE_ATTRIBUTE_START)) {\n        let name = match1(RE_ATTRIBUTE_START);\n        let value = parsePattern();\n        if (value === null) {\n          throw new SyntaxError(\"Expected attribute value\");\n        }\n        attrs[name] = value;\n      }\n      return attrs;\n    }\n    function parsePattern() {\n      let first;\n      if (test(RE_TEXT_RUN)) {\n        first = match1(RE_TEXT_RUN);\n      }\n      if (source[cursor] === \"{\" || source[cursor] === \"}\") {\n        return parsePatternElements(first ? [first] : [], Infinity);\n      }\n      let indent = parseIndent();\n      if (indent) {\n        if (first) {\n          return parsePatternElements([first, indent], indent.length);\n        }\n        indent.value = trim(indent.value, RE_LEADING_NEWLINES);\n        return parsePatternElements([indent], indent.length);\n      }\n      if (first) {\n        return trim(first, RE_TRAILING_SPACES);\n      }\n      return null;\n    }\n    function parsePatternElements(elements = [], commonIndent) {\n      while (true) {\n        if (test(RE_TEXT_RUN)) {\n          elements.push(match1(RE_TEXT_RUN));\n          continue;\n        }\n        if (source[cursor] === \"{\") {\n          elements.push(parsePlaceable());\n          continue;\n        }\n        if (source[cursor] === \"}\") {\n          throw new SyntaxError(\"Unbalanced closing brace\");\n        }\n        let indent = parseIndent();\n        if (indent) {\n          elements.push(indent);\n          commonIndent = Math.min(commonIndent, indent.length);\n          continue;\n        }\n        break;\n      }\n      let lastIndex = elements.length - 1;\n      let lastElement = elements[lastIndex];\n      if (typeof lastElement === \"string\") {\n        elements[lastIndex] = trim(lastElement, RE_TRAILING_SPACES);\n      }\n      let baked = [];\n      for (let element of elements) {\n        if (element instanceof Indent) {\n          element = element.value.slice(0, element.value.length - commonIndent);\n        }\n        if (element) {\n          baked.push(element);\n        }\n      }\n      return baked;\n    }\n    function parsePlaceable() {\n      consumeToken(TOKEN_BRACE_OPEN, SyntaxError);\n      let selector = parseInlineExpression();\n      if (consumeToken(TOKEN_BRACE_CLOSE)) {\n        return selector;\n      }\n      if (consumeToken(TOKEN_ARROW)) {\n        let variants = parseVariants();\n        consumeToken(TOKEN_BRACE_CLOSE, SyntaxError);\n        return {\n          type: \"select\",\n          selector,\n          ...variants\n        };\n      }\n      throw new SyntaxError(\"Unclosed placeable\");\n    }\n    function parseInlineExpression() {\n      if (source[cursor] === \"{\") {\n        return parsePlaceable();\n      }\n      if (test(RE_REFERENCE)) {\n        let [, sigil, name, attr = null] = match2(RE_REFERENCE);\n        if (sigil === \"$\") {\n          return {\n            type: \"var\",\n            name\n          };\n        }\n        if (consumeToken(TOKEN_PAREN_OPEN)) {\n          let args = parseArguments();\n          if (sigil === \"-\") {\n            return {\n              type: \"term\",\n              name,\n              attr,\n              args\n            };\n          }\n          if (RE_FUNCTION_NAME.test(name)) {\n            return {\n              type: \"func\",\n              name,\n              args\n            };\n          }\n          throw new SyntaxError(\"Function names must be all upper-case\");\n        }\n        if (sigil === \"-\") {\n          return {\n            type: \"term\",\n            name,\n            attr,\n            args: []\n          };\n        }\n        return {\n          type: \"mesg\",\n          name,\n          attr\n        };\n      }\n      return parseLiteral();\n    }\n    function parseArguments() {\n      let args = [];\n      while (true) {\n        switch (source[cursor]) {\n          case \")\":\n            cursor++;\n            return args;\n          case void 0:\n            throw new SyntaxError(\"Unclosed argument list\");\n        }\n        args.push(parseArgument());\n        consumeToken(TOKEN_COMMA);\n      }\n    }\n    function parseArgument() {\n      let expr = parseInlineExpression();\n      if (expr.type !== \"mesg\") {\n        return expr;\n      }\n      if (consumeToken(TOKEN_COLON)) {\n        return {\n          type: \"narg\",\n          name: expr.name,\n          value: parseLiteral()\n        };\n      }\n      return expr;\n    }\n    function parseVariants() {\n      let variants = [];\n      let count = 0;\n      let star;\n      while (test(RE_VARIANT_START)) {\n        if (consumeChar(\"*\")) {\n          star = count;\n        }\n        let key = parseVariantKey();\n        let value = parsePattern();\n        if (value === null) {\n          throw new SyntaxError(\"Expected variant value\");\n        }\n        variants[count++] = {\n          key,\n          value\n        };\n      }\n      if (count === 0) {\n        return null;\n      }\n      if (star === void 0) {\n        throw new SyntaxError(\"Expected default variant\");\n      }\n      return {\n        variants,\n        star\n      };\n    }\n    function parseVariantKey() {\n      consumeToken(TOKEN_BRACKET_OPEN, SyntaxError);\n      let key;\n      if (test(RE_NUMBER_LITERAL)) {\n        key = parseNumberLiteral();\n      } else {\n        key = {\n          type: \"str\",\n          value: match1(RE_IDENTIFIER)\n        };\n      }\n      consumeToken(TOKEN_BRACKET_CLOSE, SyntaxError);\n      return key;\n    }\n    function parseLiteral() {\n      if (test(RE_NUMBER_LITERAL)) {\n        return parseNumberLiteral();\n      }\n      if (source[cursor] === '\"') {\n        return parseStringLiteral();\n      }\n      throw new SyntaxError(\"Invalid expression\");\n    }\n    function parseNumberLiteral() {\n      let [, value, fraction = \"\"] = match2(RE_NUMBER_LITERAL);\n      let precision = fraction.length;\n      return {\n        type: \"num\",\n        value: parseFloat(value),\n        precision\n      };\n    }\n    function parseStringLiteral() {\n      consumeChar('\"', SyntaxError);\n      let value = \"\";\n      while (true) {\n        value += match1(RE_STRING_RUN);\n        if (source[cursor] === \"\\\\\") {\n          value += parseEscapeSequence();\n          continue;\n        }\n        if (consumeChar('\"')) {\n          return {\n            type: \"str\",\n            value\n          };\n        }\n        throw new SyntaxError(\"Unclosed string literal\");\n      }\n    }\n    function parseEscapeSequence() {\n      if (test(RE_STRING_ESCAPE)) {\n        return match1(RE_STRING_ESCAPE);\n      }\n      if (test(RE_UNICODE_ESCAPE)) {\n        let [, codepoint4, codepoint6] = match2(RE_UNICODE_ESCAPE);\n        let codepoint = parseInt(codepoint4 || codepoint6, 16);\n        return codepoint <= 55295 || 57344 <= codepoint ? String.fromCodePoint(codepoint) : \"�\";\n      }\n      throw new SyntaxError(\"Unknown escape sequence\");\n    }\n    function parseIndent() {\n      let start = cursor;\n      consumeToken(TOKEN_BLANK);\n      switch (source[cursor]) {\n        case \".\":\n        case \"[\":\n        case \"*\":\n        case \"}\":\n        case void 0:\n          return false;\n        case \"{\":\n          return makeIndent(source.slice(start, cursor));\n      }\n      if (source[cursor - 1] === \" \") {\n        return makeIndent(source.slice(start, cursor));\n      }\n      return false;\n    }\n    function trim(text, re) {\n      return text.replace(re, \"\");\n    }\n    function makeIndent(blank) {\n      let value = blank.replace(RE_BLANK_LINES, \"\\n\");\n      let length = RE_INDENT.exec(blank)[1].length;\n      return new Indent(value, length);\n    }\n  }\n}\nclass Indent {\n  constructor(value, length) {\n    this.value = value;\n    this.length = length;\n  }\n}\nconst reOverlay = /<|&#?\\w+;/;\nconst TEXT_LEVEL_ELEMENTS = {\n  \"http://www.w3.org/1999/xhtml\": [\"em\", \"strong\", \"small\", \"s\", \"cite\", \"q\", \"dfn\", \"abbr\", \"data\", \"time\", \"code\", \"var\", \"samp\", \"kbd\", \"sub\", \"sup\", \"i\", \"b\", \"u\", \"mark\", \"bdi\", \"bdo\", \"span\", \"br\", \"wbr\"]\n};\nconst LOCALIZABLE_ATTRIBUTES = {\n  \"http://www.w3.org/1999/xhtml\": {\n    global: [\"title\", \"aria-label\", \"aria-valuetext\"],\n    a: [\"download\"],\n    area: [\"download\", \"alt\"],\n    input: [\"alt\", \"placeholder\"],\n    menuitem: [\"label\"],\n    menu: [\"label\"],\n    optgroup: [\"label\"],\n    option: [\"label\"],\n    track: [\"label\"],\n    img: [\"alt\"],\n    textarea: [\"placeholder\"],\n    th: [\"abbr\"]\n  },\n  \"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\": {\n    global: [\"accesskey\", \"aria-label\", \"aria-valuetext\", \"label\", \"title\", \"tooltiptext\"],\n    description: [\"value\"],\n    key: [\"key\", \"keycode\"],\n    label: [\"value\"],\n    textbox: [\"placeholder\", \"value\"]\n  }\n};\nfunction translateElement(element, translation) {\n  const {\n    value\n  } = translation;\n  if (typeof value === \"string\") {\n    if (element.localName === \"title\" && element.namespaceURI === \"http://www.w3.org/1999/xhtml\") {\n      element.textContent = value;\n    } else if (!reOverlay.test(value)) {\n      element.textContent = value;\n    } else {\n      const templateElement = element.ownerDocument.createElementNS(\"http://www.w3.org/1999/xhtml\", \"template\");\n      templateElement.innerHTML = value;\n      overlayChildNodes(templateElement.content, element);\n    }\n  }\n  overlayAttributes(translation, element);\n}\nfunction overlayChildNodes(fromFragment, toElement) {\n  for (const childNode of fromFragment.childNodes) {\n    if (childNode.nodeType === childNode.TEXT_NODE) {\n      continue;\n    }\n    if (childNode.hasAttribute(\"data-l10n-name\")) {\n      const sanitized = getNodeForNamedElement(toElement, childNode);\n      fromFragment.replaceChild(sanitized, childNode);\n      continue;\n    }\n    if (isElementAllowed(childNode)) {\n      const sanitized = createSanitizedElement(childNode);\n      fromFragment.replaceChild(sanitized, childNode);\n      continue;\n    }\n    console.warn(`An element of forbidden type \"${childNode.localName}\" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`);\n    fromFragment.replaceChild(createTextNodeFromTextContent(childNode), childNode);\n  }\n  toElement.textContent = \"\";\n  toElement.appendChild(fromFragment);\n}\nfunction hasAttribute(attributes, name) {\n  if (!attributes) {\n    return false;\n  }\n  for (let attr of attributes) {\n    if (attr.name === name) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction overlayAttributes(fromElement, toElement) {\n  const explicitlyAllowed = toElement.hasAttribute(\"data-l10n-attrs\") ? toElement.getAttribute(\"data-l10n-attrs\").split(\",\").map(i => i.trim()) : null;\n  for (const attr of Array.from(toElement.attributes)) {\n    if (isAttrNameLocalizable(attr.name, toElement, explicitlyAllowed) && !hasAttribute(fromElement.attributes, attr.name)) {\n      toElement.removeAttribute(attr.name);\n    }\n  }\n  if (!fromElement.attributes) {\n    return;\n  }\n  for (const attr of Array.from(fromElement.attributes)) {\n    if (isAttrNameLocalizable(attr.name, toElement, explicitlyAllowed) && toElement.getAttribute(attr.name) !== attr.value) {\n      toElement.setAttribute(attr.name, attr.value);\n    }\n  }\n}\nfunction getNodeForNamedElement(sourceElement, translatedChild) {\n  const childName = translatedChild.getAttribute(\"data-l10n-name\");\n  const sourceChild = sourceElement.querySelector(`[data-l10n-name=\"${childName}\"]`);\n  if (!sourceChild) {\n    console.warn(`An element named \"${childName}\" wasn't found in the source.`);\n    return createTextNodeFromTextContent(translatedChild);\n  }\n  if (sourceChild.localName !== translatedChild.localName) {\n    console.warn(`An element named \"${childName}\" was found in the translation but its type ${translatedChild.localName} didn't match the element found in the source (${sourceChild.localName}).`);\n    return createTextNodeFromTextContent(translatedChild);\n  }\n  sourceElement.removeChild(sourceChild);\n  const clone = sourceChild.cloneNode(false);\n  return shallowPopulateUsing(translatedChild, clone);\n}\nfunction createSanitizedElement(element) {\n  const clone = element.ownerDocument.createElement(element.localName);\n  return shallowPopulateUsing(element, clone);\n}\nfunction createTextNodeFromTextContent(element) {\n  return element.ownerDocument.createTextNode(element.textContent);\n}\nfunction isElementAllowed(element) {\n  const allowed = TEXT_LEVEL_ELEMENTS[element.namespaceURI];\n  return allowed && allowed.includes(element.localName);\n}\nfunction isAttrNameLocalizable(name, element, explicitlyAllowed = null) {\n  if (explicitlyAllowed && explicitlyAllowed.includes(name)) {\n    return true;\n  }\n  const allowed = LOCALIZABLE_ATTRIBUTES[element.namespaceURI];\n  if (!allowed) {\n    return false;\n  }\n  const attrName = name.toLowerCase();\n  const elemName = element.localName;\n  if (allowed.global.includes(attrName)) {\n    return true;\n  }\n  if (!allowed[elemName]) {\n    return false;\n  }\n  if (allowed[elemName].includes(attrName)) {\n    return true;\n  }\n  if (element.namespaceURI === \"http://www.w3.org/1999/xhtml\" && elemName === \"input\" && attrName === \"value\") {\n    const type = element.type.toLowerCase();\n    if (type === \"submit\" || type === \"button\" || type === \"reset\") {\n      return true;\n    }\n  }\n  return false;\n}\nfunction shallowPopulateUsing(fromElement, toElement) {\n  toElement.textContent = fromElement.textContent;\n  overlayAttributes(fromElement, toElement);\n  return toElement;\n}\nclass CachedIterable extends Array {\n  static from(iterable) {\n    if (iterable instanceof this) {\n      return iterable;\n    }\n    return new this(iterable);\n  }\n}\nclass CachedAsyncIterable extends CachedIterable {\n  constructor(iterable) {\n    super();\n    if (Symbol.asyncIterator in Object(iterable)) {\n      this.iterator = iterable[Symbol.asyncIterator]();\n    } else if (Symbol.iterator in Object(iterable)) {\n      this.iterator = iterable[Symbol.iterator]();\n    } else {\n      throw new TypeError(\"Argument must implement the iteration protocol.\");\n    }\n  }\n  [Symbol.asyncIterator]() {\n    const cached = this;\n    let cur = 0;\n    return {\n      async next() {\n        if (cached.length <= cur) {\n          cached.push(cached.iterator.next());\n        }\n        return cached[cur++];\n      }\n    };\n  }\n  async touchNext(count = 1) {\n    let idx = 0;\n    while (idx++ < count) {\n      const last = this[this.length - 1];\n      if (last && (await last).done) {\n        break;\n      }\n      this.push(this.iterator.next());\n    }\n    return this[this.length - 1];\n  }\n}\nclass Localization {\n  constructor(resourceIds = [], generateBundles) {\n    this.resourceIds = resourceIds;\n    this.generateBundles = generateBundles;\n    this.onChange(true);\n  }\n  addResourceIds(resourceIds, eager = false) {\n    this.resourceIds.push(...resourceIds);\n    this.onChange(eager);\n    return this.resourceIds.length;\n  }\n  removeResourceIds(resourceIds) {\n    this.resourceIds = this.resourceIds.filter(r => !resourceIds.includes(r));\n    this.onChange();\n    return this.resourceIds.length;\n  }\n  async formatWithFallback(keys, method) {\n    const translations = [];\n    let hasAtLeastOneBundle = false;\n    for await (const bundle of this.bundles) {\n      hasAtLeastOneBundle = true;\n      const missingIds = keysFromBundle(method, bundle, keys, translations);\n      if (missingIds.size === 0) {\n        break;\n      }\n      if (typeof console !== \"undefined\") {\n        const locale = bundle.locales[0];\n        const ids = Array.from(missingIds).join(\", \");\n        console.warn(`[fluent] Missing translations in ${locale}: ${ids}`);\n      }\n    }\n    if (!hasAtLeastOneBundle && typeof console !== \"undefined\") {\n      console.warn(`[fluent] Request for keys failed because no resource bundles got generated.\n  keys: ${JSON.stringify(keys)}.\n  resourceIds: ${JSON.stringify(this.resourceIds)}.`);\n    }\n    return translations;\n  }\n  formatMessages(keys) {\n    return this.formatWithFallback(keys, messageFromBundle);\n  }\n  formatValues(keys) {\n    return this.formatWithFallback(keys, valueFromBundle);\n  }\n  async formatValue(id, args) {\n    const [val] = await this.formatValues([{\n      id,\n      args\n    }]);\n    return val;\n  }\n  handleEvent() {\n    this.onChange();\n  }\n  onChange(eager = false) {\n    this.bundles = CachedAsyncIterable.from(this.generateBundles(this.resourceIds));\n    if (eager) {\n      this.bundles.touchNext(2);\n    }\n  }\n}\nfunction valueFromBundle(bundle, errors, message, args) {\n  if (message.value) {\n    return bundle.formatPattern(message.value, args, errors);\n  }\n  return null;\n}\nfunction messageFromBundle(bundle, errors, message, args) {\n  const formatted = {\n    value: null,\n    attributes: null\n  };\n  if (message.value) {\n    formatted.value = bundle.formatPattern(message.value, args, errors);\n  }\n  let attrNames = Object.keys(message.attributes);\n  if (attrNames.length > 0) {\n    formatted.attributes = new Array(attrNames.length);\n    for (let [i, name] of attrNames.entries()) {\n      let value = bundle.formatPattern(message.attributes[name], args, errors);\n      formatted.attributes[i] = {\n        name,\n        value\n      };\n    }\n  }\n  return formatted;\n}\nfunction keysFromBundle(method, bundle, keys, translations) {\n  const messageErrors = [];\n  const missingIds = /* @__PURE__ */new Set();\n  keys.forEach(({\n    id,\n    args\n  }, i) => {\n    if (translations[i] !== void 0) {\n      return;\n    }\n    let message = bundle.getMessage(id);\n    if (message) {\n      messageErrors.length = 0;\n      translations[i] = method(bundle, messageErrors, message, args);\n      if (messageErrors.length > 0 && typeof console !== \"undefined\") {\n        const locale = bundle.locales[0];\n        const errors = messageErrors.join(\", \");\n        console.warn(`[fluent][resolver] errors in ${locale}/${id}: ${errors}.`);\n      }\n    } else {\n      missingIds.add(id);\n    }\n  });\n  return missingIds;\n}\nconst L10NID_ATTR_NAME = \"data-l10n-id\";\nconst L10NARGS_ATTR_NAME = \"data-l10n-args\";\nconst L10N_ELEMENT_QUERY = `[${L10NID_ATTR_NAME}]`;\nclass DOMLocalization extends Localization {\n  constructor(resourceIds, generateBundles) {\n    super(resourceIds, generateBundles);\n    this.roots = /* @__PURE__ */new Set();\n    this.pendingrAF = null;\n    this.pendingElements = /* @__PURE__ */new Set();\n    this.windowElement = null;\n    this.mutationObserver = null;\n    this.observerConfig = {\n      attributes: true,\n      characterData: false,\n      childList: true,\n      subtree: true,\n      attributeFilter: [L10NID_ATTR_NAME, L10NARGS_ATTR_NAME]\n    };\n  }\n  onChange(eager = false) {\n    super.onChange(eager);\n    if (this.roots) {\n      this.translateRoots();\n    }\n  }\n  setAttributes(element, id, args) {\n    element.setAttribute(L10NID_ATTR_NAME, id);\n    if (args) {\n      element.setAttribute(L10NARGS_ATTR_NAME, JSON.stringify(args));\n    } else {\n      element.removeAttribute(L10NARGS_ATTR_NAME);\n    }\n    return element;\n  }\n  getAttributes(element) {\n    return {\n      id: element.getAttribute(L10NID_ATTR_NAME),\n      args: JSON.parse(element.getAttribute(L10NARGS_ATTR_NAME) || null)\n    };\n  }\n  connectRoot(newRoot) {\n    for (const root of this.roots) {\n      if (root === newRoot || root.contains(newRoot) || newRoot.contains(root)) {\n        throw new Error(\"Cannot add a root that overlaps with existing root.\");\n      }\n    }\n    if (this.windowElement) {\n      if (this.windowElement !== newRoot.ownerDocument.defaultView) {\n        throw new Error(`Cannot connect a root:\n          DOMLocalization already has a root from a different window.`);\n      }\n    } else {\n      this.windowElement = newRoot.ownerDocument.defaultView;\n      this.mutationObserver = new this.windowElement.MutationObserver(mutations => this.translateMutations(mutations));\n    }\n    this.roots.add(newRoot);\n    this.mutationObserver.observe(newRoot, this.observerConfig);\n  }\n  disconnectRoot(root) {\n    this.roots.delete(root);\n    this.pauseObserving();\n    if (this.roots.size === 0) {\n      this.mutationObserver = null;\n      if (this.windowElement && this.pendingrAF) {\n        this.windowElement.cancelAnimationFrame(this.pendingrAF);\n      }\n      this.windowElement = null;\n      this.pendingrAF = null;\n      this.pendingElements.clear();\n      return true;\n    }\n    this.resumeObserving();\n    return false;\n  }\n  translateRoots() {\n    const roots = Array.from(this.roots);\n    return Promise.all(roots.map(root => this.translateFragment(root)));\n  }\n  pauseObserving() {\n    if (!this.mutationObserver) {\n      return;\n    }\n    this.translateMutations(this.mutationObserver.takeRecords());\n    this.mutationObserver.disconnect();\n  }\n  resumeObserving() {\n    if (!this.mutationObserver) {\n      return;\n    }\n    for (const root of this.roots) {\n      this.mutationObserver.observe(root, this.observerConfig);\n    }\n  }\n  translateMutations(mutations) {\n    for (const mutation of mutations) {\n      switch (mutation.type) {\n        case \"attributes\":\n          if (mutation.target.hasAttribute(\"data-l10n-id\")) {\n            this.pendingElements.add(mutation.target);\n          }\n          break;\n        case \"childList\":\n          for (const addedNode of mutation.addedNodes) {\n            if (addedNode.nodeType === addedNode.ELEMENT_NODE) {\n              if (addedNode.childElementCount) {\n                for (const element of this.getTranslatables(addedNode)) {\n                  this.pendingElements.add(element);\n                }\n              } else if (addedNode.hasAttribute(L10NID_ATTR_NAME)) {\n                this.pendingElements.add(addedNode);\n              }\n            }\n          }\n          break;\n      }\n    }\n    if (this.pendingElements.size > 0) {\n      if (this.pendingrAF === null) {\n        this.pendingrAF = this.windowElement.requestAnimationFrame(() => {\n          this.translateElements(Array.from(this.pendingElements));\n          this.pendingElements.clear();\n          this.pendingrAF = null;\n        });\n      }\n    }\n  }\n  translateFragment(frag) {\n    return this.translateElements(this.getTranslatables(frag));\n  }\n  async translateElements(elements) {\n    if (!elements.length) {\n      return void 0;\n    }\n    const keys = elements.map(this.getKeysForElement);\n    const translations = await this.formatMessages(keys);\n    return this.applyTranslations(elements, translations);\n  }\n  applyTranslations(elements, translations) {\n    this.pauseObserving();\n    for (let i = 0; i < elements.length; i++) {\n      if (translations[i] !== void 0) {\n        translateElement(elements[i], translations[i]);\n      }\n    }\n    this.resumeObserving();\n  }\n  getTranslatables(element) {\n    const nodes = Array.from(element.querySelectorAll(L10N_ELEMENT_QUERY));\n    if (typeof element.hasAttribute === \"function\" && element.hasAttribute(L10NID_ATTR_NAME)) {\n      nodes.push(element);\n    }\n    return nodes;\n  }\n  getKeysForElement(element) {\n    return {\n      id: element.getAttribute(L10NID_ATTR_NAME),\n      args: JSON.parse(element.getAttribute(L10NARGS_ATTR_NAME) || null)\n    };\n  }\n}\nconst _L10n = class _L10n {\n  constructor({\n    lang,\n    isRTL\n  }, l10n = null) {\n    __privateAdd(this, _dir);\n    __privateAdd(this, _elements, /* @__PURE__ */new Set());\n    __privateAdd(this, _lang);\n    __privateAdd(this, _l10n);\n    var _a, _b;\n    __privateSet(this, _lang, __privateMethod(_a = _L10n, _L10n_static, fixupLangCode_fn).call(_a, lang));\n    __privateSet(this, _l10n, l10n);\n    __privateSet(this, _dir, isRTL ?? __privateMethod(_b = _L10n, _L10n_static, isRTL_fn).call(_b, __privateGet(this, _lang)) ? \"rtl\" : \"ltr\");\n  }\n  _setL10n(l10n) {\n    __privateSet(this, _l10n, l10n);\n  }\n  getLanguage() {\n    return __privateGet(this, _lang);\n  }\n  getDirection() {\n    return __privateGet(this, _dir);\n  }\n  async get(ids, args = null, fallback) {\n    if (Array.isArray(ids)) {\n      ids = ids.map(id => ({\n        id\n      }));\n      const messages2 = await __privateGet(this, _l10n).formatMessages(ids);\n      return messages2.map(message => message.value);\n    }\n    const messages = await __privateGet(this, _l10n).formatMessages([{\n      id: ids,\n      args\n    }]);\n    return (messages == null ? void 0 : messages[0].value) || fallback;\n  }\n  async translate(element) {\n    __privateGet(this, _elements).add(element);\n    try {\n      __privateGet(this, _l10n).connectRoot(element);\n      await __privateGet(this, _l10n).translateRoots();\n    } catch {}\n  }\n  async destroy() {\n    for (const element of __privateGet(this, _elements)) {\n      __privateGet(this, _l10n).disconnectRoot(element);\n    }\n    __privateGet(this, _elements).clear();\n    __privateGet(this, _l10n).pauseObserving();\n  }\n  pause() {\n    __privateGet(this, _l10n).pauseObserving();\n  }\n  resume() {\n    __privateGet(this, _l10n).resumeObserving();\n  }\n};\n_dir = new WeakMap();\n_elements = new WeakMap();\n_lang = new WeakMap();\n_l10n = new WeakMap();\n_L10n_static = new WeakSet();\nfixupLangCode_fn = function (langCode) {\n  langCode = (langCode == null ? void 0 : langCode.toLowerCase()) || \"en-us\";\n  const PARTIAL_LANG_CODES = {\n    en: \"en-us\",\n    es: \"es-es\",\n    fy: \"fy-nl\",\n    ga: \"ga-ie\",\n    gu: \"gu-in\",\n    hi: \"hi-in\",\n    hy: \"hy-am\",\n    nb: \"nb-no\",\n    ne: \"ne-np\",\n    nn: \"nn-no\",\n    pa: \"pa-in\",\n    pt: \"pt-pt\",\n    sv: \"sv-se\",\n    zh: \"zh-cn\"\n  };\n  return PARTIAL_LANG_CODES[langCode] || langCode;\n};\nisRTL_fn = function (lang) {\n  const shortCode = lang.split(\"-\", 1)[0];\n  return [\"ar\", \"he\", \"fa\", \"ps\", \"ur\"].includes(shortCode);\n};\n__privateAdd(_L10n, _L10n_static);\nlet L10n = _L10n;\nfunction createBundle(lang, text) {\n  const resource = new FluentResource(text);\n  const bundle = new FluentBundle(lang);\n  const errors = bundle.addResource(resource);\n  if (errors.length) {\n    console.error(\"L10n errors\", errors);\n  }\n  return bundle;\n}\nconst _genericl10n_GenericL10n = class _genericl10n_GenericL10n extends L10n {\n  constructor(lang) {\n    super({\n      lang\n    });\n    const generateBundles = !lang ? __privateMethod(_genericl10n_GenericL10n, _genericl10n_GenericL10n_static, generateBundlesFallback_fn).bind(_genericl10n_GenericL10n, this.getLanguage()) : __privateMethod(_genericl10n_GenericL10n, _genericl10n_GenericL10n_static, generateBundles_fn).bind(_genericl10n_GenericL10n, \"en-us\", this.getLanguage());\n    this._setL10n(new DOMLocalization([], generateBundles));\n  }\n};\n_genericl10n_GenericL10n_static = new WeakSet();\ngenerateBundles_fn = async function* (defaultLang, baseLang) {\n  const {\n    baseURL,\n    paths\n  } = await __privateMethod(this, _genericl10n_GenericL10n_static, getPaths_fn).call(this);\n  const langs = [baseLang];\n  if (defaultLang !== baseLang) {\n    const shortLang = baseLang.split(\"-\", 1)[0];\n    if (shortLang !== baseLang) {\n      langs.push(shortLang);\n    }\n    langs.push(defaultLang);\n  }\n  for (const lang of langs) {\n    const bundle = await __privateMethod(this, _genericl10n_GenericL10n_static, createBundle_fn).call(this, lang, baseURL, paths);\n    if (bundle) {\n      yield bundle;\n    } else if (lang === \"en-us\") {\n      yield __privateMethod(this, _genericl10n_GenericL10n_static, createBundleFallback_fn).call(this, lang);\n    }\n  }\n};\ncreateBundle_fn = async function (lang, baseURL, paths) {\n  const path = paths[lang];\n  if (!path) {\n    return null;\n  }\n  const url = new URL(path, baseURL);\n  const text = await fetchData(url, \"text\");\n  return createBundle(lang, text);\n};\ngetPaths_fn = async function () {\n  try {\n    const {\n      href\n    } = document.querySelector(`link[type=\"application/l10n\"]`);\n    const paths = await fetchData(href, \"json\");\n    return {\n      baseURL: href.replace(/[^/]*$/, \"\") || \"./\",\n      paths\n    };\n  } catch {}\n  return {\n    baseURL: \"./\",\n    paths: /* @__PURE__ */Object.create(null)\n  };\n};\ngenerateBundlesFallback_fn = async function* (lang) {\n  yield __privateMethod(this, _genericl10n_GenericL10n_static, createBundleFallback_fn).call(this, lang);\n};\ncreateBundleFallback_fn = async function (lang) {\n  const text = \"pdfjs-previous-button =\\n    .title = Previous Page\\npdfjs-previous-button-label = Previous\\npdfjs-next-button =\\n    .title = Next Page\\npdfjs-next-button-label = Next\\npdfjs-page-input =\\n    .title = Page\\npdfjs-of-pages = of { $pagesCount }\\npdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })\\npdfjs-zoom-out-button =\\n    .title = Zoom Out\\npdfjs-zoom-out-button-label = Zoom Out\\npdfjs-zoom-in-button =\\n    .title = Zoom In\\npdfjs-zoom-in-button-label = Zoom In\\npdfjs-zoom-select =\\n    .title = Zoom\\npdfjs-presentation-mode-button =\\n    .title = Switch to Presentation Mode\\npdfjs-presentation-mode-button-label = Presentation Mode\\npdfjs-open-file-button =\\n    .title = Open File\\npdfjs-open-file-button-label = Open\\npdfjs-print-button =\\n    .title = Print\\npdfjs-print-button-label = Print\\npdfjs-save-button =\\n    .title = Save\\npdfjs-save-button-label = Save\\npdfjs-download-button =\\n    .title = Download\\npdfjs-download-button-label = Download\\npdfjs-bookmark-button =\\n    .title = Current Page (View URL from Current Page)\\npdfjs-bookmark-button-label = Current Page\\npdfjs-tools-button =\\n    .title = Tools\\npdfjs-tools-button-label = Tools\\npdfjs-first-page-button =\\n    .title = Go to First Page\\npdfjs-first-page-button-label = Go to First Page\\npdfjs-last-page-button =\\n    .title = Go to Last Page\\npdfjs-last-page-button-label = Go to Last Page\\npdfjs-page-rotate-cw-button =\\n    .title = Rotate Clockwise\\npdfjs-page-rotate-cw-button-label = Rotate Clockwise\\npdfjs-page-rotate-ccw-button =\\n    .title = Rotate Counterclockwise\\npdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise\\npdfjs-cursor-text-select-tool-button =\\n    .title = Enable Text Selection Tool\\npdfjs-cursor-text-select-tool-button-label = Text Selection Tool\\npdfjs-cursor-hand-tool-button =\\n    .title = Enable Hand Tool\\npdfjs-cursor-hand-tool-button-label = Hand Tool\\npdfjs-scroll-page-button =\\n    .title = Use Page Scrolling\\npdfjs-scroll-page-button-label = Page Scrolling\\npdfjs-scroll-vertical-button =\\n    .title = Use Vertical Scrolling\\npdfjs-scroll-vertical-button-label = Vertical Scrolling\\npdfjs-scroll-horizontal-button =\\n    .title = Use Horizontal Scrolling\\npdfjs-scroll-horizontal-button-label = Horizontal Scrolling\\npdfjs-scroll-wrapped-button =\\n    .title = Use Wrapped Scrolling\\npdfjs-scroll-wrapped-button-label = Wrapped Scrolling\\npdfjs-spread-none-button =\\n    .title = Do not join page spreads\\npdfjs-spread-none-button-label = No Spreads\\npdfjs-spread-odd-button =\\n    .title = Join page spreads starting with odd-numbered pages\\npdfjs-spread-odd-button-label = Odd Spreads\\npdfjs-spread-even-button =\\n    .title = Join page spreads starting with even-numbered pages\\npdfjs-spread-even-button-label = Even Spreads\\npdfjs-document-properties-button =\\n    .title = Document Properties…\\npdfjs-document-properties-button-label = Document Properties…\\npdfjs-document-properties-file-name = File name:\\npdfjs-document-properties-file-size = File size:\\npdfjs-document-properties-kb = { $size_kb } KB ({ $size_b } bytes)\\npdfjs-document-properties-mb = { $size_mb } MB ({ $size_b } bytes)\\npdfjs-document-properties-title = Title:\\npdfjs-document-properties-author = Author:\\npdfjs-document-properties-subject = Subject:\\npdfjs-document-properties-keywords = Keywords:\\npdfjs-document-properties-creation-date = Creation Date:\\npdfjs-document-properties-modification-date = Modification Date:\\npdfjs-document-properties-date-string = { $date }, { $time }\\npdfjs-document-properties-creator = Creator:\\npdfjs-document-properties-producer = PDF Producer:\\npdfjs-document-properties-version = PDF Version:\\npdfjs-document-properties-page-count = Page Count:\\npdfjs-document-properties-page-size = Page Size:\\npdfjs-document-properties-page-size-unit-inches = in\\npdfjs-document-properties-page-size-unit-millimeters = mm\\npdfjs-document-properties-page-size-orientation-portrait = portrait\\npdfjs-document-properties-page-size-orientation-landscape = landscape\\npdfjs-document-properties-page-size-name-a-three = A3\\npdfjs-document-properties-page-size-name-a-four = A4\\npdfjs-document-properties-page-size-name-letter = Letter\\npdfjs-document-properties-page-size-name-legal = Legal\\npdfjs-document-properties-page-size-dimension-string = { $width } × { $height } { $unit } ({ $orientation })\\npdfjs-document-properties-page-size-dimension-name-string = { $width } × { $height } { $unit } ({ $name }, { $orientation })\\npdfjs-document-properties-linearized = Fast Web View:\\npdfjs-document-properties-linearized-yes = Yes\\npdfjs-document-properties-linearized-no = No\\npdfjs-document-properties-close-button = Close\\npdfjs-print-progress-message = Preparing document for printing…\\npdfjs-print-progress-percent = { $progress }%\\npdfjs-print-progress-close-button = Cancel\\npdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.\\npdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.\\npdfjs-toggle-sidebar-button =\\n    .title = Toggle Sidebar\\npdfjs-toggle-sidebar-notification-button =\\n    .title = Toggle Sidebar (document contains outline/attachments/layers)\\npdfjs-toggle-sidebar-button-label = Toggle Sidebar\\npdfjs-document-outline-button =\\n    .title = Show Document Outline (double-click to expand/collapse all items)\\npdfjs-document-outline-button-label = Document Outline\\npdfjs-attachments-button =\\n    .title = Show Attachments\\npdfjs-attachments-button-label = Attachments\\npdfjs-layers-button =\\n    .title = Show Layers (double-click to reset all layers to the default state)\\npdfjs-layers-button-label = Layers\\npdfjs-thumbs-button =\\n    .title = Show Thumbnails\\npdfjs-thumbs-button-label = Thumbnails\\npdfjs-current-outline-item-button =\\n    .title = Find Current Outline Item\\npdfjs-current-outline-item-button-label = Current Outline Item\\npdfjs-findbar-button =\\n    .title = Find in Document\\npdfjs-findbar-button-label = Find\\npdfjs-additional-layers = Additional Layers\\npdfjs-thumb-page-title =\\n    .title = Page { $page }\\npdfjs-thumb-page-canvas =\\n    .aria-label = Thumbnail of Page { $page }\\npdfjs-find-input =\\n    .title = Find\\n    .placeholder = Find in document…\\npdfjs-find-previous-button =\\n    .title = Find the previous occurrence of the phrase\\npdfjs-find-previous-button-label = Previous\\npdfjs-find-next-button =\\n    .title = Find the next occurrence of the phrase\\npdfjs-find-next-button-label = Next\\npdfjs-find-highlight-checkbox = Highlight All\\npdfjs-find-match-case-checkbox-label = Match Case\\npdfjs-find-match-diacritics-checkbox-label = Match Diacritics\\npdfjs-find-entire-word-checkbox-label = Whole Words\\npdfjs-find-reached-top = Reached top of document, continued from bottom\\npdfjs-find-reached-bottom = Reached end of document, continued from top\\npdfjs-find-match-count =\\n    { $total ->\\n        [one] { $current } of { $total } match\\n       *[other] { $current } of { $total } matches\\n    }\\npdfjs-find-match-count-limit =\\n    { $limit ->\\n        [one] More than { $limit } match\\n       *[other] More than { $limit } matches\\n    }\\npdfjs-find-not-found = Phrase not found\\npdfjs-page-scale-width = Page Width\\npdfjs-page-scale-fit = Page Fit\\npdfjs-page-scale-auto = Automatic Zoom\\npdfjs-page-scale-actual = Actual Size\\npdfjs-page-scale-percent = { $scale }%\\npdfjs-page-landmark =\\n    .aria-label = Page { $page }\\npdfjs-loading-error = An error occurred while loading the PDF.\\npdfjs-invalid-file-error = Invalid or corrupted PDF file.\\npdfjs-missing-file-error = Missing PDF file.\\npdfjs-unexpected-response-error = Unexpected server response.\\npdfjs-rendering-error = An error occurred while rendering the page.\\npdfjs-annotation-date-string = { $date }, { $time }\\npdfjs-text-annotation-type =\\n    .alt = [{ $type } Annotation]\\npdfjs-password-label = Enter the password to open this PDF file.\\npdfjs-password-invalid = Invalid password. Please try again.\\npdfjs-password-ok-button = OK\\npdfjs-password-cancel-button = Cancel\\npdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.\\npdfjs-editor-free-text-button =\\n    .title = Text\\npdfjs-editor-free-text-button-label = Text\\npdfjs-editor-ink-button =\\n    .title = Draw\\npdfjs-editor-ink-button-label = Draw\\npdfjs-editor-stamp-button =\\n    .title = Add or edit images\\npdfjs-editor-stamp-button-label = Add or edit images\\npdfjs-editor-highlight-button =\\n    .title = Highlight\\npdfjs-editor-highlight-button-label = Highlight\\npdfjs-highlight-floating-button1 =\\n    .title = Highlight\\n    .aria-label = Highlight\\npdfjs-highlight-floating-button-label = Highlight\\npdfjs-editor-remove-ink-button =\\n    .title = Remove drawing\\npdfjs-editor-remove-freetext-button =\\n    .title = Remove text\\npdfjs-editor-remove-stamp-button =\\n    .title = Remove image\\npdfjs-editor-remove-highlight-button =\\n    .title = Remove highlight\\npdfjs-editor-free-text-color-input = Color\\npdfjs-editor-free-text-size-input = Size\\npdfjs-editor-ink-color-input = Color\\npdfjs-editor-ink-thickness-input = Thickness\\npdfjs-editor-ink-opacity-input = Opacity\\npdfjs-editor-stamp-add-image-button =\\n    .title = Add image\\npdfjs-editor-stamp-add-image-button-label = Add image\\npdfjs-editor-free-highlight-thickness-input = Thickness\\npdfjs-editor-free-highlight-thickness-title =\\n    .title = Change thickness when highlighting items other than text\\npdfjs-free-text =\\n    .aria-label = Text Editor\\npdfjs-free-text-default-content = Start typing…\\npdfjs-ink =\\n    .aria-label = Draw Editor\\npdfjs-ink-canvas =\\n    .aria-label = User-created image\\npdfjs-editor-alt-text-button-label = Alt text\\npdfjs-editor-alt-text-edit-button-label = Edit alt text\\npdfjs-editor-alt-text-dialog-label = Choose an option\\npdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can’t see the image or when it doesn’t load.\\npdfjs-editor-alt-text-add-description-label = Add a description\\npdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.\\npdfjs-editor-alt-text-mark-decorative-label = Mark as decorative\\npdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.\\npdfjs-editor-alt-text-cancel-button = Cancel\\npdfjs-editor-alt-text-save-button = Save\\npdfjs-editor-alt-text-decorative-tooltip = Marked as decorative\\npdfjs-editor-alt-text-textarea =\\n    .placeholder = For example, “A young man sits down at a table to eat a meal”\\npdfjs-editor-resizer-label-top-left = Top left corner — resize\\npdfjs-editor-resizer-label-top-middle = Top middle — resize\\npdfjs-editor-resizer-label-top-right = Top right corner — resize\\npdfjs-editor-resizer-label-middle-right = Middle right — resize\\npdfjs-editor-resizer-label-bottom-right = Bottom right corner — resize\\npdfjs-editor-resizer-label-bottom-middle = Bottom middle — resize\\npdfjs-editor-resizer-label-bottom-left = Bottom left corner — resize\\npdfjs-editor-resizer-label-middle-left = Middle left — resize\\npdfjs-editor-highlight-colorpicker-label = Highlight color\\npdfjs-editor-colorpicker-button =\\n    .title = Change color\\npdfjs-editor-colorpicker-dropdown =\\n    .aria-label = Color choices\\npdfjs-editor-colorpicker-yellow =\\n    .title = Yellow\\npdfjs-editor-colorpicker-green =\\n    .title = Green\\npdfjs-editor-colorpicker-blue =\\n    .title = Blue\\npdfjs-editor-colorpicker-pink =\\n    .title = Pink\\npdfjs-editor-colorpicker-red =\\n    .title = Red\\npdfjs-editor-highlight-show-all-button-label = Show all\\npdfjs-editor-highlight-show-all-button =\\n    .title = Show all\";\n  return createBundle(lang, text);\n};\n__privateAdd(_genericl10n_GenericL10n, _genericl10n_GenericL10n_static);\nlet genericl10n_GenericL10n = _genericl10n_GenericL10n;\nconst HASH_CHANGE_TIMEOUT = 1e3;\nconst POSITION_UPDATED_THRESHOLD = 50;\nconst UPDATE_VIEWAREA_TIMEOUT = 1e3;\nfunction getCurrentHash() {\n  return document.location.hash;\n}\nclass PDFHistory {\n  constructor({\n    linkService,\n    eventBus\n  }) {\n    __privateAdd(this, _PDFHistory_instances);\n    __privateAdd(this, _eventAbortController2, null);\n    this.linkService = linkService;\n    this.eventBus = eventBus;\n    this._initialized = false;\n    this._fingerprint = \"\";\n    this.reset();\n    this.eventBus._on(\"pagesinit\", () => {\n      this._isPagesLoaded = false;\n      this.eventBus._on(\"pagesloaded\", evt => {\n        this._isPagesLoaded = !!evt.pagesCount;\n      }, {\n        once: true\n      });\n    });\n  }\n  initialize({\n    fingerprint,\n    resetHistory = false,\n    updateUrl = false\n  }) {\n    if (!fingerprint || typeof fingerprint !== \"string\") {\n      console.error('PDFHistory.initialize: The \"fingerprint\" must be a non-empty string.');\n      return;\n    }\n    if (this._initialized) {\n      this.reset();\n    }\n    const reInitialized = this._fingerprint !== \"\" && this._fingerprint !== fingerprint;\n    this._fingerprint = fingerprint;\n    this._updateUrl = updateUrl === true;\n    this._initialized = true;\n    __privateMethod(this, _PDFHistory_instances, bindEvents_fn).call(this);\n    const state = window.history.state;\n    this._popStateInProgress = false;\n    this._blockHashChange = 0;\n    this._currentHash = getCurrentHash();\n    this._numPositionUpdates = 0;\n    this._uid = this._maxUid = 0;\n    this._destination = null;\n    this._position = null;\n    if (!__privateMethod(this, _PDFHistory_instances, isValidState_fn).call(this, state, true) || resetHistory) {\n      const {\n        hash,\n        page,\n        rotation\n      } = __privateMethod(this, _PDFHistory_instances, parseCurrentHash_fn).call(this, true);\n      if (!hash || reInitialized || resetHistory) {\n        __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, null, true);\n        return;\n      }\n      __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, {\n        hash,\n        page,\n        rotation\n      }, true);\n      return;\n    }\n    const destination = state.destination;\n    __privateMethod(this, _PDFHistory_instances, updateInternalState_fn).call(this, destination, state.uid, true);\n    if (destination.rotation !== void 0) {\n      this._initialRotation = destination.rotation;\n    }\n    if (destination.dest) {\n      this._initialBookmark = JSON.stringify(destination.dest);\n      this._destination.page = null;\n    } else if (destination.hash) {\n      this._initialBookmark = destination.hash;\n    } else if (destination.page) {\n      this._initialBookmark = `page=${destination.page}`;\n    }\n  }\n  reset() {\n    if (this._initialized) {\n      __privateMethod(this, _PDFHistory_instances, pageHide_fn).call(this);\n      this._initialized = false;\n      __privateMethod(this, _PDFHistory_instances, unbindEvents_fn).call(this);\n    }\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n    this._initialBookmark = null;\n    this._initialRotation = null;\n  }\n  push({\n    namedDest = null,\n    explicitDest,\n    pageNumber\n  }) {\n    if (!this._initialized) {\n      return;\n    }\n    if (namedDest && typeof namedDest !== \"string\") {\n      console.error(`PDFHistory.push: \"${namedDest}\" is not a valid namedDest parameter.`);\n      return;\n    } else if (!Array.isArray(explicitDest)) {\n      console.error(`PDFHistory.push: \"${explicitDest}\" is not a valid explicitDest parameter.`);\n      return;\n    } else if (!__privateMethod(this, _PDFHistory_instances, isValidPage_fn).call(this, pageNumber)) {\n      if (pageNumber !== null || this._destination) {\n        console.error(`PDFHistory.push: \"${pageNumber}\" is not a valid pageNumber parameter.`);\n        return;\n      }\n    }\n    const hash = namedDest || JSON.stringify(explicitDest);\n    if (!hash) {\n      return;\n    }\n    let forceReplace = false;\n    if (this._destination && (isDestHashesEqual(this._destination.hash, hash) || isDestArraysEqual(this._destination.dest, explicitDest))) {\n      if (this._destination.page) {\n        return;\n      }\n      forceReplace = true;\n    }\n    if (this._popStateInProgress && !forceReplace) {\n      return;\n    }\n    __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, {\n      dest: explicitDest,\n      hash,\n      page: pageNumber,\n      rotation: this.linkService.rotation\n    }, forceReplace);\n    if (!this._popStateInProgress) {\n      this._popStateInProgress = true;\n      Promise.resolve().then(() => {\n        this._popStateInProgress = false;\n      });\n    }\n  }\n  pushPage(pageNumber) {\n    var _a;\n    if (!this._initialized) {\n      return;\n    }\n    if (!__privateMethod(this, _PDFHistory_instances, isValidPage_fn).call(this, pageNumber)) {\n      console.error(`PDFHistory.pushPage: \"${pageNumber}\" is not a valid page number.`);\n      return;\n    }\n    if (((_a = this._destination) == null ? void 0 : _a.page) === pageNumber) {\n      return;\n    }\n    if (this._popStateInProgress) {\n      return;\n    }\n    __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, {\n      dest: null,\n      hash: `page=${pageNumber}`,\n      page: pageNumber,\n      rotation: this.linkService.rotation\n    });\n    if (!this._popStateInProgress) {\n      this._popStateInProgress = true;\n      Promise.resolve().then(() => {\n        this._popStateInProgress = false;\n      });\n    }\n  }\n  pushCurrentPosition() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n    __privateMethod(this, _PDFHistory_instances, tryPushCurrentPosition_fn).call(this);\n  }\n  back() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n    const state = window.history.state;\n    if (__privateMethod(this, _PDFHistory_instances, isValidState_fn).call(this, state) && state.uid > 0) {\n      window.history.back();\n    }\n  }\n  forward() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n    const state = window.history.state;\n    if (__privateMethod(this, _PDFHistory_instances, isValidState_fn).call(this, state) && state.uid < this._maxUid) {\n      window.history.forward();\n    }\n  }\n  get popStateInProgress() {\n    return this._initialized && (this._popStateInProgress || this._blockHashChange > 0);\n  }\n  get initialBookmark() {\n    return this._initialized ? this._initialBookmark : null;\n  }\n  get initialRotation() {\n    return this._initialized ? this._initialRotation : null;\n  }\n}\n_eventAbortController2 = new WeakMap();\n_PDFHistory_instances = new WeakSet();\npushOrReplaceState_fn = function (destination, forceReplace = false) {\n  const shouldReplace = forceReplace || !this._destination;\n  const newState = {\n    fingerprint: this._fingerprint,\n    uid: shouldReplace ? this._uid : this._uid + 1,\n    destination\n  };\n  __privateMethod(this, _PDFHistory_instances, updateInternalState_fn).call(this, destination, newState.uid);\n  let newUrl;\n  if (this._updateUrl && (destination == null ? void 0 : destination.hash)) {\n    const baseUrl = document.location.href.split(\"#\", 1)[0];\n    if (!baseUrl.startsWith(\"file://\")) {\n      newUrl = `${baseUrl}#${destination.hash}`;\n    }\n  }\n  if (shouldReplace) {\n    window.history.replaceState(newState, \"\", newUrl);\n  } else {\n    window.history.pushState(newState, \"\", newUrl);\n  }\n};\ntryPushCurrentPosition_fn = function (temporary = false) {\n  if (!this._position) {\n    return;\n  }\n  let position = this._position;\n  if (temporary) {\n    position = Object.assign( /* @__PURE__ */Object.create(null), this._position);\n    position.temporary = true;\n  }\n  if (!this._destination) {\n    __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, position);\n    return;\n  }\n  if (this._destination.temporary) {\n    __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, position, true);\n    return;\n  }\n  if (this._destination.hash === position.hash) {\n    return;\n  }\n  if (!this._destination.page && this._numPositionUpdates <= POSITION_UPDATED_THRESHOLD) {\n    return;\n  }\n  let forceReplace = false;\n  if (this._destination.page >= position.first && this._destination.page <= position.page) {\n    if (this._destination.dest !== void 0 || !this._destination.first) {\n      return;\n    }\n    forceReplace = true;\n  }\n  __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, position, forceReplace);\n};\nisValidPage_fn = function (val) {\n  return Number.isInteger(val) && val > 0 && val <= this.linkService.pagesCount;\n};\nisValidState_fn = function (state, checkReload = false) {\n  if (!state) {\n    return false;\n  }\n  if (state.fingerprint !== this._fingerprint) {\n    if (checkReload) {\n      if (typeof state.fingerprint !== \"string\" || state.fingerprint.length !== this._fingerprint.length) {\n        return false;\n      }\n      const [perfEntry] = performance.getEntriesByType(\"navigation\");\n      if ((perfEntry == null ? void 0 : perfEntry.type) !== \"reload\") {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n  if (!Number.isInteger(state.uid) || state.uid < 0) {\n    return false;\n  }\n  if (state.destination === null || typeof state.destination !== \"object\") {\n    return false;\n  }\n  return true;\n};\nupdateInternalState_fn = function (destination, uid, removeTemporary = false) {\n  if (this._updateViewareaTimeout) {\n    clearTimeout(this._updateViewareaTimeout);\n    this._updateViewareaTimeout = null;\n  }\n  if (removeTemporary && (destination == null ? void 0 : destination.temporary)) {\n    delete destination.temporary;\n  }\n  this._destination = destination;\n  this._uid = uid;\n  this._maxUid = Math.max(this._maxUid, uid);\n  this._numPositionUpdates = 0;\n};\nparseCurrentHash_fn = function (checkNameddest = false) {\n  const hash = unescape(getCurrentHash()).substring(1);\n  const params = parseQueryString(hash);\n  const nameddest = params.get(\"nameddest\") || \"\";\n  let page = params.get(\"page\") | 0;\n  if (!__privateMethod(this, _PDFHistory_instances, isValidPage_fn).call(this, page) || checkNameddest && nameddest.length > 0) {\n    page = null;\n  }\n  return {\n    hash,\n    page,\n    rotation: this.linkService.rotation\n  };\n};\nupdateViewarea_fn = function ({\n  location\n}) {\n  if (this._updateViewareaTimeout) {\n    clearTimeout(this._updateViewareaTimeout);\n    this._updateViewareaTimeout = null;\n  }\n  this._position = {\n    hash: location.pdfOpenParams.substring(1),\n    page: this.linkService.page,\n    first: location.pageNumber,\n    rotation: location.rotation\n  };\n  if (this._popStateInProgress) {\n    return;\n  }\n  if (this._isPagesLoaded && this._destination && !this._destination.page) {\n    this._numPositionUpdates++;\n  }\n  {\n    this._updateViewareaTimeout = setTimeout(() => {\n      if (!this._popStateInProgress) {\n        __privateMethod(this, _PDFHistory_instances, tryPushCurrentPosition_fn).call(this, true);\n      }\n      this._updateViewareaTimeout = null;\n    }, UPDATE_VIEWAREA_TIMEOUT);\n  }\n};\npopState_fn = function ({\n  state\n}) {\n  const newHash = getCurrentHash(),\n    hashChanged = this._currentHash !== newHash;\n  this._currentHash = newHash;\n  if (!state) {\n    this._uid++;\n    const {\n      hash,\n      page,\n      rotation\n    } = __privateMethod(this, _PDFHistory_instances, parseCurrentHash_fn).call(this);\n    __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, {\n      hash,\n      page,\n      rotation\n    }, true);\n    return;\n  }\n  if (!__privateMethod(this, _PDFHistory_instances, isValidState_fn).call(this, state)) {\n    return;\n  }\n  this._popStateInProgress = true;\n  if (hashChanged) {\n    this._blockHashChange++;\n    waitOnEventOrTimeout({\n      target: window,\n      name: \"hashchange\",\n      delay: HASH_CHANGE_TIMEOUT\n    }).then(() => {\n      this._blockHashChange--;\n    });\n  }\n  const destination = state.destination;\n  __privateMethod(this, _PDFHistory_instances, updateInternalState_fn).call(this, destination, state.uid, true);\n  if (isValidRotation(destination.rotation)) {\n    this.linkService.rotation = destination.rotation;\n  }\n  if (destination.dest) {\n    this.linkService.goToDestination(destination.dest);\n  } else if (destination.hash) {\n    this.linkService.setHash(destination.hash);\n  } else if (destination.page) {\n    this.linkService.page = destination.page;\n  }\n  Promise.resolve().then(() => {\n    this._popStateInProgress = false;\n  });\n};\npageHide_fn = function () {\n  if (!this._destination || this._destination.temporary) {\n    __privateMethod(this, _PDFHistory_instances, tryPushCurrentPosition_fn).call(this);\n  }\n};\nbindEvents_fn = function () {\n  if (__privateGet(this, _eventAbortController2)) {\n    return;\n  }\n  __privateSet(this, _eventAbortController2, new AbortController());\n  const {\n    signal\n  } = __privateGet(this, _eventAbortController2);\n  this.eventBus._on(\"updateviewarea\", __privateMethod(this, _PDFHistory_instances, updateViewarea_fn).bind(this), {\n    signal\n  });\n  window.addEventListener(\"popstate\", __privateMethod(this, _PDFHistory_instances, popState_fn).bind(this), {\n    signal\n  });\n  window.addEventListener(\"pagehide\", __privateMethod(this, _PDFHistory_instances, pageHide_fn).bind(this), {\n    signal\n  });\n};\nunbindEvents_fn = function () {\n  var _a;\n  (_a = __privateGet(this, _eventAbortController2)) == null ? void 0 : _a.abort();\n  __privateSet(this, _eventAbortController2, null);\n};\nfunction isDestHashesEqual(destHash, pushHash) {\n  if (typeof destHash !== \"string\" || typeof pushHash !== \"string\") {\n    return false;\n  }\n  if (destHash === pushHash) {\n    return true;\n  }\n  const nameddest = parseQueryString(destHash).get(\"nameddest\");\n  if (nameddest === pushHash) {\n    return true;\n  }\n  return false;\n}\nfunction isDestArraysEqual(firstDest, secondDest) {\n  function isEntryEqual(first, second) {\n    if (typeof first !== typeof second) {\n      return false;\n    }\n    if (Array.isArray(first) || Array.isArray(second)) {\n      return false;\n    }\n    if (first !== null && typeof first === \"object\" && second !== null) {\n      if (Object.keys(first).length !== Object.keys(second).length) {\n        return false;\n      }\n      for (const key in first) {\n        if (!isEntryEqual(first[key], second[key])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return first === second || Number.isNaN(first) && Number.isNaN(second);\n  }\n  if (!(Array.isArray(firstDest) && Array.isArray(secondDest))) {\n    return false;\n  }\n  if (firstDest.length !== secondDest.length) {\n    return false;\n  }\n  for (let i = 0, ii = firstDest.length; i < ii; i++) {\n    if (!isEntryEqual(firstDest[i], secondDest[i])) {\n      return false;\n    }\n  }\n  return true;\n}\nclass AnnotationEditorLayerBuilder {\n  constructor(options) {\n    __privateAdd(this, _annotationLayer, null);\n    __privateAdd(this, _drawLayer, null);\n    __privateAdd(this, _onAppend2, null);\n    __privateAdd(this, _textLayer, null);\n    __privateAdd(this, _uiManager);\n    this.pdfPage = options.pdfPage;\n    this.accessibilityManager = options.accessibilityManager;\n    this.l10n = options.l10n;\n    this.l10n || (this.l10n = new genericl10n_GenericL10n());\n    this.annotationEditorLayer = null;\n    this.div = null;\n    this._cancelled = false;\n    __privateSet(this, _uiManager, options.uiManager);\n    __privateSet(this, _annotationLayer, options.annotationLayer || null);\n    __privateSet(this, _textLayer, options.textLayer || null);\n    __privateSet(this, _drawLayer, options.drawLayer || null);\n    __privateSet(this, _onAppend2, options.onAppend || null);\n  }\n  async render(viewport, intent = \"display\") {\n    var _a;\n    if (intent !== \"display\") {\n      return;\n    }\n    if (this._cancelled) {\n      return;\n    }\n    const clonedViewport = viewport.clone({\n      dontFlip: true\n    });\n    if (this.div) {\n      this.annotationEditorLayer.update({\n        viewport: clonedViewport\n      });\n      this.show();\n      return;\n    }\n    const div = this.div = document.createElement(\"div\");\n    div.className = \"annotationEditorLayer\";\n    div.hidden = true;\n    div.dir = __privateGet(this, _uiManager).direction;\n    (_a = __privateGet(this, _onAppend2)) == null ? void 0 : _a.call(this, div);\n    this.annotationEditorLayer = new AnnotationEditorLayer({\n      uiManager: __privateGet(this, _uiManager),\n      div,\n      accessibilityManager: this.accessibilityManager,\n      pageIndex: this.pdfPage.pageNumber - 1,\n      l10n: this.l10n,\n      viewport: clonedViewport,\n      annotationLayer: __privateGet(this, _annotationLayer),\n      textLayer: __privateGet(this, _textLayer),\n      drawLayer: __privateGet(this, _drawLayer)\n    });\n    const parameters = {\n      viewport: clonedViewport,\n      div,\n      annotations: null,\n      intent\n    };\n    this.annotationEditorLayer.render(parameters);\n    this.show();\n  }\n  cancel() {\n    this._cancelled = true;\n    if (!this.div) {\n      return;\n    }\n    this.annotationEditorLayer.destroy();\n  }\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.hidden = true;\n  }\n  show() {\n    if (!this.div || this.annotationEditorLayer.isInvisible) {\n      return;\n    }\n    this.div.hidden = false;\n  }\n}\n_annotationLayer = new WeakMap();\n_drawLayer = new WeakMap();\n_onAppend2 = new WeakMap();\n_textLayer = new WeakMap();\n_uiManager = new WeakMap();\n{\n  var compatibilityParams = /* @__PURE__ */Object.create(null);\n  const userAgent = navigator.userAgent || \"\";\n  const platform = navigator.platform || \"\";\n  const maxTouchPoints = navigator.maxTouchPoints || 1;\n  const isAndroid = /Android/.test(userAgent);\n  const isIOS = /\\b(iPad|iPhone|iPod)(?=;)/.test(userAgent) || platform === \"MacIntel\" && maxTouchPoints > 1;\n  (function checkCanvasSizeLimitation() {\n    if (isIOS || isAndroid) {\n      compatibilityParams.maxCanvasPixels = 5242880;\n    }\n  })();\n}\nconst OptionKind = {\n  BROWSER: 1,\n  VIEWER: 2,\n  API: 4,\n  WORKER: 8,\n  PREFERENCE: 128\n};\nconst defaultOptions = {\n  canvasMaxAreaInBytes: {\n    value: -1,\n    kind: OptionKind.BROWSER + OptionKind.API\n  },\n  isInAutomation: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  supportsCaretBrowsingMode: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  supportsDocumentFonts: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsIntegratedFind: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  supportsMouseWheelZoomCtrlKey: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsMouseWheelZoomMetaKey: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsPinchToZoom: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  annotationEditorMode: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  annotationMode: {\n    value: 2,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  cursorToolOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  debuggerSrc: {\n    value: \"./debugger.mjs\",\n    kind: OptionKind.VIEWER\n  },\n  defaultZoomDelay: {\n    value: 400,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  defaultZoomValue: {\n    value: \"\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  disableHistory: {\n    value: false,\n    kind: OptionKind.VIEWER\n  },\n  disablePageLabels: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableHighlightEditor: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableHighlightFloatingButton: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableML: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePermissions: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePrintAutoRotate: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableScripting: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableStampEditor: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  externalLinkRel: {\n    value: \"noopener noreferrer nofollow\",\n    kind: OptionKind.VIEWER\n  },\n  externalLinkTarget: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  highlightEditorColors: {\n    value: \"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  historyUpdateUrl: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  ignoreDestinationZoom: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  imageResourcesPath: {\n    value: \"./images/\",\n    kind: OptionKind.VIEWER\n  },\n  maxCanvasPixels: {\n    value: 2 ** 25,\n    kind: OptionKind.VIEWER\n  },\n  forcePageColors: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pageColorsBackground: {\n    value: \"Canvas\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pageColorsForeground: {\n    value: \"CanvasText\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pdfBugEnabled: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  printResolution: {\n    value: 150,\n    kind: OptionKind.VIEWER\n  },\n  sidebarViewOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  scrollModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  spreadModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  textLayerMode: {\n    value: 1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  viewOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  cMapPacked: {\n    value: true,\n    kind: OptionKind.API\n  },\n  cMapUrl: {\n    value: \"../web/cmaps/\",\n    kind: OptionKind.API\n  },\n  disableAutoFetch: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableFontFace: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableRange: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableStream: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  docBaseUrl: {\n    value: \"\",\n    kind: OptionKind.API\n  },\n  enableHWA: {\n    value: true,\n    kind: OptionKind.API + OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableXfa: {\n    value: true,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  fontExtraProperties: {\n    value: false,\n    kind: OptionKind.API\n  },\n  isEvalSupported: {\n    value: true,\n    kind: OptionKind.API\n  },\n  isOffscreenCanvasSupported: {\n    value: true,\n    kind: OptionKind.API\n  },\n  maxImageSize: {\n    value: -1,\n    kind: OptionKind.API\n  },\n  pdfBug: {\n    value: false,\n    kind: OptionKind.API\n  },\n  standardFontDataUrl: {\n    value: \"../web/standard_fonts/\",\n    kind: OptionKind.API\n  },\n  verbosity: {\n    value: 1,\n    kind: OptionKind.API\n  },\n  workerPort: {\n    value: null,\n    kind: OptionKind.WORKER\n  },\n  workerSrc: {\n    value: \"../build/pdf.worker.mjs\",\n    kind: OptionKind.WORKER\n  }\n};\n{\n  defaultOptions.defaultUrl = {\n    value: \"compressed.tracemonkey-pldi-09.pdf\",\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.sandboxBundleSrc = {\n    value: \"../build/pdf.sandbox.mjs\",\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.viewerCssTheme = {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  };\n}\n{\n  defaultOptions.disablePreferences = {\n    value: false,\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.locale = {\n    value: navigator.language || \"en-US\",\n    kind: OptionKind.VIEWER\n  };\n}\nconst userOptions = /* @__PURE__ */Object.create(null);\n{\n  for (const name in compatibilityParams) {\n    userOptions[name] = compatibilityParams[name];\n  }\n}\nclass AppOptions {\n  constructor() {\n    throw new Error(\"Cannot initialize AppOptions.\");\n  }\n  static get(name) {\n    var _a;\n    return userOptions[name] ?? ((_a = defaultOptions[name]) == null ? void 0 : _a.value) ?? void 0;\n  }\n  static getAll(kind = null, defaultOnly = false) {\n    const options = /* @__PURE__ */Object.create(null);\n    for (const name in defaultOptions) {\n      const defaultOption = defaultOptions[name];\n      if (kind && !(kind & defaultOption.kind)) {\n        continue;\n      }\n      options[name] = defaultOnly ? defaultOption.value : userOptions[name] ?? defaultOption.value;\n    }\n    return options;\n  }\n  static set(name, value) {\n    userOptions[name] = value;\n  }\n  static setAll(options, init = false) {\n    if (init) {\n      if (this.get(\"disablePreferences\")) {\n        return;\n      }\n      for (const name in userOptions) {\n        if (compatibilityParams[name] !== void 0) {\n          continue;\n        }\n        console.warn('setAll: The Preferences may override manually set AppOptions; please use the \"disablePreferences\"-option in order to prevent that.');\n        break;\n      }\n    }\n    for (const name in options) {\n      userOptions[name] = options[name];\n    }\n  }\n  static remove(name) {\n    delete userOptions[name];\n    const val = compatibilityParams[name];\n    if (val !== void 0) {\n      userOptions[name] = val;\n    }\n  }\n}\nclass DrawLayerBuilder {\n  constructor(options) {\n    __privateAdd(this, _drawLayer2, null);\n    this.pageIndex = options.pageIndex;\n  }\n  async render(intent = \"display\") {\n    if (intent !== \"display\" || __privateGet(this, _drawLayer2) || this._cancelled) {\n      return;\n    }\n    __privateSet(this, _drawLayer2, new DrawLayer({\n      pageIndex: this.pageIndex\n    }));\n  }\n  cancel() {\n    this._cancelled = true;\n    if (!__privateGet(this, _drawLayer2)) {\n      return;\n    }\n    __privateGet(this, _drawLayer2).destroy();\n    __privateSet(this, _drawLayer2, null);\n  }\n  setParent(parent) {\n    var _a;\n    (_a = __privateGet(this, _drawLayer2)) == null ? void 0 : _a.setParent(parent);\n  }\n  getDrawLayer() {\n    return __privateGet(this, _drawLayer2);\n  }\n}\n_drawLayer2 = new WeakMap();\nconst PDF_ROLE_TO_HTML_ROLE = {\n  Document: null,\n  DocumentFragment: null,\n  Part: \"group\",\n  Sect: \"group\",\n  Div: \"group\",\n  Aside: \"note\",\n  NonStruct: \"none\",\n  P: null,\n  H: \"heading\",\n  Title: null,\n  FENote: \"note\",\n  Sub: \"group\",\n  Lbl: null,\n  Span: null,\n  Em: null,\n  Strong: null,\n  Link: \"link\",\n  Annot: \"note\",\n  Form: \"form\",\n  Ruby: null,\n  RB: null,\n  RT: null,\n  RP: null,\n  Warichu: null,\n  WT: null,\n  WP: null,\n  L: \"list\",\n  LI: \"listitem\",\n  LBody: null,\n  Table: \"table\",\n  TR: \"row\",\n  TH: \"columnheader\",\n  TD: \"cell\",\n  THead: \"columnheader\",\n  TBody: null,\n  TFoot: null,\n  Caption: null,\n  Figure: \"figure\",\n  Formula: null,\n  Artifact: null\n};\nconst HEADING_PATTERN = /^H(\\d+)$/;\nclass StructTreeLayerBuilder {\n  constructor() {\n    __privateAdd(this, _StructTreeLayerBuilder_instances);\n    __privateAdd(this, _treeDom);\n  }\n  get renderingDone() {\n    return __privateGet(this, _treeDom) !== void 0;\n  }\n  render(structTree) {\n    if (__privateGet(this, _treeDom) !== void 0) {\n      return __privateGet(this, _treeDom);\n    }\n    const treeDom = __privateMethod(this, _StructTreeLayerBuilder_instances, walk_fn).call(this, structTree);\n    treeDom == null ? void 0 : treeDom.classList.add(\"structTree\");\n    return __privateSet(this, _treeDom, treeDom);\n  }\n  hide() {\n    if (__privateGet(this, _treeDom) && !__privateGet(this, _treeDom).hidden) {\n      __privateGet(this, _treeDom).hidden = true;\n    }\n  }\n  show() {\n    var _a;\n    if ((_a = __privateGet(this, _treeDom)) == null ? void 0 : _a.hidden) {\n      __privateGet(this, _treeDom).hidden = false;\n    }\n  }\n}\n_treeDom = new WeakMap();\n_StructTreeLayerBuilder_instances = new WeakSet();\nsetAttributes_fn = function (structElement, htmlElement) {\n  const {\n    alt,\n    id,\n    lang\n  } = structElement;\n  if (alt !== void 0) {\n    htmlElement.setAttribute(\"aria-label\", removeNullCharacters(alt));\n  }\n  if (id !== void 0) {\n    htmlElement.setAttribute(\"aria-owns\", id);\n  }\n  if (lang !== void 0) {\n    htmlElement.setAttribute(\"lang\", removeNullCharacters(lang, true));\n  }\n};\nwalk_fn = function (node) {\n  if (!node) {\n    return null;\n  }\n  const element = document.createElement(\"span\");\n  if (\"role\" in node) {\n    const {\n      role\n    } = node;\n    const match2 = role.match(HEADING_PATTERN);\n    if (match2) {\n      element.setAttribute(\"role\", \"heading\");\n      element.setAttribute(\"aria-level\", match2[1]);\n    } else if (PDF_ROLE_TO_HTML_ROLE[role]) {\n      element.setAttribute(\"role\", PDF_ROLE_TO_HTML_ROLE[role]);\n    }\n  }\n  __privateMethod(this, _StructTreeLayerBuilder_instances, setAttributes_fn).call(this, node, element);\n  if (node.children) {\n    if (node.children.length === 1 && \"id\" in node.children[0]) {\n      __privateMethod(this, _StructTreeLayerBuilder_instances, setAttributes_fn).call(this, node.children[0], element);\n    } else {\n      for (const kid of node.children) {\n        element.append(__privateMethod(this, _StructTreeLayerBuilder_instances, walk_fn).call(this, kid));\n      }\n    }\n  }\n  return element;\n};\nconst _TextAccessibilityManager = class _TextAccessibilityManager {\n  constructor() {\n    __privateAdd(this, _TextAccessibilityManager_instances);\n    __privateAdd(this, _enabled, false);\n    __privateAdd(this, _textChildren, null);\n    __privateAdd(this, _textNodes, /* @__PURE__ */new Map());\n    __privateAdd(this, _waitingElements, /* @__PURE__ */new Map());\n  }\n  setTextMapping(textDivs) {\n    __privateSet(this, _textChildren, textDivs);\n  }\n  enable() {\n    if (__privateGet(this, _enabled)) {\n      throw new Error(\"TextAccessibilityManager is already enabled.\");\n    }\n    if (!__privateGet(this, _textChildren)) {\n      throw new Error(\"Text divs and strings have not been set.\");\n    }\n    __privateSet(this, _enabled, true);\n    __privateSet(this, _textChildren, __privateGet(this, _textChildren).slice());\n    __privateGet(this, _textChildren).sort(__privateMethod(_TextAccessibilityManager, _TextAccessibilityManager_static, compareElementPositions_fn));\n    if (__privateGet(this, _textNodes).size > 0) {\n      const textChildren = __privateGet(this, _textChildren);\n      for (const [id, nodeIndex] of __privateGet(this, _textNodes)) {\n        const element = document.getElementById(id);\n        if (!element) {\n          __privateGet(this, _textNodes).delete(id);\n          continue;\n        }\n        __privateMethod(this, _TextAccessibilityManager_instances, addIdToAriaOwns_fn).call(this, id, textChildren[nodeIndex]);\n      }\n    }\n    for (const [element, isRemovable] of __privateGet(this, _waitingElements)) {\n      this.addPointerInTextLayer(element, isRemovable);\n    }\n    __privateGet(this, _waitingElements).clear();\n  }\n  disable() {\n    if (!__privateGet(this, _enabled)) {\n      return;\n    }\n    __privateGet(this, _waitingElements).clear();\n    __privateSet(this, _textChildren, null);\n    __privateSet(this, _enabled, false);\n  }\n  removePointerInTextLayer(element) {\n    if (!__privateGet(this, _enabled)) {\n      __privateGet(this, _waitingElements).delete(element);\n      return;\n    }\n    const children = __privateGet(this, _textChildren);\n    if (!children || children.length === 0) {\n      return;\n    }\n    const {\n      id\n    } = element;\n    const nodeIndex = __privateGet(this, _textNodes).get(id);\n    if (nodeIndex === void 0) {\n      return;\n    }\n    const node = children[nodeIndex];\n    __privateGet(this, _textNodes).delete(id);\n    let owns = node.getAttribute(\"aria-owns\");\n    if (owns == null ? void 0 : owns.includes(id)) {\n      owns = owns.split(\" \").filter(x => x !== id).join(\" \");\n      if (owns) {\n        node.setAttribute(\"aria-owns\", owns);\n      } else {\n        node.removeAttribute(\"aria-owns\");\n        node.setAttribute(\"role\", \"presentation\");\n      }\n    }\n  }\n  addPointerInTextLayer(element, isRemovable) {\n    const {\n      id\n    } = element;\n    if (!id) {\n      return null;\n    }\n    if (!__privateGet(this, _enabled)) {\n      __privateGet(this, _waitingElements).set(element, isRemovable);\n      return null;\n    }\n    if (isRemovable) {\n      this.removePointerInTextLayer(element);\n    }\n    const children = __privateGet(this, _textChildren);\n    if (!children || children.length === 0) {\n      return null;\n    }\n    const index = binarySearchFirstItem(children, node => {\n      var _a;\n      return __privateMethod(_a = _TextAccessibilityManager, _TextAccessibilityManager_static, compareElementPositions_fn).call(_a, element, node) < 0;\n    });\n    const nodeIndex = Math.max(0, index - 1);\n    const child = children[nodeIndex];\n    __privateMethod(this, _TextAccessibilityManager_instances, addIdToAriaOwns_fn).call(this, id, child);\n    __privateGet(this, _textNodes).set(id, nodeIndex);\n    const parent = child.parentNode;\n    return (parent == null ? void 0 : parent.classList.contains(\"markedContent\")) ? parent.id : null;\n  }\n  moveElementInDOM(container, element, contentElement, isRemovable) {\n    const id = this.addPointerInTextLayer(contentElement, isRemovable);\n    if (!container.hasChildNodes()) {\n      container.append(element);\n      return id;\n    }\n    const children = Array.from(container.childNodes).filter(node => node !== element);\n    if (children.length === 0) {\n      return id;\n    }\n    const elementToCompare = contentElement || element;\n    const index = binarySearchFirstItem(children, node => {\n      var _a;\n      return __privateMethod(_a = _TextAccessibilityManager, _TextAccessibilityManager_static, compareElementPositions_fn).call(_a, elementToCompare, node) < 0;\n    });\n    if (index === 0) {\n      children[0].before(element);\n    } else {\n      children[index - 1].after(element);\n    }\n    return id;\n  }\n};\n_enabled = new WeakMap();\n_textChildren = new WeakMap();\n_textNodes = new WeakMap();\n_waitingElements = new WeakMap();\n_TextAccessibilityManager_static = new WeakSet();\ncompareElementPositions_fn = function (e1, e2) {\n  const rect1 = e1.getBoundingClientRect();\n  const rect2 = e2.getBoundingClientRect();\n  if (rect1.width === 0 && rect1.height === 0) {\n    return 1;\n  }\n  if (rect2.width === 0 && rect2.height === 0) {\n    return -1;\n  }\n  const top1 = rect1.y;\n  const bot1 = rect1.y + rect1.height;\n  const mid1 = rect1.y + rect1.height / 2;\n  const top2 = rect2.y;\n  const bot2 = rect2.y + rect2.height;\n  const mid2 = rect2.y + rect2.height / 2;\n  if (mid1 <= top2 && mid2 >= bot1) {\n    return -1;\n  }\n  if (mid2 <= top1 && mid1 >= bot2) {\n    return 1;\n  }\n  const centerX1 = rect1.x + rect1.width / 2;\n  const centerX2 = rect2.x + rect2.width / 2;\n  return centerX1 - centerX2;\n};\n_TextAccessibilityManager_instances = new WeakSet();\naddIdToAriaOwns_fn = function (id, node) {\n  const owns = node.getAttribute(\"aria-owns\");\n  if (!(owns == null ? void 0 : owns.includes(id))) {\n    node.setAttribute(\"aria-owns\", owns ? `${owns} ${id}` : id);\n  }\n  node.removeAttribute(\"role\");\n};\n__privateAdd(_TextAccessibilityManager, _TextAccessibilityManager_static);\nlet TextAccessibilityManager = _TextAccessibilityManager;\nclass TextHighlighter {\n  constructor({\n    findController,\n    eventBus,\n    pageIndex\n  }) {\n    __privateAdd(this, _eventAbortController3, null);\n    this.findController = findController;\n    this.matches = [];\n    this.eventBus = eventBus;\n    this.pageIdx = pageIndex;\n    this.textDivs = null;\n    this.textContentItemsStr = null;\n    this.enabled = false;\n  }\n  setTextMapping(divs, texts) {\n    this.textDivs = divs;\n    this.textContentItemsStr = texts;\n  }\n  enable() {\n    if (!this.textDivs || !this.textContentItemsStr) {\n      throw new Error(\"Text divs and strings have not been set.\");\n    }\n    if (this.enabled) {\n      throw new Error(\"TextHighlighter is already enabled.\");\n    }\n    this.enabled = true;\n    if (!__privateGet(this, _eventAbortController3)) {\n      __privateSet(this, _eventAbortController3, new AbortController());\n      this.eventBus._on(\"updatetextlayermatches\", evt => {\n        if (evt.pageIndex === this.pageIdx || evt.pageIndex === -1) {\n          this._updateMatches();\n        }\n      }, {\n        signal: __privateGet(this, _eventAbortController3).signal\n      });\n    }\n    this._updateMatches();\n  }\n  disable() {\n    var _a;\n    if (!this.enabled) {\n      return;\n    }\n    this.enabled = false;\n    (_a = __privateGet(this, _eventAbortController3)) == null ? void 0 : _a.abort();\n    __privateSet(this, _eventAbortController3, null);\n    this._updateMatches(true);\n  }\n  _convertMatches(matches, matchesLength) {\n    if (!matches) {\n      return [];\n    }\n    const {\n      textContentItemsStr\n    } = this;\n    let i = 0,\n      iIndex = 0;\n    const end = textContentItemsStr.length - 1;\n    const result = [];\n    for (let m = 0, mm = matches.length; m < mm; m++) {\n      let matchIdx = matches[m];\n      while (i !== end && matchIdx >= iIndex + textContentItemsStr[i].length) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n      if (i === textContentItemsStr.length) {\n        console.error(\"Could not find a matching mapping\");\n      }\n      const match2 = {\n        begin: {\n          divIdx: i,\n          offset: matchIdx - iIndex\n        }\n      };\n      matchIdx += matchesLength[m];\n      while (i !== end && matchIdx > iIndex + textContentItemsStr[i].length) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n      match2.end = {\n        divIdx: i,\n        offset: matchIdx - iIndex\n      };\n      result.push(match2);\n    }\n    return result;\n  }\n  _renderMatches(matches) {\n    if (matches.length === 0) {\n      return;\n    }\n    const {\n      findController,\n      pageIdx\n    } = this;\n    const {\n      textContentItemsStr,\n      textDivs\n    } = this;\n    const isSelectedPage = pageIdx === findController.selected.pageIdx;\n    const selectedMatchIdx = findController.selected.matchIdx;\n    const highlightAll = findController.state.highlightAll;\n    let prevEnd = null;\n    const infinity = {\n      divIdx: -1,\n      offset: void 0\n    };\n    function beginText(begin, className) {\n      const divIdx = begin.divIdx;\n      textDivs[divIdx].textContent = \"\";\n      return appendTextToDiv(divIdx, 0, begin.offset, className);\n    }\n    function appendTextToDiv(divIdx, fromOffset, toOffset, className) {\n      let div = textDivs[divIdx];\n      if (div.nodeType === Node.TEXT_NODE) {\n        const span = document.createElement(\"span\");\n        div.before(span);\n        span.append(div);\n        textDivs[divIdx] = span;\n        div = span;\n      }\n      const content = textContentItemsStr[divIdx].substring(fromOffset, toOffset);\n      const node = document.createTextNode(content);\n      if (className) {\n        const span = document.createElement(\"span\");\n        span.className = `${className} appended`;\n        span.append(node);\n        div.append(span);\n        return className.includes(\"selected\") ? span.offsetLeft : 0;\n      }\n      div.append(node);\n      return 0;\n    }\n    let i0 = selectedMatchIdx,\n      i1 = i0 + 1;\n    if (highlightAll) {\n      i0 = 0;\n      i1 = matches.length;\n    } else if (!isSelectedPage) {\n      return;\n    }\n    let lastDivIdx = -1;\n    let lastOffset = -1;\n    for (let i = i0; i < i1; i++) {\n      const match2 = matches[i];\n      const begin = match2.begin;\n      if (begin.divIdx === lastDivIdx && begin.offset === lastOffset) {\n        continue;\n      }\n      lastDivIdx = begin.divIdx;\n      lastOffset = begin.offset;\n      const end = match2.end;\n      const isSelected = isSelectedPage && i === selectedMatchIdx;\n      const highlightSuffix = isSelected ? \" selected\" : \"\";\n      let selectedLeft = 0;\n      if (!prevEnd || begin.divIdx !== prevEnd.divIdx) {\n        if (prevEnd !== null) {\n          appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n        }\n        beginText(begin);\n      } else {\n        appendTextToDiv(prevEnd.divIdx, prevEnd.offset, begin.offset);\n      }\n      if (begin.divIdx === end.divIdx) {\n        selectedLeft = appendTextToDiv(begin.divIdx, begin.offset, end.offset, \"highlight\" + highlightSuffix);\n      } else {\n        selectedLeft = appendTextToDiv(begin.divIdx, begin.offset, infinity.offset, \"highlight begin\" + highlightSuffix);\n        for (let n0 = begin.divIdx + 1, n1 = end.divIdx; n0 < n1; n0++) {\n          textDivs[n0].className = \"highlight middle\" + highlightSuffix;\n        }\n        beginText(end, \"highlight end\" + highlightSuffix);\n      }\n      prevEnd = end;\n      if (isSelected) {\n        findController.scrollMatchIntoView({\n          element: textDivs[begin.divIdx],\n          selectedLeft,\n          pageIndex: pageIdx,\n          matchIndex: selectedMatchIdx\n        });\n      }\n    }\n    if (prevEnd) {\n      appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n    }\n  }\n  _updateMatches(reset = false) {\n    if (!this.enabled && !reset) {\n      return;\n    }\n    const {\n      findController,\n      matches,\n      pageIdx\n    } = this;\n    const {\n      textContentItemsStr,\n      textDivs\n    } = this;\n    let clearedUntilDivIdx = -1;\n    for (const match2 of matches) {\n      const begin = Math.max(clearedUntilDivIdx, match2.begin.divIdx);\n      for (let n = begin, end = match2.end.divIdx; n <= end; n++) {\n        const div = textDivs[n];\n        div.textContent = textContentItemsStr[n];\n        div.className = \"\";\n      }\n      clearedUntilDivIdx = match2.end.divIdx + 1;\n    }\n    if (!(findController == null ? void 0 : findController.highlightMatches) || reset) {\n      return;\n    }\n    const pageMatches = findController.pageMatches[pageIdx] || null;\n    const pageMatchesLength = findController.pageMatchesLength[pageIdx] || null;\n    this.matches = this._convertMatches(pageMatches, pageMatchesLength);\n    this._renderMatches(this.matches);\n  }\n}\n_eventAbortController3 = new WeakMap();\nconst _TextLayerBuilder = class _TextLayerBuilder {\n  constructor({\n    pdfPage,\n    highlighter = null,\n    accessibilityManager = null,\n    enablePermissions = false,\n    onAppend = null\n  }) {\n    __privateAdd(this, _TextLayerBuilder_instances);\n    __privateAdd(this, _enablePermissions, false);\n    __privateAdd(this, _onAppend3, null);\n    __privateAdd(this, _renderingDone, false);\n    __privateAdd(this, _textLayer2, null);\n    this.pdfPage = pdfPage;\n    this.highlighter = highlighter;\n    this.accessibilityManager = accessibilityManager;\n    __privateSet(this, _enablePermissions, enablePermissions === true);\n    __privateSet(this, _onAppend3, onAppend);\n    this.div = document.createElement(\"div\");\n    this.div.tabIndex = 0;\n    this.div.className = \"textLayer\";\n  }\n  async render(viewport, textContentParams = null) {\n    var _a, _b, _c, _d, _e;\n    if (__privateGet(this, _renderingDone) && __privateGet(this, _textLayer2)) {\n      __privateGet(this, _textLayer2).update({\n        viewport,\n        onBefore: this.hide.bind(this)\n      });\n      this.show();\n      return;\n    }\n    this.cancel();\n    __privateSet(this, _textLayer2, new TextLayer({\n      textContentSource: this.pdfPage.streamTextContent(textContentParams || {\n        includeMarkedContent: true,\n        disableNormalization: true\n      }),\n      container: this.div,\n      viewport\n    }));\n    const {\n      textDivs,\n      textContentItemsStr\n    } = __privateGet(this, _textLayer2);\n    (_a = this.highlighter) == null ? void 0 : _a.setTextMapping(textDivs, textContentItemsStr);\n    (_b = this.accessibilityManager) == null ? void 0 : _b.setTextMapping(textDivs);\n    await __privateGet(this, _textLayer2).render();\n    __privateSet(this, _renderingDone, true);\n    const endOfContent = document.createElement(\"div\");\n    endOfContent.className = \"endOfContent\";\n    this.div.append(endOfContent);\n    __privateMethod(this, _TextLayerBuilder_instances, bindMouse_fn).call(this, endOfContent);\n    (_c = __privateGet(this, _onAppend3)) == null ? void 0 : _c.call(this, this.div);\n    (_d = this.highlighter) == null ? void 0 : _d.enable();\n    (_e = this.accessibilityManager) == null ? void 0 : _e.enable();\n  }\n  hide() {\n    var _a;\n    if (!this.div.hidden && __privateGet(this, _renderingDone)) {\n      (_a = this.highlighter) == null ? void 0 : _a.disable();\n      this.div.hidden = true;\n    }\n  }\n  show() {\n    var _a;\n    if (this.div.hidden && __privateGet(this, _renderingDone)) {\n      this.div.hidden = false;\n      (_a = this.highlighter) == null ? void 0 : _a.enable();\n    }\n  }\n  cancel() {\n    var _a, _b, _c, _d;\n    (_a = __privateGet(this, _textLayer2)) == null ? void 0 : _a.cancel();\n    __privateSet(this, _textLayer2, null);\n    (_b = this.highlighter) == null ? void 0 : _b.disable();\n    (_c = this.accessibilityManager) == null ? void 0 : _c.disable();\n    __privateMethod(_d = _TextLayerBuilder, _TextLayerBuilder_static, removeGlobalSelectionListener_fn).call(_d, this.div);\n  }\n};\n_enablePermissions = new WeakMap();\n_onAppend3 = new WeakMap();\n_renderingDone = new WeakMap();\n_textLayer2 = new WeakMap();\n_textLayers = new WeakMap();\n_selectionChangeAbortController = new WeakMap();\n_TextLayerBuilder_instances = new WeakSet();\nbindMouse_fn = function (end) {\n  var _a;\n  const {\n    div\n  } = this;\n  div.addEventListener(\"mousedown\", evt => {\n    end.classList.add(\"active\");\n  });\n  div.addEventListener(\"copy\", event => {\n    if (!__privateGet(this, _enablePermissions)) {\n      const selection = document.getSelection();\n      event.clipboardData.setData(\"text/plain\", removeNullCharacters(normalizeUnicode(selection.toString())));\n    }\n    event.preventDefault();\n    event.stopPropagation();\n  });\n  __privateGet(_TextLayerBuilder, _textLayers).set(div, end);\n  __privateMethod(_a = _TextLayerBuilder, _TextLayerBuilder_static, enableGlobalSelectionListener_fn).call(_a);\n};\n_TextLayerBuilder_static = new WeakSet();\nremoveGlobalSelectionListener_fn = function (textLayerDiv) {\n  var _a;\n  __privateGet(this, _textLayers).delete(textLayerDiv);\n  if (__privateGet(this, _textLayers).size === 0) {\n    (_a = __privateGet(this, _selectionChangeAbortController)) == null ? void 0 : _a.abort();\n    __privateSet(this, _selectionChangeAbortController, null);\n  }\n};\nenableGlobalSelectionListener_fn = function () {\n  if (__privateGet(this, _selectionChangeAbortController)) {\n    return;\n  }\n  __privateSet(this, _selectionChangeAbortController, new AbortController());\n  const {\n    signal\n  } = __privateGet(this, _selectionChangeAbortController);\n  const reset = (end, textLayer) => {\n    textLayer.append(end);\n    end.style.width = \"\";\n    end.style.height = \"\";\n    end.classList.remove(\"active\");\n  };\n  document.addEventListener(\"pointerup\", () => {\n    __privateGet(this, _textLayers).forEach(reset);\n  }, {\n    signal\n  });\n  var isFirefox, prevRange;\n  document.addEventListener(\"selectionchange\", () => {\n    const selection = document.getSelection();\n    if (selection.rangeCount === 0) {\n      __privateGet(this, _textLayers).forEach(reset);\n      return;\n    }\n    const activeTextLayers = /* @__PURE__ */new Set();\n    for (let i = 0; i < selection.rangeCount; i++) {\n      const range2 = selection.getRangeAt(i);\n      for (const textLayerDiv of __privateGet(this, _textLayers).keys()) {\n        if (!activeTextLayers.has(textLayerDiv) && range2.intersectsNode(textLayerDiv)) {\n          activeTextLayers.add(textLayerDiv);\n        }\n      }\n    }\n    for (const [textLayerDiv, endDiv2] of __privateGet(this, _textLayers)) {\n      if (activeTextLayers.has(textLayerDiv)) {\n        endDiv2.classList.add(\"active\");\n      } else {\n        reset(endDiv2, textLayerDiv);\n      }\n    }\n    isFirefox ?? (isFirefox = getComputedStyle(__privateGet(this, _textLayers).values().next().value).getPropertyValue(\"-moz-user-select\") === \"none\");\n    if (isFirefox) {\n      return;\n    }\n    const range = selection.getRangeAt(0);\n    const modifyStart = prevRange && (range.compareBoundaryPoints(Range.END_TO_END, prevRange) === 0 || range.compareBoundaryPoints(Range.START_TO_END, prevRange) === 0);\n    let anchor = modifyStart ? range.startContainer : range.endContainer;\n    if (anchor.nodeType === Node.TEXT_NODE) {\n      anchor = anchor.parentNode;\n    }\n    const parentTextLayer = anchor.parentElement.closest(\".textLayer\");\n    const endDiv = __privateGet(this, _textLayers).get(parentTextLayer);\n    if (endDiv) {\n      endDiv.style.width = parentTextLayer.style.width;\n      endDiv.style.height = parentTextLayer.style.height;\n      anchor.parentElement.insertBefore(endDiv, modifyStart ? anchor : anchor.nextSibling);\n    }\n    prevRange = range.cloneRange();\n  }, {\n    signal\n  });\n};\n__privateAdd(_TextLayerBuilder, _TextLayerBuilder_static);\n__privateAdd(_TextLayerBuilder, _textLayers, /* @__PURE__ */new Map());\n__privateAdd(_TextLayerBuilder, _selectionChangeAbortController, null);\nlet TextLayerBuilder = _TextLayerBuilder;\nclass XfaLayerBuilder {\n  constructor({\n    pdfPage,\n    annotationStorage = null,\n    linkService,\n    xfaHtml = null\n  }) {\n    this.pdfPage = pdfPage;\n    this.annotationStorage = annotationStorage;\n    this.linkService = linkService;\n    this.xfaHtml = xfaHtml;\n    this.div = null;\n    this._cancelled = false;\n  }\n  async render(viewport, intent = \"display\") {\n    if (intent === \"print\") {\n      const parameters2 = {\n        viewport: viewport.clone({\n          dontFlip: true\n        }),\n        div: this.div,\n        xfaHtml: this.xfaHtml,\n        annotationStorage: this.annotationStorage,\n        linkService: this.linkService,\n        intent\n      };\n      this.div = document.createElement(\"div\");\n      parameters2.div = this.div;\n      return XfaLayer.render(parameters2);\n    }\n    const xfaHtml = await this.pdfPage.getXfa();\n    if (this._cancelled || !xfaHtml) {\n      return {\n        textDivs: []\n      };\n    }\n    const parameters = {\n      viewport: viewport.clone({\n        dontFlip: true\n      }),\n      div: this.div,\n      xfaHtml,\n      annotationStorage: this.annotationStorage,\n      linkService: this.linkService,\n      intent\n    };\n    if (this.div) {\n      return XfaLayer.update(parameters);\n    }\n    this.div = document.createElement(\"div\");\n    parameters.div = this.div;\n    return XfaLayer.render(parameters);\n  }\n  cancel() {\n    this._cancelled = true;\n  }\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.hidden = true;\n  }\n}\nconst DEFAULT_LAYER_PROPERTIES = {\n  annotationEditorUIManager: null,\n  annotationStorage: null,\n  downloadManager: null,\n  enableScripting: false,\n  fieldObjectsPromise: null,\n  findController: null,\n  hasJSActionsPromise: null,\n  get linkService() {\n    return new SimpleLinkService();\n  }\n};\nconst LAYERS_ORDER = /* @__PURE__ */new Map([[\"canvasWrapper\", 0], [\"textLayer\", 1], [\"annotationLayer\", 2], [\"annotationEditorLayer\", 3], [\"xfaLayer\", 3]]);\nclass PDFPageView {\n  constructor(options) {\n    __privateAdd(this, _PDFPageView_instances);\n    __privateAdd(this, _annotationMode, AnnotationMode.ENABLE_FORMS);\n    __privateAdd(this, _enableHWA, false);\n    __privateAdd(this, _hasRestrictedScaling, false);\n    __privateAdd(this, _layerProperties, null);\n    __privateAdd(this, _loadingId, null);\n    __privateAdd(this, _previousRotation, null);\n    __privateAdd(this, _renderError, null);\n    __privateAdd(this, _renderingState, RenderingStates.INITIAL);\n    __privateAdd(this, _textLayerMode, TextLayerMode.ENABLE);\n    __privateAdd(this, _useThumbnailCanvas, {\n      directDrawing: true,\n      initialOptionalContent: true,\n      regularAnnotations: true\n    });\n    __privateAdd(this, _viewportMap, /* @__PURE__ */new WeakMap());\n    __privateAdd(this, _layers, [null, null, null, null]);\n    var _a;\n    const container = options.container;\n    const defaultViewport = options.defaultViewport;\n    this.id = options.id;\n    this.renderingId = \"page\" + this.id;\n    __privateSet(this, _layerProperties, options.layerProperties || DEFAULT_LAYER_PROPERTIES);\n    this.pdfPage = null;\n    this.pageLabel = null;\n    this.rotation = 0;\n    this.scale = options.scale || DEFAULT_SCALE;\n    this.viewport = defaultViewport;\n    this.pdfPageRotate = defaultViewport.rotation;\n    this._optionalContentConfigPromise = options.optionalContentConfigPromise || null;\n    __privateSet(this, _textLayerMode, options.textLayerMode ?? TextLayerMode.ENABLE);\n    __privateSet(this, _annotationMode, options.annotationMode ?? AnnotationMode.ENABLE_FORMS);\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.maxCanvasPixels = options.maxCanvasPixels ?? AppOptions.get(\"maxCanvasPixels\");\n    this.pageColors = options.pageColors || null;\n    __privateSet(this, _enableHWA, options.enableHWA || false);\n    this.eventBus = options.eventBus;\n    this.renderingQueue = options.renderingQueue;\n    this.l10n = options.l10n;\n    this.l10n || (this.l10n = new genericl10n_GenericL10n());\n    this.renderTask = null;\n    this.resume = null;\n    this._isStandalone = !((_a = this.renderingQueue) == null ? void 0 : _a.hasViewer());\n    this._container = container;\n    this._annotationCanvasMap = null;\n    this.annotationLayer = null;\n    this.annotationEditorLayer = null;\n    this.textLayer = null;\n    this.zoomLayer = null;\n    this.xfaLayer = null;\n    this.structTreeLayer = null;\n    this.drawLayer = null;\n    const div = document.createElement(\"div\");\n    div.className = \"page\";\n    div.setAttribute(\"data-page-number\", this.id);\n    div.setAttribute(\"role\", \"region\");\n    div.setAttribute(\"data-l10n-id\", \"pdfjs-page-landmark\");\n    div.setAttribute(\"data-l10n-args\", JSON.stringify({\n      page: this.id\n    }));\n    this.div = div;\n    __privateMethod(this, _PDFPageView_instances, setDimensions_fn).call(this);\n    container == null ? void 0 : container.append(div);\n    if (this._isStandalone) {\n      container == null ? void 0 : container.style.setProperty(\"--scale-factor\", this.scale * PixelsPerInch.PDF_TO_CSS_UNITS);\n      const {\n        optionalContentConfigPromise\n      } = options;\n      if (optionalContentConfigPromise) {\n        optionalContentConfigPromise.then(optionalContentConfig => {\n          if (optionalContentConfigPromise !== this._optionalContentConfigPromise) {\n            return;\n          }\n          __privateGet(this, _useThumbnailCanvas).initialOptionalContent = optionalContentConfig.hasInitialVisibility;\n        });\n      }\n      if (!options.l10n) {\n        this.l10n.translate(this.div);\n      }\n    }\n  }\n  get renderingState() {\n    return __privateGet(this, _renderingState);\n  }\n  set renderingState(state) {\n    if (state === __privateGet(this, _renderingState)) {\n      return;\n    }\n    __privateSet(this, _renderingState, state);\n    if (__privateGet(this, _loadingId)) {\n      clearTimeout(__privateGet(this, _loadingId));\n      __privateSet(this, _loadingId, null);\n    }\n    switch (state) {\n      case RenderingStates.PAUSED:\n        this.div.classList.remove(\"loading\");\n        break;\n      case RenderingStates.RUNNING:\n        this.div.classList.add(\"loadingIcon\");\n        __privateSet(this, _loadingId, setTimeout(() => {\n          this.div.classList.add(\"loading\");\n          __privateSet(this, _loadingId, null);\n        }, 0));\n        break;\n      case RenderingStates.INITIAL:\n      case RenderingStates.FINISHED:\n        this.div.classList.remove(\"loadingIcon\", \"loading\");\n        break;\n    }\n  }\n  setPdfPage(pdfPage) {\n    var _a, _b, _c, _d;\n    if (this._isStandalone && (((_a = this.pageColors) == null ? void 0 : _a.foreground) === \"CanvasText\" || ((_b = this.pageColors) == null ? void 0 : _b.background) === \"Canvas\")) {\n      (_c = this._container) == null ? void 0 : _c.style.setProperty(\"--hcm-highlight-filter\", pdfPage.filterFactory.addHighlightHCMFilter(\"highlight\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n      (_d = this._container) == null ? void 0 : _d.style.setProperty(\"--hcm-highlight-selected-filter\", pdfPage.filterFactory.addHighlightHCMFilter(\"highlight_selected\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n    }\n    this.pdfPage = pdfPage;\n    this.pdfPageRotate = pdfPage.rotate;\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = pdfPage.getViewport({\n      scale: this.scale * PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: totalRotation\n    });\n    __privateMethod(this, _PDFPageView_instances, setDimensions_fn).call(this);\n    this.reset();\n  }\n  destroy() {\n    var _a;\n    this.reset();\n    (_a = this.pdfPage) == null ? void 0 : _a.cleanup();\n  }\n  get _textHighlighter() {\n    return shadow(this, \"_textHighlighter\", new TextHighlighter({\n      pageIndex: this.id - 1,\n      eventBus: this.eventBus,\n      findController: __privateGet(this, _layerProperties).findController\n    }));\n  }\n  _resetZoomLayer(removeFromDOM = false) {\n    if (!this.zoomLayer) {\n      return;\n    }\n    const zoomLayerCanvas = this.zoomLayer.firstChild;\n    __privateGet(this, _viewportMap).delete(zoomLayerCanvas);\n    zoomLayerCanvas.width = 0;\n    zoomLayerCanvas.height = 0;\n    if (removeFromDOM) {\n      this.zoomLayer.remove();\n    }\n    this.zoomLayer = null;\n  }\n  reset({\n    keepZoomLayer = false,\n    keepAnnotationLayer = false,\n    keepAnnotationEditorLayer = false,\n    keepXfaLayer = false,\n    keepTextLayer = false\n  } = {}) {\n    var _a, _b, _c, _d, _e;\n    this.cancelRendering({\n      keepAnnotationLayer,\n      keepAnnotationEditorLayer,\n      keepXfaLayer,\n      keepTextLayer\n    });\n    this.renderingState = RenderingStates.INITIAL;\n    const div = this.div;\n    const childNodes = div.childNodes,\n      zoomLayerNode = keepZoomLayer && this.zoomLayer || null,\n      annotationLayerNode = keepAnnotationLayer && ((_a = this.annotationLayer) == null ? void 0 : _a.div) || null,\n      annotationEditorLayerNode = keepAnnotationEditorLayer && ((_b = this.annotationEditorLayer) == null ? void 0 : _b.div) || null,\n      xfaLayerNode = keepXfaLayer && ((_c = this.xfaLayer) == null ? void 0 : _c.div) || null,\n      textLayerNode = keepTextLayer && ((_d = this.textLayer) == null ? void 0 : _d.div) || null;\n    for (let i = childNodes.length - 1; i >= 0; i--) {\n      const node = childNodes[i];\n      switch (node) {\n        case zoomLayerNode:\n        case annotationLayerNode:\n        case annotationEditorLayerNode:\n        case xfaLayerNode:\n        case textLayerNode:\n          continue;\n      }\n      node.remove();\n      const layerIndex = __privateGet(this, _layers).indexOf(node);\n      if (layerIndex >= 0) {\n        __privateGet(this, _layers)[layerIndex] = null;\n      }\n    }\n    div.removeAttribute(\"data-loaded\");\n    if (annotationLayerNode) {\n      this.annotationLayer.hide();\n    }\n    if (annotationEditorLayerNode) {\n      this.annotationEditorLayer.hide();\n    }\n    if (xfaLayerNode) {\n      this.xfaLayer.hide();\n    }\n    if (textLayerNode) {\n      this.textLayer.hide();\n    }\n    (_e = this.structTreeLayer) == null ? void 0 : _e.hide();\n    if (!zoomLayerNode) {\n      if (this.canvas) {\n        __privateGet(this, _viewportMap).delete(this.canvas);\n        this.canvas.width = 0;\n        this.canvas.height = 0;\n        delete this.canvas;\n      }\n      this._resetZoomLayer();\n    }\n  }\n  update({\n    scale = 0,\n    rotation = null,\n    optionalContentConfigPromise = null,\n    drawingDelay = -1\n  }) {\n    var _a;\n    this.scale = scale || this.scale;\n    if (typeof rotation === \"number\") {\n      this.rotation = rotation;\n    }\n    if (optionalContentConfigPromise instanceof Promise) {\n      this._optionalContentConfigPromise = optionalContentConfigPromise;\n      optionalContentConfigPromise.then(optionalContentConfig => {\n        if (optionalContentConfigPromise !== this._optionalContentConfigPromise) {\n          return;\n        }\n        __privateGet(this, _useThumbnailCanvas).initialOptionalContent = optionalContentConfig.hasInitialVisibility;\n      });\n    }\n    __privateGet(this, _useThumbnailCanvas).directDrawing = true;\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = this.viewport.clone({\n      scale: this.scale * PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: totalRotation\n    });\n    __privateMethod(this, _PDFPageView_instances, setDimensions_fn).call(this);\n    if (this._isStandalone) {\n      (_a = this._container) == null ? void 0 : _a.style.setProperty(\"--scale-factor\", this.viewport.scale);\n    }\n    if (this.canvas) {\n      let onlyCssZoom = false;\n      if (__privateGet(this, _hasRestrictedScaling)) {\n        if (this.maxCanvasPixels === 0) {\n          onlyCssZoom = true;\n        } else if (this.maxCanvasPixels > 0) {\n          const {\n            width,\n            height\n          } = this.viewport;\n          const {\n            sx,\n            sy\n          } = this.outputScale;\n          onlyCssZoom = (Math.floor(width) * sx | 0) * (Math.floor(height) * sy | 0) > this.maxCanvasPixels;\n        }\n      }\n      const postponeDrawing = drawingDelay >= 0 && drawingDelay < 1e3;\n      if (postponeDrawing || onlyCssZoom) {\n        if (postponeDrawing && !onlyCssZoom && this.renderingState !== RenderingStates.FINISHED) {\n          this.cancelRendering({\n            keepZoomLayer: true,\n            keepAnnotationLayer: true,\n            keepAnnotationEditorLayer: true,\n            keepXfaLayer: true,\n            keepTextLayer: true,\n            cancelExtraDelay: drawingDelay\n          });\n          this.renderingState = RenderingStates.FINISHED;\n          __privateGet(this, _useThumbnailCanvas).directDrawing = false;\n        }\n        this.cssTransform({\n          target: this.canvas,\n          redrawAnnotationLayer: true,\n          redrawAnnotationEditorLayer: true,\n          redrawXfaLayer: true,\n          redrawTextLayer: !postponeDrawing,\n          hideTextLayer: postponeDrawing\n        });\n        if (postponeDrawing) {\n          return;\n        }\n        this.eventBus.dispatch(\"pagerendered\", {\n          source: this,\n          pageNumber: this.id,\n          cssTransform: true,\n          timestamp: performance.now(),\n          error: __privateGet(this, _renderError)\n        });\n        return;\n      }\n      if (!this.zoomLayer && !this.canvas.hidden) {\n        this.zoomLayer = this.canvas.parentNode;\n        this.zoomLayer.style.position = \"absolute\";\n      }\n    }\n    if (this.zoomLayer) {\n      this.cssTransform({\n        target: this.zoomLayer.firstChild\n      });\n    }\n    this.reset({\n      keepZoomLayer: true,\n      keepAnnotationLayer: true,\n      keepAnnotationEditorLayer: true,\n      keepXfaLayer: true,\n      keepTextLayer: true\n    });\n  }\n  cancelRendering({\n    keepAnnotationLayer = false,\n    keepAnnotationEditorLayer = false,\n    keepXfaLayer = false,\n    keepTextLayer = false,\n    cancelExtraDelay = 0\n  } = {}) {\n    var _a;\n    if (this.renderTask) {\n      this.renderTask.cancel(cancelExtraDelay);\n      this.renderTask = null;\n    }\n    this.resume = null;\n    if (this.textLayer && (!keepTextLayer || !this.textLayer.div)) {\n      this.textLayer.cancel();\n      this.textLayer = null;\n    }\n    if (this.structTreeLayer && !this.textLayer) {\n      this.structTreeLayer = null;\n    }\n    if (this.annotationLayer && (!keepAnnotationLayer || !this.annotationLayer.div)) {\n      this.annotationLayer.cancel();\n      this.annotationLayer = null;\n      this._annotationCanvasMap = null;\n    }\n    if (this.annotationEditorLayer && (!keepAnnotationEditorLayer || !this.annotationEditorLayer.div)) {\n      if (this.drawLayer) {\n        this.drawLayer.cancel();\n        this.drawLayer = null;\n      }\n      this.annotationEditorLayer.cancel();\n      this.annotationEditorLayer = null;\n    }\n    if (this.xfaLayer && (!keepXfaLayer || !this.xfaLayer.div)) {\n      this.xfaLayer.cancel();\n      this.xfaLayer = null;\n      (_a = this._textHighlighter) == null ? void 0 : _a.disable();\n    }\n  }\n  cssTransform({\n    target,\n    redrawAnnotationLayer = false,\n    redrawAnnotationEditorLayer = false,\n    redrawXfaLayer = false,\n    redrawTextLayer = false,\n    hideTextLayer = false\n  }) {\n    var _a;\n    if (!target.hasAttribute(\"zooming\")) {\n      target.setAttribute(\"zooming\", true);\n      const {\n        style\n      } = target;\n      style.width = style.height = \"\";\n    }\n    const originalViewport = __privateGet(this, _viewportMap).get(target);\n    if (this.viewport !== originalViewport) {\n      const relativeRotation = this.viewport.rotation - originalViewport.rotation;\n      const absRotation = Math.abs(relativeRotation);\n      let scaleX = 1,\n        scaleY = 1;\n      if (absRotation === 90 || absRotation === 270) {\n        const {\n          width,\n          height\n        } = this.viewport;\n        scaleX = height / width;\n        scaleY = width / height;\n      }\n      target.style.transform = `rotate(${relativeRotation}deg) scale(${scaleX}, ${scaleY})`;\n    }\n    if (redrawAnnotationLayer && this.annotationLayer) {\n      __privateMethod(this, _PDFPageView_instances, renderAnnotationLayer_fn).call(this);\n    }\n    if (redrawAnnotationEditorLayer && this.annotationEditorLayer) {\n      if (this.drawLayer) {\n        __privateMethod(this, _PDFPageView_instances, renderDrawLayer_fn).call(this);\n      }\n      __privateMethod(this, _PDFPageView_instances, renderAnnotationEditorLayer_fn).call(this);\n    }\n    if (redrawXfaLayer && this.xfaLayer) {\n      __privateMethod(this, _PDFPageView_instances, renderXfaLayer_fn).call(this);\n    }\n    if (this.textLayer) {\n      if (hideTextLayer) {\n        this.textLayer.hide();\n        (_a = this.structTreeLayer) == null ? void 0 : _a.hide();\n      } else if (redrawTextLayer) {\n        __privateMethod(this, _PDFPageView_instances, renderTextLayer_fn).call(this);\n      }\n    }\n  }\n  get width() {\n    return this.viewport.width;\n  }\n  get height() {\n    return this.viewport.height;\n  }\n  getPagePoint(x, y) {\n    return this.viewport.convertToPdfPoint(x, y);\n  }\n  async draw() {\n    if (this.renderingState !== RenderingStates.INITIAL) {\n      console.error(\"Must be in new state before drawing\");\n      this.reset();\n    }\n    const {\n      div,\n      l10n,\n      pageColors,\n      pdfPage,\n      viewport\n    } = this;\n    if (!pdfPage) {\n      this.renderingState = RenderingStates.FINISHED;\n      throw new Error(\"pdfPage is not loaded\");\n    }\n    this.renderingState = RenderingStates.RUNNING;\n    const canvasWrapper = document.createElement(\"div\");\n    canvasWrapper.classList.add(\"canvasWrapper\");\n    __privateMethod(this, _PDFPageView_instances, addLayer_fn).call(this, canvasWrapper, \"canvasWrapper\");\n    if (!this.textLayer && __privateGet(this, _textLayerMode) !== TextLayerMode.DISABLE && !pdfPage.isPureXfa) {\n      this._accessibilityManager || (this._accessibilityManager = new TextAccessibilityManager());\n      this.textLayer = new TextLayerBuilder({\n        pdfPage,\n        highlighter: this._textHighlighter,\n        accessibilityManager: this._accessibilityManager,\n        enablePermissions: __privateGet(this, _textLayerMode) === TextLayerMode.ENABLE_PERMISSIONS,\n        onAppend: textLayerDiv => {\n          this.l10n.pause();\n          __privateMethod(this, _PDFPageView_instances, addLayer_fn).call(this, textLayerDiv, \"textLayer\");\n          this.l10n.resume();\n        }\n      });\n    }\n    if (!this.annotationLayer && __privateGet(this, _annotationMode) !== AnnotationMode.DISABLE) {\n      const {\n        annotationStorage,\n        annotationEditorUIManager,\n        downloadManager,\n        enableScripting,\n        fieldObjectsPromise,\n        hasJSActionsPromise,\n        linkService\n      } = __privateGet(this, _layerProperties);\n      this._annotationCanvasMap || (this._annotationCanvasMap = /* @__PURE__ */new Map());\n      this.annotationLayer = new AnnotationLayerBuilder({\n        pdfPage,\n        annotationStorage,\n        imageResourcesPath: this.imageResourcesPath,\n        renderForms: __privateGet(this, _annotationMode) === AnnotationMode.ENABLE_FORMS,\n        linkService,\n        downloadManager,\n        enableScripting,\n        hasJSActionsPromise,\n        fieldObjectsPromise,\n        annotationCanvasMap: this._annotationCanvasMap,\n        accessibilityManager: this._accessibilityManager,\n        annotationEditorUIManager,\n        onAppend: annotationLayerDiv => {\n          __privateMethod(this, _PDFPageView_instances, addLayer_fn).call(this, annotationLayerDiv, \"annotationLayer\");\n        }\n      });\n    }\n    const renderContinueCallback = cont => {\n      showCanvas == null ? void 0 : showCanvas(false);\n      if (this.renderingQueue && !this.renderingQueue.isHighestPriority(this)) {\n        this.renderingState = RenderingStates.PAUSED;\n        this.resume = () => {\n          this.renderingState = RenderingStates.RUNNING;\n          cont();\n        };\n        return;\n      }\n      cont();\n    };\n    const {\n      width,\n      height\n    } = viewport;\n    const canvas = document.createElement(\"canvas\");\n    canvas.setAttribute(\"role\", \"presentation\");\n    canvas.hidden = true;\n    const hasHCM = !!((pageColors == null ? void 0 : pageColors.background) && (pageColors == null ? void 0 : pageColors.foreground));\n    let showCanvas = isLastShow => {\n      if (!hasHCM || isLastShow) {\n        canvas.hidden = false;\n        showCanvas = null;\n      }\n    };\n    canvasWrapper.append(canvas);\n    this.canvas = canvas;\n    const ctx = canvas.getContext(\"2d\", {\n      alpha: false,\n      willReadFrequently: !__privateGet(this, _enableHWA)\n    });\n    const outputScale = this.outputScale = new OutputScale();\n    if (this.maxCanvasPixels === 0) {\n      const invScale = 1 / this.scale;\n      outputScale.sx *= invScale;\n      outputScale.sy *= invScale;\n      __privateSet(this, _hasRestrictedScaling, true);\n    } else if (this.maxCanvasPixels > 0) {\n      const pixelsInViewport = width * height;\n      const maxScale = Math.sqrt(this.maxCanvasPixels / pixelsInViewport);\n      if (outputScale.sx > maxScale || outputScale.sy > maxScale) {\n        outputScale.sx = maxScale;\n        outputScale.sy = maxScale;\n        __privateSet(this, _hasRestrictedScaling, true);\n      } else {\n        __privateSet(this, _hasRestrictedScaling, false);\n      }\n    }\n    const sfx = approximateFraction(outputScale.sx);\n    const sfy = approximateFraction(outputScale.sy);\n    canvas.width = floorToDivide(width * outputScale.sx, sfx[0]);\n    canvas.height = floorToDivide(height * outputScale.sy, sfy[0]);\n    const {\n      style\n    } = canvas;\n    style.width = floorToDivide(width, sfx[1]) + \"px\";\n    style.height = floorToDivide(height, sfy[1]) + \"px\";\n    __privateGet(this, _viewportMap).set(canvas, viewport);\n    const transform = outputScale.scaled ? [outputScale.sx, 0, 0, outputScale.sy, 0, 0] : null;\n    const renderContext = {\n      canvasContext: ctx,\n      transform,\n      viewport,\n      annotationMode: __privateGet(this, _annotationMode),\n      optionalContentConfigPromise: this._optionalContentConfigPromise,\n      annotationCanvasMap: this._annotationCanvasMap,\n      pageColors\n    };\n    const renderTask = this.renderTask = pdfPage.render(renderContext);\n    renderTask.onContinue = renderContinueCallback;\n    const resultPromise = renderTask.promise.then(async () => {\n      var _a;\n      showCanvas == null ? void 0 : showCanvas(true);\n      await __privateMethod(this, _PDFPageView_instances, finishRenderTask_fn).call(this, renderTask);\n      __privateMethod(this, _PDFPageView_instances, renderTextLayer_fn).call(this);\n      if (this.annotationLayer) {\n        await __privateMethod(this, _PDFPageView_instances, renderAnnotationLayer_fn).call(this);\n      }\n      const {\n        annotationEditorUIManager\n      } = __privateGet(this, _layerProperties);\n      if (!annotationEditorUIManager) {\n        return;\n      }\n      this.drawLayer || (this.drawLayer = new DrawLayerBuilder({\n        pageIndex: this.id\n      }));\n      await __privateMethod(this, _PDFPageView_instances, renderDrawLayer_fn).call(this);\n      this.drawLayer.setParent(canvasWrapper);\n      if (!this.annotationEditorLayer) {\n        this.annotationEditorLayer = new AnnotationEditorLayerBuilder({\n          uiManager: annotationEditorUIManager,\n          pdfPage,\n          l10n,\n          accessibilityManager: this._accessibilityManager,\n          annotationLayer: (_a = this.annotationLayer) == null ? void 0 : _a.annotationLayer,\n          textLayer: this.textLayer,\n          drawLayer: this.drawLayer.getDrawLayer(),\n          onAppend: annotationEditorLayerDiv => {\n            __privateMethod(this, _PDFPageView_instances, addLayer_fn).call(this, annotationEditorLayerDiv, \"annotationEditorLayer\");\n          }\n        });\n      }\n      __privateMethod(this, _PDFPageView_instances, renderAnnotationEditorLayer_fn).call(this);\n    }, error => {\n      if (!(error instanceof RenderingCancelledException)) {\n        showCanvas == null ? void 0 : showCanvas(true);\n      }\n      return __privateMethod(this, _PDFPageView_instances, finishRenderTask_fn).call(this, renderTask, error);\n    });\n    if (pdfPage.isPureXfa) {\n      if (!this.xfaLayer) {\n        const {\n          annotationStorage,\n          linkService\n        } = __privateGet(this, _layerProperties);\n        this.xfaLayer = new XfaLayerBuilder({\n          pdfPage,\n          annotationStorage,\n          linkService\n        });\n      }\n      __privateMethod(this, _PDFPageView_instances, renderXfaLayer_fn).call(this);\n    }\n    div.setAttribute(\"data-loaded\", true);\n    this.eventBus.dispatch(\"pagerender\", {\n      source: this,\n      pageNumber: this.id\n    });\n    return resultPromise;\n  }\n  setPageLabel(label) {\n    this.pageLabel = typeof label === \"string\" ? label : null;\n    this.div.setAttribute(\"data-l10n-args\", JSON.stringify({\n      page: this.pageLabel ?? this.id\n    }));\n    if (this.pageLabel !== null) {\n      this.div.setAttribute(\"data-page-label\", this.pageLabel);\n    } else {\n      this.div.removeAttribute(\"data-page-label\");\n    }\n  }\n  get thumbnailCanvas() {\n    const {\n      directDrawing,\n      initialOptionalContent,\n      regularAnnotations\n    } = __privateGet(this, _useThumbnailCanvas);\n    return directDrawing && initialOptionalContent && regularAnnotations ? this.canvas : null;\n  }\n}\n_annotationMode = new WeakMap();\n_enableHWA = new WeakMap();\n_hasRestrictedScaling = new WeakMap();\n_layerProperties = new WeakMap();\n_loadingId = new WeakMap();\n_previousRotation = new WeakMap();\n_renderError = new WeakMap();\n_renderingState = new WeakMap();\n_textLayerMode = new WeakMap();\n_useThumbnailCanvas = new WeakMap();\n_viewportMap = new WeakMap();\n_layers = new WeakMap();\n_PDFPageView_instances = new WeakSet();\naddLayer_fn = function (div, name) {\n  const pos = LAYERS_ORDER.get(name);\n  const oldDiv = __privateGet(this, _layers)[pos];\n  __privateGet(this, _layers)[pos] = div;\n  if (oldDiv) {\n    oldDiv.replaceWith(div);\n    return;\n  }\n  for (let i = pos - 1; i >= 0; i--) {\n    const layer = __privateGet(this, _layers)[i];\n    if (layer) {\n      layer.after(div);\n      return;\n    }\n  }\n  this.div.prepend(div);\n};\nsetDimensions_fn = function () {\n  const {\n    viewport\n  } = this;\n  if (this.pdfPage) {\n    if (__privateGet(this, _previousRotation) === viewport.rotation) {\n      return;\n    }\n    __privateSet(this, _previousRotation, viewport.rotation);\n  }\n  setLayerDimensions(this.div, viewport, true, false);\n};\ndispatchLayerRendered_fn = function (name, error) {\n  this.eventBus.dispatch(name, {\n    source: this,\n    pageNumber: this.id,\n    error\n  });\n};\nrenderAnnotationLayer_fn = async function () {\n  let error = null;\n  try {\n    await this.annotationLayer.render(this.viewport, \"display\");\n  } catch (ex) {\n    console.error(`#renderAnnotationLayer: \"${ex}\".`);\n    error = ex;\n  } finally {\n    __privateMethod(this, _PDFPageView_instances, dispatchLayerRendered_fn).call(this, \"annotationlayerrendered\", error);\n  }\n};\nrenderAnnotationEditorLayer_fn = async function () {\n  let error = null;\n  try {\n    await this.annotationEditorLayer.render(this.viewport, \"display\");\n  } catch (ex) {\n    console.error(`#renderAnnotationEditorLayer: \"${ex}\".`);\n    error = ex;\n  } finally {\n    __privateMethod(this, _PDFPageView_instances, dispatchLayerRendered_fn).call(this, \"annotationeditorlayerrendered\", error);\n  }\n};\nrenderDrawLayer_fn = async function () {\n  try {\n    await this.drawLayer.render(\"display\");\n  } catch (ex) {\n    console.error(`#renderDrawLayer: \"${ex}\".`);\n  }\n};\nrenderXfaLayer_fn = async function () {\n  var _a;\n  let error = null;\n  try {\n    const result = await this.xfaLayer.render(this.viewport, \"display\");\n    if ((result == null ? void 0 : result.textDivs) && this._textHighlighter) {\n      __privateMethod(this, _PDFPageView_instances, buildXfaTextContentItems_fn).call(this, result.textDivs);\n    }\n  } catch (ex) {\n    console.error(`#renderXfaLayer: \"${ex}\".`);\n    error = ex;\n  } finally {\n    if ((_a = this.xfaLayer) == null ? void 0 : _a.div) {\n      this.l10n.pause();\n      __privateMethod(this, _PDFPageView_instances, addLayer_fn).call(this, this.xfaLayer.div, \"xfaLayer\");\n      this.l10n.resume();\n    }\n    __privateMethod(this, _PDFPageView_instances, dispatchLayerRendered_fn).call(this, \"xfalayerrendered\", error);\n  }\n};\nrenderTextLayer_fn = async function () {\n  if (!this.textLayer) {\n    return;\n  }\n  let error = null;\n  try {\n    await this.textLayer.render(this.viewport);\n  } catch (ex) {\n    if (ex instanceof AbortException) {\n      return;\n    }\n    console.error(`#renderTextLayer: \"${ex}\".`);\n    error = ex;\n  }\n  __privateMethod(this, _PDFPageView_instances, dispatchLayerRendered_fn).call(this, \"textlayerrendered\", error);\n  __privateMethod(this, _PDFPageView_instances, renderStructTreeLayer_fn).call(this);\n};\nrenderStructTreeLayer_fn = async function () {\n  var _a, _b, _c;\n  if (!this.textLayer) {\n    return;\n  }\n  this.structTreeLayer || (this.structTreeLayer = new StructTreeLayerBuilder());\n  const tree = await (!this.structTreeLayer.renderingDone ? this.pdfPage.getStructTree() : null);\n  const treeDom = (_a = this.structTreeLayer) == null ? void 0 : _a.render(tree);\n  if (treeDom) {\n    this.l10n.pause();\n    (_b = this.canvas) == null ? void 0 : _b.append(treeDom);\n    this.l10n.resume();\n  }\n  (_c = this.structTreeLayer) == null ? void 0 : _c.show();\n};\nbuildXfaTextContentItems_fn = async function (textDivs) {\n  const text = await this.pdfPage.getTextContent();\n  const items = [];\n  for (const item of text.items) {\n    items.push(item.str);\n  }\n  this._textHighlighter.setTextMapping(textDivs, items);\n  this._textHighlighter.enable();\n};\nfinishRenderTask_fn = async function (renderTask, error = null) {\n  if (renderTask === this.renderTask) {\n    this.renderTask = null;\n  }\n  if (error instanceof RenderingCancelledException) {\n    __privateSet(this, _renderError, null);\n    return;\n  }\n  __privateSet(this, _renderError, error);\n  this.renderingState = RenderingStates.FINISHED;\n  this._resetZoomLayer(true);\n  __privateGet(this, _useThumbnailCanvas).regularAnnotations = !renderTask.separateAnnots;\n  this.eventBus.dispatch(\"pagerendered\", {\n    source: this,\n    pageNumber: this.id,\n    cssTransform: false,\n    timestamp: performance.now(),\n    error: __privateGet(this, _renderError)\n  });\n  if (error) {\n    throw error;\n  }\n};\nasync function docProperties(pdfDocument) {\n  const url = \"\",\n    baseUrl = url.split(\"#\", 1)[0];\n  let {\n    info,\n    metadata,\n    contentDispositionFilename,\n    contentLength\n  } = await pdfDocument.getMetadata();\n  if (!contentLength) {\n    const {\n      length\n    } = await pdfDocument.getDownloadInfo();\n    contentLength = length;\n  }\n  return {\n    ...info,\n    baseURL: baseUrl,\n    filesize: contentLength,\n    filename: contentDispositionFilename || getPdfFilenameFromUrl(url),\n    metadata: metadata == null ? void 0 : metadata.getRaw(),\n    authors: metadata == null ? void 0 : metadata.get(\"dc:creator\"),\n    numPages: pdfDocument.numPages,\n    URL: url\n  };\n}\nclass GenericScripting {\n  constructor(sandboxBundleSrc) {\n    this._ready = new Promise((resolve, reject) => {\n      const sandbox = import( /*webpackIgnore: true*/\n      sandboxBundleSrc);\n      sandbox.then(pdfjsSandbox => {\n        resolve(pdfjsSandbox.QuickJSSandbox());\n      }).catch(reject);\n    });\n  }\n  async createSandbox(data) {\n    const sandbox = await this._ready;\n    sandbox.create(data);\n  }\n  async dispatchEventInSandbox(event) {\n    const sandbox = await this._ready;\n    setTimeout(() => sandbox.dispatchEvent(event), 0);\n  }\n  async destroySandbox() {\n    const sandbox = await this._ready;\n    sandbox.nukeSandbox();\n  }\n}\nclass PDFScriptingManager {\n  constructor({\n    eventBus,\n    externalServices = null,\n    docProperties: docProperties2 = null\n  }) {\n    __privateAdd(this, _PDFScriptingManager_instances);\n    __privateAdd(this, _closeCapability, null);\n    __privateAdd(this, _destroyCapability, null);\n    __privateAdd(this, _docProperties, null);\n    __privateAdd(this, _eventAbortController4, null);\n    __privateAdd(this, _eventBus, null);\n    __privateAdd(this, _externalServices, null);\n    __privateAdd(this, _pdfDocument, null);\n    __privateAdd(this, _pdfViewer, null);\n    __privateAdd(this, _ready, false);\n    __privateAdd(this, _scripting, null);\n    __privateAdd(this, _willPrintCapability, null);\n    __privateSet(this, _eventBus, eventBus);\n    __privateSet(this, _externalServices, externalServices);\n    __privateSet(this, _docProperties, docProperties2);\n  }\n  setViewer(pdfViewer) {\n    __privateSet(this, _pdfViewer, pdfViewer);\n  }\n  async setDocument(pdfDocument) {\n    var _a;\n    if (__privateGet(this, _pdfDocument)) {\n      await __privateMethod(this, _PDFScriptingManager_instances, destroyScripting_fn).call(this);\n    }\n    __privateSet(this, _pdfDocument, pdfDocument);\n    if (!pdfDocument) {\n      return;\n    }\n    const [objects, calculationOrder, docActions] = await Promise.all([pdfDocument.getFieldObjects(), pdfDocument.getCalculationOrderIds(), pdfDocument.getJSActions()]);\n    if (!objects && !docActions) {\n      await __privateMethod(this, _PDFScriptingManager_instances, destroyScripting_fn).call(this);\n      return;\n    }\n    if (pdfDocument !== __privateGet(this, _pdfDocument)) {\n      return;\n    }\n    try {\n      __privateSet(this, _scripting, __privateMethod(this, _PDFScriptingManager_instances, initScripting_fn).call(this));\n    } catch (error) {\n      console.error(`setDocument: \"${error.message}\".`);\n      await __privateMethod(this, _PDFScriptingManager_instances, destroyScripting_fn).call(this);\n      return;\n    }\n    const eventBus = __privateGet(this, _eventBus);\n    __privateSet(this, _eventAbortController4, new AbortController());\n    const {\n      signal\n    } = __privateGet(this, _eventAbortController4);\n    eventBus._on(\"updatefromsandbox\", event => {\n      if ((event == null ? void 0 : event.source) === window) {\n        __privateMethod(this, _PDFScriptingManager_instances, updateFromSandbox_fn).call(this, event.detail);\n      }\n    }, {\n      signal\n    });\n    eventBus._on(\"dispatcheventinsandbox\", event => {\n      var _a2;\n      (_a2 = __privateGet(this, _scripting)) == null ? void 0 : _a2.dispatchEventInSandbox(event.detail);\n    }, {\n      signal\n    });\n    eventBus._on(\"pagechanging\", ({\n      pageNumber,\n      previous\n    }) => {\n      if (pageNumber === previous) {\n        return;\n      }\n      __privateMethod(this, _PDFScriptingManager_instances, dispatchPageClose_fn).call(this, previous);\n      __privateMethod(this, _PDFScriptingManager_instances, dispatchPageOpen_fn).call(this, pageNumber);\n    }, {\n      signal\n    });\n    eventBus._on(\"pagerendered\", ({\n      pageNumber\n    }) => {\n      if (!this._pageOpenPending.has(pageNumber)) {\n        return;\n      }\n      if (pageNumber !== __privateGet(this, _pdfViewer).currentPageNumber) {\n        return;\n      }\n      __privateMethod(this, _PDFScriptingManager_instances, dispatchPageOpen_fn).call(this, pageNumber);\n    }, {\n      signal\n    });\n    eventBus._on(\"pagesdestroy\", async () => {\n      var _a2, _b;\n      await __privateMethod(this, _PDFScriptingManager_instances, dispatchPageClose_fn).call(this, __privateGet(this, _pdfViewer).currentPageNumber);\n      await ((_a2 = __privateGet(this, _scripting)) == null ? void 0 : _a2.dispatchEventInSandbox({\n        id: \"doc\",\n        name: \"WillClose\"\n      }));\n      (_b = __privateGet(this, _closeCapability)) == null ? void 0 : _b.resolve();\n    }, {\n      signal\n    });\n    try {\n      const docProperties2 = await __privateGet(this, _docProperties).call(this, pdfDocument);\n      if (pdfDocument !== __privateGet(this, _pdfDocument)) {\n        return;\n      }\n      await __privateGet(this, _scripting).createSandbox({\n        objects,\n        calculationOrder,\n        appInfo: {\n          platform: navigator.platform,\n          language: navigator.language\n        },\n        docInfo: {\n          ...docProperties2,\n          actions: docActions\n        }\n      });\n      eventBus.dispatch(\"sandboxcreated\", {\n        source: this\n      });\n    } catch (error) {\n      console.error(`setDocument: \"${error.message}\".`);\n      await __privateMethod(this, _PDFScriptingManager_instances, destroyScripting_fn).call(this);\n      return;\n    }\n    await ((_a = __privateGet(this, _scripting)) == null ? void 0 : _a.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"Open\"\n    }));\n    await __privateMethod(this, _PDFScriptingManager_instances, dispatchPageOpen_fn).call(this, __privateGet(this, _pdfViewer).currentPageNumber, true);\n    Promise.resolve().then(() => {\n      if (pdfDocument === __privateGet(this, _pdfDocument)) {\n        __privateSet(this, _ready, true);\n      }\n    });\n  }\n  async dispatchWillSave() {\n    var _a;\n    return (_a = __privateGet(this, _scripting)) == null ? void 0 : _a.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"WillSave\"\n    });\n  }\n  async dispatchDidSave() {\n    var _a;\n    return (_a = __privateGet(this, _scripting)) == null ? void 0 : _a.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"DidSave\"\n    });\n  }\n  async dispatchWillPrint() {\n    var _a;\n    if (!__privateGet(this, _scripting)) {\n      return;\n    }\n    await ((_a = __privateGet(this, _willPrintCapability)) == null ? void 0 : _a.promise);\n    __privateSet(this, _willPrintCapability, Promise.withResolvers());\n    try {\n      await __privateGet(this, _scripting).dispatchEventInSandbox({\n        id: \"doc\",\n        name: \"WillPrint\"\n      });\n    } catch (ex) {\n      __privateGet(this, _willPrintCapability).resolve();\n      __privateSet(this, _willPrintCapability, null);\n      throw ex;\n    }\n    await __privateGet(this, _willPrintCapability).promise;\n  }\n  async dispatchDidPrint() {\n    var _a;\n    return (_a = __privateGet(this, _scripting)) == null ? void 0 : _a.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"DidPrint\"\n    });\n  }\n  get destroyPromise() {\n    var _a;\n    return ((_a = __privateGet(this, _destroyCapability)) == null ? void 0 : _a.promise) || null;\n  }\n  get ready() {\n    return __privateGet(this, _ready);\n  }\n  get _pageOpenPending() {\n    return shadow(this, \"_pageOpenPending\", /* @__PURE__ */new Set());\n  }\n  get _visitedPages() {\n    return shadow(this, \"_visitedPages\", /* @__PURE__ */new Map());\n  }\n}\n_closeCapability = new WeakMap();\n_destroyCapability = new WeakMap();\n_docProperties = new WeakMap();\n_eventAbortController4 = new WeakMap();\n_eventBus = new WeakMap();\n_externalServices = new WeakMap();\n_pdfDocument = new WeakMap();\n_pdfViewer = new WeakMap();\n_ready = new WeakMap();\n_scripting = new WeakMap();\n_willPrintCapability = new WeakMap();\n_PDFScriptingManager_instances = new WeakSet();\nupdateFromSandbox_fn = async function (detail) {\n  var _a, _b;\n  const pdfViewer = __privateGet(this, _pdfViewer);\n  const isInPresentationMode = pdfViewer.isInPresentationMode || pdfViewer.isChangingPresentationMode;\n  const {\n    id,\n    siblings,\n    command,\n    value\n  } = detail;\n  if (!id) {\n    switch (command) {\n      case \"clear\":\n        console.clear();\n        break;\n      case \"error\":\n        console.error(value);\n        break;\n      case \"layout\":\n        if (!isInPresentationMode) {\n          const modes = apiPageLayoutToViewerModes(value);\n          pdfViewer.spreadMode = modes.spreadMode;\n        }\n        break;\n      case \"page-num\":\n        pdfViewer.currentPageNumber = value + 1;\n        break;\n      case \"print\":\n        await pdfViewer.pagesPromise;\n        __privateGet(this, _eventBus).dispatch(\"print\", {\n          source: this\n        });\n        break;\n      case \"println\":\n        console.log(value);\n        break;\n      case \"zoom\":\n        if (!isInPresentationMode) {\n          pdfViewer.currentScaleValue = value;\n        }\n        break;\n      case \"SaveAs\":\n        __privateGet(this, _eventBus).dispatch(\"download\", {\n          source: this\n        });\n        break;\n      case \"FirstPage\":\n        pdfViewer.currentPageNumber = 1;\n        break;\n      case \"LastPage\":\n        pdfViewer.currentPageNumber = pdfViewer.pagesCount;\n        break;\n      case \"NextPage\":\n        pdfViewer.nextPage();\n        break;\n      case \"PrevPage\":\n        pdfViewer.previousPage();\n        break;\n      case \"ZoomViewIn\":\n        if (!isInPresentationMode) {\n          pdfViewer.increaseScale();\n        }\n        break;\n      case \"ZoomViewOut\":\n        if (!isInPresentationMode) {\n          pdfViewer.decreaseScale();\n        }\n        break;\n      case \"WillPrintFinished\":\n        (_a = __privateGet(this, _willPrintCapability)) == null ? void 0 : _a.resolve();\n        __privateSet(this, _willPrintCapability, null);\n        break;\n    }\n    return;\n  }\n  if (isInPresentationMode && detail.focus) {\n    return;\n  }\n  delete detail.id;\n  delete detail.siblings;\n  const ids = siblings ? [id, ...siblings] : [id];\n  for (const elementId of ids) {\n    const element = document.querySelector(`[data-element-id=\"${elementId}\"]`);\n    if (element) {\n      element.dispatchEvent(new CustomEvent(\"updatefromsandbox\", {\n        detail\n      }));\n    } else {\n      (_b = __privateGet(this, _pdfDocument)) == null ? void 0 : _b.annotationStorage.setValue(elementId, detail);\n    }\n  }\n};\ndispatchPageOpen_fn = async function (pageNumber, initialize = false) {\n  const pdfDocument = __privateGet(this, _pdfDocument),\n    visitedPages = this._visitedPages;\n  if (initialize) {\n    __privateSet(this, _closeCapability, Promise.withResolvers());\n  }\n  if (!__privateGet(this, _closeCapability)) {\n    return;\n  }\n  const pageView = __privateGet(this, _pdfViewer).getPageView(pageNumber - 1);\n  if ((pageView == null ? void 0 : pageView.renderingState) !== RenderingStates.FINISHED) {\n    this._pageOpenPending.add(pageNumber);\n    return;\n  }\n  this._pageOpenPending.delete(pageNumber);\n  const actionsPromise = (async () => {\n    var _a, _b;\n    const actions = await (!visitedPages.has(pageNumber) ? (_a = pageView.pdfPage) == null ? void 0 : _a.getJSActions() : null);\n    if (pdfDocument !== __privateGet(this, _pdfDocument)) {\n      return;\n    }\n    await ((_b = __privateGet(this, _scripting)) == null ? void 0 : _b.dispatchEventInSandbox({\n      id: \"page\",\n      name: \"PageOpen\",\n      pageNumber,\n      actions\n    }));\n  })();\n  visitedPages.set(pageNumber, actionsPromise);\n};\ndispatchPageClose_fn = async function (pageNumber) {\n  var _a;\n  const pdfDocument = __privateGet(this, _pdfDocument),\n    visitedPages = this._visitedPages;\n  if (!__privateGet(this, _closeCapability)) {\n    return;\n  }\n  if (this._pageOpenPending.has(pageNumber)) {\n    return;\n  }\n  const actionsPromise = visitedPages.get(pageNumber);\n  if (!actionsPromise) {\n    return;\n  }\n  visitedPages.set(pageNumber, null);\n  await actionsPromise;\n  if (pdfDocument !== __privateGet(this, _pdfDocument)) {\n    return;\n  }\n  await ((_a = __privateGet(this, _scripting)) == null ? void 0 : _a.dispatchEventInSandbox({\n    id: \"page\",\n    name: \"PageClose\",\n    pageNumber\n  }));\n};\ninitScripting_fn = function () {\n  __privateSet(this, _destroyCapability, Promise.withResolvers());\n  if (__privateGet(this, _scripting)) {\n    throw new Error(\"#initScripting: Scripting already exists.\");\n  }\n  return __privateGet(this, _externalServices).createScripting();\n};\ndestroyScripting_fn = async function () {\n  var _a, _b, _c, _d;\n  if (!__privateGet(this, _scripting)) {\n    __privateSet(this, _pdfDocument, null);\n    (_a = __privateGet(this, _destroyCapability)) == null ? void 0 : _a.resolve();\n    return;\n  }\n  if (__privateGet(this, _closeCapability)) {\n    await Promise.race([__privateGet(this, _closeCapability).promise, new Promise(resolve => {\n      setTimeout(resolve, 1e3);\n    })]).catch(() => {});\n    __privateSet(this, _closeCapability, null);\n  }\n  __privateSet(this, _pdfDocument, null);\n  try {\n    await __privateGet(this, _scripting).destroySandbox();\n  } catch {}\n  (_b = __privateGet(this, _willPrintCapability)) == null ? void 0 : _b.reject(new Error(\"Scripting destroyed.\"));\n  __privateSet(this, _willPrintCapability, null);\n  (_c = __privateGet(this, _eventAbortController4)) == null ? void 0 : _c.abort();\n  __privateSet(this, _eventAbortController4, null);\n  this._pageOpenPending.clear();\n  this._visitedPages.clear();\n  __privateSet(this, _scripting, null);\n  __privateSet(this, _ready, false);\n  (_d = __privateGet(this, _destroyCapability)) == null ? void 0 : _d.resolve();\n};\nclass PDFScriptingManagerComponents extends PDFScriptingManager {\n  constructor(options) {\n    if (!options.externalServices) {\n      window.addEventListener(\"updatefromsandbox\", event => {\n        options.eventBus.dispatch(\"updatefromsandbox\", {\n          source: window,\n          detail: event.detail\n        });\n      });\n    }\n    options.externalServices || (options.externalServices = {\n      createScripting: () => new GenericScripting(options.sandboxBundleSrc)\n    });\n    options.docProperties || (options.docProperties = pdfDocument => docProperties(pdfDocument));\n    super(options);\n  }\n}\nconst CLEANUP_TIMEOUT = 3e4;\nclass PDFRenderingQueue {\n  constructor() {\n    this.pdfViewer = null;\n    this.pdfThumbnailViewer = null;\n    this.onIdle = null;\n    this.highestPriorityPage = null;\n    this.idleTimeout = null;\n    this.printing = false;\n    this.isThumbnailViewEnabled = false;\n    Object.defineProperty(this, \"hasViewer\", {\n      value: () => !!this.pdfViewer\n    });\n  }\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n  setThumbnailViewer(pdfThumbnailViewer) {\n    this.pdfThumbnailViewer = pdfThumbnailViewer;\n  }\n  isHighestPriority(view) {\n    return this.highestPriorityPage === view.renderingId;\n  }\n  renderHighestPriority(currentlyVisiblePages) {\n    var _a;\n    if (this.idleTimeout) {\n      clearTimeout(this.idleTimeout);\n      this.idleTimeout = null;\n    }\n    if (this.pdfViewer.forceRendering(currentlyVisiblePages)) {\n      return;\n    }\n    if (this.isThumbnailViewEnabled && ((_a = this.pdfThumbnailViewer) == null ? void 0 : _a.forceRendering())) {\n      return;\n    }\n    if (this.printing) {\n      return;\n    }\n    if (this.onIdle) {\n      this.idleTimeout = setTimeout(this.onIdle.bind(this), CLEANUP_TIMEOUT);\n    }\n  }\n  getHighestPriority(visible, views, scrolledDown, preRenderExtra = false) {\n    const visibleViews = visible.views,\n      numVisible = visibleViews.length;\n    if (numVisible === 0) {\n      return null;\n    }\n    for (let i = 0; i < numVisible; i++) {\n      const view = visibleViews[i].view;\n      if (!this.isViewFinished(view)) {\n        return view;\n      }\n    }\n    const firstId = visible.first.id,\n      lastId = visible.last.id;\n    if (lastId - firstId + 1 > numVisible) {\n      const visibleIds = visible.ids;\n      for (let i = 1, ii = lastId - firstId; i < ii; i++) {\n        const holeId = scrolledDown ? firstId + i : lastId - i;\n        if (visibleIds.has(holeId)) {\n          continue;\n        }\n        const holeView = views[holeId - 1];\n        if (!this.isViewFinished(holeView)) {\n          return holeView;\n        }\n      }\n    }\n    let preRenderIndex = scrolledDown ? lastId : firstId - 2;\n    let preRenderView = views[preRenderIndex];\n    if (preRenderView && !this.isViewFinished(preRenderView)) {\n      return preRenderView;\n    }\n    if (preRenderExtra) {\n      preRenderIndex += scrolledDown ? 1 : -1;\n      preRenderView = views[preRenderIndex];\n      if (preRenderView && !this.isViewFinished(preRenderView)) {\n        return preRenderView;\n      }\n    }\n    return null;\n  }\n  isViewFinished(view) {\n    return view.renderingState === RenderingStates.FINISHED;\n  }\n  renderView(view) {\n    switch (view.renderingState) {\n      case RenderingStates.FINISHED:\n        return false;\n      case RenderingStates.PAUSED:\n        this.highestPriorityPage = view.renderingId;\n        view.resume();\n        break;\n      case RenderingStates.RUNNING:\n        this.highestPriorityPage = view.renderingId;\n        break;\n      case RenderingStates.INITIAL:\n        this.highestPriorityPage = view.renderingId;\n        view.draw().finally(() => {\n          this.renderHighestPriority();\n        }).catch(reason => {\n          if (reason instanceof RenderingCancelledException) {\n            return;\n          }\n          console.error(`renderView: \"${reason}\"`);\n        });\n        break;\n    }\n    return true;\n  }\n}\nconst DEFAULT_CACHE_SIZE = 10;\nconst PagesCountLimit = {\n  FORCE_SCROLL_MODE_PAGE: 1e4,\n  FORCE_LAZY_PAGE_INIT: 5e3,\n  PAUSE_EAGER_PAGE_INIT: 250\n};\nfunction isValidAnnotationEditorMode(mode) {\n  return Object.values(AnnotationEditorType).includes(mode) && mode !== AnnotationEditorType.DISABLE;\n}\nclass PDFPageViewBuffer {\n  constructor(size) {\n    __privateAdd(this, _PDFPageViewBuffer_instances);\n    __privateAdd(this, _buf, /* @__PURE__ */new Set());\n    __privateAdd(this, _size, 0);\n    __privateSet(this, _size, size);\n  }\n  push(view) {\n    const buf = __privateGet(this, _buf);\n    if (buf.has(view)) {\n      buf.delete(view);\n    }\n    buf.add(view);\n    if (buf.size > __privateGet(this, _size)) {\n      __privateMethod(this, _PDFPageViewBuffer_instances, destroyFirstView_fn).call(this);\n    }\n  }\n  resize(newSize, idsToKeep = null) {\n    __privateSet(this, _size, newSize);\n    const buf = __privateGet(this, _buf);\n    if (idsToKeep) {\n      const ii = buf.size;\n      let i = 1;\n      for (const view of buf) {\n        if (idsToKeep.has(view.id)) {\n          buf.delete(view);\n          buf.add(view);\n        }\n        if (++i > ii) {\n          break;\n        }\n      }\n    }\n    while (buf.size > __privateGet(this, _size)) {\n      __privateMethod(this, _PDFPageViewBuffer_instances, destroyFirstView_fn).call(this);\n    }\n  }\n  has(view) {\n    return __privateGet(this, _buf).has(view);\n  }\n  [Symbol.iterator]() {\n    return __privateGet(this, _buf).keys();\n  }\n}\n_buf = new WeakMap();\n_size = new WeakMap();\n_PDFPageViewBuffer_instances = new WeakSet();\ndestroyFirstView_fn = function () {\n  const firstView = __privateGet(this, _buf).keys().next().value;\n  firstView == null ? void 0 : firstView.destroy();\n  __privateGet(this, _buf).delete(firstView);\n};\nclass PDFViewer {\n  constructor(options) {\n    __privateAdd(this, _PDFViewer_instances);\n    __privateAdd(this, _buffer, null);\n    __privateAdd(this, _altTextManager, null);\n    __privateAdd(this, _annotationEditorHighlightColors, null);\n    __privateAdd(this, _annotationEditorMode, AnnotationEditorType.NONE);\n    __privateAdd(this, _annotationEditorUIManager, null);\n    __privateAdd(this, _annotationMode2, AnnotationMode.ENABLE_FORMS);\n    __privateAdd(this, _containerTopLeft, null);\n    __privateAdd(this, _enableHWA2, false);\n    __privateAdd(this, _enableHighlightFloatingButton, false);\n    __privateAdd(this, _enablePermissions2, false);\n    __privateAdd(this, _eventAbortController5, null);\n    __privateAdd(this, _mlManager, null);\n    __privateAdd(this, _getAllTextInProgress, false);\n    __privateAdd(this, _hiddenCopyElement, null);\n    __privateAdd(this, _interruptCopyCondition, false);\n    __privateAdd(this, _previousContainerHeight, 0);\n    __privateAdd(this, _resizeObserver, new ResizeObserver(__privateMethod(this, _PDFViewer_instances, resizeObserverCallback_fn).bind(this)));\n    __privateAdd(this, _scrollModePageState, null);\n    __privateAdd(this, _scaleTimeoutId, null);\n    __privateAdd(this, _textLayerMode2, TextLayerMode.ENABLE);\n    var _a, _b;\n    const viewerVersion = \"4.4.168\";\n    if (version !== viewerVersion) {\n      throw new Error(`The API version \"${version}\" does not match the Viewer version \"${viewerVersion}\".`);\n    }\n    this.container = options.container;\n    this.viewer = options.viewer || options.container.firstElementChild;\n    if (((_a = this.container) == null ? void 0 : _a.tagName) !== \"DIV\" || ((_b = this.viewer) == null ? void 0 : _b.tagName) !== \"DIV\") {\n      throw new Error(\"Invalid `container` and/or `viewer` option.\");\n    }\n    if (this.container.offsetParent && getComputedStyle(this.container).position !== \"absolute\") {\n      throw new Error(\"The `container` must be absolutely positioned.\");\n    }\n    __privateGet(this, _resizeObserver).observe(this.container);\n    this.eventBus = options.eventBus;\n    this.linkService = options.linkService || new SimpleLinkService();\n    this.downloadManager = options.downloadManager || null;\n    this.findController = options.findController || null;\n    __privateSet(this, _altTextManager, options.altTextManager || null);\n    if (this.findController) {\n      this.findController.onIsPageVisible = pageNumber => this._getVisiblePages().ids.has(pageNumber);\n    }\n    this._scriptingManager = options.scriptingManager || null;\n    __privateSet(this, _textLayerMode2, options.textLayerMode ?? TextLayerMode.ENABLE);\n    __privateSet(this, _annotationMode2, options.annotationMode ?? AnnotationMode.ENABLE_FORMS);\n    __privateSet(this, _annotationEditorMode, options.annotationEditorMode ?? AnnotationEditorType.NONE);\n    __privateSet(this, _annotationEditorHighlightColors, options.annotationEditorHighlightColors || null);\n    __privateSet(this, _enableHighlightFloatingButton, options.enableHighlightFloatingButton === true);\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.enablePrintAutoRotate = options.enablePrintAutoRotate || false;\n    this.removePageBorders = options.removePageBorders || false;\n    this.maxCanvasPixels = options.maxCanvasPixels;\n    this.l10n = options.l10n;\n    this.l10n || (this.l10n = new genericl10n_GenericL10n());\n    __privateSet(this, _enablePermissions2, options.enablePermissions || false);\n    this.pageColors = options.pageColors || null;\n    __privateSet(this, _mlManager, options.mlManager || null);\n    __privateSet(this, _enableHWA2, options.enableHWA || false);\n    this.defaultRenderingQueue = !options.renderingQueue;\n    if (this.defaultRenderingQueue) {\n      this.renderingQueue = new PDFRenderingQueue();\n      this.renderingQueue.setViewer(this);\n    } else {\n      this.renderingQueue = options.renderingQueue;\n    }\n    const {\n      abortSignal\n    } = options;\n    abortSignal == null ? void 0 : abortSignal.addEventListener(\"abort\", () => {\n      __privateGet(this, _resizeObserver).disconnect();\n      __privateSet(this, _resizeObserver, null);\n    }, {\n      once: true\n    });\n    this.scroll = watchScroll(this.container, this._scrollUpdate.bind(this), abortSignal);\n    this.presentationModeState = PresentationModeState.UNKNOWN;\n    this._resetView();\n    if (this.removePageBorders) {\n      this.viewer.classList.add(\"removePageBorders\");\n    }\n    __privateMethod(this, _PDFViewer_instances, updateContainerHeightCss_fn).call(this);\n    this.eventBus._on(\"thumbnailrendered\", ({\n      pageNumber,\n      pdfPage\n    }) => {\n      const pageView = this._pages[pageNumber - 1];\n      if (!__privateGet(this, _buffer).has(pageView)) {\n        pdfPage == null ? void 0 : pdfPage.cleanup();\n      }\n    });\n    if (!options.l10n) {\n      this.l10n.translate(this.container);\n    }\n  }\n  get pagesCount() {\n    return this._pages.length;\n  }\n  getPageView(index) {\n    return this._pages[index];\n  }\n  getCachedPageViews() {\n    return new Set(__privateGet(this, _buffer));\n  }\n  get pageViewsReady() {\n    return this._pages.every(pageView => pageView == null ? void 0 : pageView.pdfPage);\n  }\n  get renderForms() {\n    return __privateGet(this, _annotationMode2) === AnnotationMode.ENABLE_FORMS;\n  }\n  get enableScripting() {\n    return !!this._scriptingManager;\n  }\n  get currentPageNumber() {\n    return this._currentPageNumber;\n  }\n  set currentPageNumber(val) {\n    if (!Number.isInteger(val)) {\n      throw new Error(\"Invalid page number.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!this._setCurrentPageNumber(val, true)) {\n      console.error(`currentPageNumber: \"${val}\" is not a valid page.`);\n    }\n  }\n  _setCurrentPageNumber(val, resetCurrentPageView = false) {\n    var _a;\n    if (this._currentPageNumber === val) {\n      if (resetCurrentPageView) {\n        __privateMethod(this, _PDFViewer_instances, resetCurrentPageView_fn).call(this);\n      }\n      return true;\n    }\n    if (!(0 < val && val <= this.pagesCount)) {\n      return false;\n    }\n    const previous = this._currentPageNumber;\n    this._currentPageNumber = val;\n    this.eventBus.dispatch(\"pagechanging\", {\n      source: this,\n      pageNumber: val,\n      pageLabel: ((_a = this._pageLabels) == null ? void 0 : _a[val - 1]) ?? null,\n      previous\n    });\n    if (resetCurrentPageView) {\n      __privateMethod(this, _PDFViewer_instances, resetCurrentPageView_fn).call(this);\n    }\n    return true;\n  }\n  get currentPageLabel() {\n    var _a;\n    return ((_a = this._pageLabels) == null ? void 0 : _a[this._currentPageNumber - 1]) ?? null;\n  }\n  set currentPageLabel(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    let page = val | 0;\n    if (this._pageLabels) {\n      const i = this._pageLabels.indexOf(val);\n      if (i >= 0) {\n        page = i + 1;\n      }\n    }\n    if (!this._setCurrentPageNumber(page, true)) {\n      console.error(`currentPageLabel: \"${val}\" is not a valid page.`);\n    }\n  }\n  get currentScale() {\n    return this._currentScale !== UNKNOWN_SCALE ? this._currentScale : DEFAULT_SCALE;\n  }\n  set currentScale(val) {\n    if (isNaN(val)) {\n      throw new Error(\"Invalid numeric scale.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, val, {\n      noScroll: false\n    });\n  }\n  get currentScaleValue() {\n    return this._currentScaleValue;\n  }\n  set currentScaleValue(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, val, {\n      noScroll: false\n    });\n  }\n  get pagesRotation() {\n    return this._pagesRotation;\n  }\n  set pagesRotation(rotation) {\n    if (!isValidRotation(rotation)) {\n      throw new Error(\"Invalid pages rotation angle.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    if (this._pagesRotation === rotation) {\n      return;\n    }\n    this._pagesRotation = rotation;\n    const pageNumber = this._currentPageNumber;\n    this.refresh(true, {\n      rotation\n    });\n    if (this._currentScaleValue) {\n      __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this.eventBus.dispatch(\"rotationchanging\", {\n      source: this,\n      pagesRotation: rotation,\n      pageNumber\n    });\n    if (this.defaultRenderingQueue) {\n      this.update();\n    }\n  }\n  get firstPagePromise() {\n    return this.pdfDocument ? this._firstPageCapability.promise : null;\n  }\n  get onePageRendered() {\n    return this.pdfDocument ? this._onePageRenderedCapability.promise : null;\n  }\n  get pagesPromise() {\n    return this.pdfDocument ? this._pagesCapability.promise : null;\n  }\n  get _layerProperties() {\n    const self = this;\n    return shadow(this, \"_layerProperties\", {\n      get annotationEditorUIManager() {\n        return __privateGet(self, _annotationEditorUIManager);\n      },\n      get annotationStorage() {\n        var _a;\n        return (_a = self.pdfDocument) == null ? void 0 : _a.annotationStorage;\n      },\n      get downloadManager() {\n        return self.downloadManager;\n      },\n      get enableScripting() {\n        return !!self._scriptingManager;\n      },\n      get fieldObjectsPromise() {\n        var _a;\n        return (_a = self.pdfDocument) == null ? void 0 : _a.getFieldObjects();\n      },\n      get findController() {\n        return self.findController;\n      },\n      get hasJSActionsPromise() {\n        var _a;\n        return (_a = self.pdfDocument) == null ? void 0 : _a.hasJSActions();\n      },\n      get linkService() {\n        return self.linkService;\n      }\n    });\n  }\n  async getAllText() {\n    const texts = [];\n    const buffer = [];\n    for (let pageNum = 1, pagesCount = this.pdfDocument.numPages; pageNum <= pagesCount; ++pageNum) {\n      if (__privateGet(this, _interruptCopyCondition)) {\n        return null;\n      }\n      buffer.length = 0;\n      const page = await this.pdfDocument.getPage(pageNum);\n      const {\n        items\n      } = await page.getTextContent();\n      for (const item of items) {\n        if (item.str) {\n          buffer.push(item.str);\n        }\n        if (item.hasEOL) {\n          buffer.push(\"\\n\");\n        }\n      }\n      texts.push(removeNullCharacters(buffer.join(\"\")));\n    }\n    return texts.join(\"\\n\");\n  }\n  setDocument(pdfDocument) {\n    var _a, _b;\n    if (this.pdfDocument) {\n      this.eventBus.dispatch(\"pagesdestroy\", {\n        source: this\n      });\n      this._cancelRendering();\n      this._resetView();\n      (_a = this.findController) == null ? void 0 : _a.setDocument(null);\n      (_b = this._scriptingManager) == null ? void 0 : _b.setDocument(null);\n      if (__privateGet(this, _annotationEditorUIManager)) {\n        __privateGet(this, _annotationEditorUIManager).destroy();\n        __privateSet(this, _annotationEditorUIManager, null);\n      }\n    }\n    this.pdfDocument = pdfDocument;\n    if (!pdfDocument) {\n      return;\n    }\n    const pagesCount = pdfDocument.numPages;\n    const firstPagePromise = pdfDocument.getPage(1);\n    const optionalContentConfigPromise = pdfDocument.getOptionalContentConfig({\n      intent: \"display\"\n    });\n    const permissionsPromise = __privateGet(this, _enablePermissions2) ? pdfDocument.getPermissions() : Promise.resolve();\n    const {\n      eventBus,\n      pageColors,\n      viewer\n    } = this;\n    __privateSet(this, _eventAbortController5, new AbortController());\n    const {\n      signal\n    } = __privateGet(this, _eventAbortController5);\n    if (pagesCount > PagesCountLimit.FORCE_SCROLL_MODE_PAGE) {\n      console.warn(\"Forcing PAGE-scrolling for performance reasons, given the length of the document.\");\n      const mode = this._scrollMode = ScrollMode.PAGE;\n      eventBus.dispatch(\"scrollmodechanged\", {\n        source: this,\n        mode\n      });\n    }\n    this._pagesCapability.promise.then(() => {\n      eventBus.dispatch(\"pagesloaded\", {\n        source: this,\n        pagesCount\n      });\n    }, () => {});\n    const onBeforeDraw = evt => {\n      const pageView = this._pages[evt.pageNumber - 1];\n      if (!pageView) {\n        return;\n      }\n      __privateGet(this, _buffer).push(pageView);\n    };\n    eventBus._on(\"pagerender\", onBeforeDraw, {\n      signal\n    });\n    const onAfterDraw = evt => {\n      if (evt.cssTransform) {\n        return;\n      }\n      this._onePageRenderedCapability.resolve({\n        timestamp: evt.timestamp\n      });\n      eventBus._off(\"pagerendered\", onAfterDraw);\n    };\n    eventBus._on(\"pagerendered\", onAfterDraw, {\n      signal\n    });\n    Promise.all([firstPagePromise, permissionsPromise]).then(([firstPdfPage, permissions]) => {\n      var _a2;\n      if (pdfDocument !== this.pdfDocument) {\n        return;\n      }\n      this._firstPageCapability.resolve(firstPdfPage);\n      this._optionalContentConfigPromise = optionalContentConfigPromise;\n      const {\n        annotationEditorMode,\n        annotationMode,\n        textLayerMode\n      } = __privateMethod(this, _PDFViewer_instances, initializePermissions_fn).call(this, permissions);\n      if (textLayerMode !== TextLayerMode.DISABLE) {\n        const element = __privateSet(this, _hiddenCopyElement, document.createElement(\"div\"));\n        element.id = \"hiddenCopyElement\";\n        viewer.before(element);\n      }\n      if (annotationEditorMode !== AnnotationEditorType.DISABLE) {\n        const mode = annotationEditorMode;\n        if (pdfDocument.isPureXfa) {\n          console.warn(\"Warning: XFA-editing is not implemented.\");\n        } else if (isValidAnnotationEditorMode(mode)) {\n          __privateSet(this, _annotationEditorUIManager, new AnnotationEditorUIManager(this.container, viewer, __privateGet(this, _altTextManager), eventBus, pdfDocument, pageColors, __privateGet(this, _annotationEditorHighlightColors), __privateGet(this, _enableHighlightFloatingButton), __privateGet(this, _mlManager)));\n          eventBus.dispatch(\"annotationeditoruimanager\", {\n            source: this,\n            uiManager: __privateGet(this, _annotationEditorUIManager)\n          });\n          if (mode !== AnnotationEditorType.NONE) {\n            __privateGet(this, _annotationEditorUIManager).updateMode(mode);\n          }\n        } else {\n          console.error(`Invalid AnnotationEditor mode: ${mode}`);\n        }\n      }\n      const viewerElement = this._scrollMode === ScrollMode.PAGE ? null : viewer;\n      const scale = this.currentScale;\n      const viewport = firstPdfPage.getViewport({\n        scale: scale * PixelsPerInch.PDF_TO_CSS_UNITS\n      });\n      viewer.style.setProperty(\"--scale-factor\", viewport.scale);\n      if ((pageColors == null ? void 0 : pageColors.foreground) === \"CanvasText\" || (pageColors == null ? void 0 : pageColors.background) === \"Canvas\") {\n        viewer.style.setProperty(\"--hcm-highlight-filter\", pdfDocument.filterFactory.addHighlightHCMFilter(\"highlight\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n        viewer.style.setProperty(\"--hcm-highlight-selected-filter\", pdfDocument.filterFactory.addHighlightHCMFilter(\"highlight_selected\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"ButtonText\"));\n      }\n      for (let pageNum = 1; pageNum <= pagesCount; ++pageNum) {\n        const pageView = new PDFPageView({\n          container: viewerElement,\n          eventBus,\n          id: pageNum,\n          scale,\n          defaultViewport: viewport.clone(),\n          optionalContentConfigPromise,\n          renderingQueue: this.renderingQueue,\n          textLayerMode,\n          annotationMode,\n          imageResourcesPath: this.imageResourcesPath,\n          maxCanvasPixels: this.maxCanvasPixels,\n          pageColors,\n          l10n: this.l10n,\n          layerProperties: this._layerProperties,\n          enableHWA: __privateGet(this, _enableHWA2)\n        });\n        this._pages.push(pageView);\n      }\n      (_a2 = this._pages[0]) == null ? void 0 : _a2.setPdfPage(firstPdfPage);\n      if (this._scrollMode === ScrollMode.PAGE) {\n        __privateMethod(this, _PDFViewer_instances, ensurePageViewVisible_fn).call(this);\n      } else if (this._spreadMode !== SpreadMode.NONE) {\n        this._updateSpreadMode();\n      }\n      __privateMethod(this, _PDFViewer_instances, onePageRenderedOrForceFetch_fn).call(this, signal).then(async () => {\n        var _a3, _b2;\n        if (pdfDocument !== this.pdfDocument) {\n          return;\n        }\n        (_a3 = this.findController) == null ? void 0 : _a3.setDocument(pdfDocument);\n        (_b2 = this._scriptingManager) == null ? void 0 : _b2.setDocument(pdfDocument);\n        if (__privateGet(this, _hiddenCopyElement)) {\n          document.addEventListener(\"copy\", __privateMethod(this, _PDFViewer_instances, copyCallback_fn).bind(this, textLayerMode), {\n            signal\n          });\n        }\n        if (__privateGet(this, _annotationEditorUIManager)) {\n          eventBus.dispatch(\"annotationeditormodechanged\", {\n            source: this,\n            mode: __privateGet(this, _annotationEditorMode)\n          });\n        }\n        if (pdfDocument.loadingParams.disableAutoFetch || pagesCount > PagesCountLimit.FORCE_LAZY_PAGE_INIT) {\n          this._pagesCapability.resolve();\n          return;\n        }\n        let getPagesLeft = pagesCount - 1;\n        if (getPagesLeft <= 0) {\n          this._pagesCapability.resolve();\n          return;\n        }\n        for (let pageNum = 2; pageNum <= pagesCount; ++pageNum) {\n          const promise = pdfDocument.getPage(pageNum).then(pdfPage => {\n            const pageView = this._pages[pageNum - 1];\n            if (!pageView.pdfPage) {\n              pageView.setPdfPage(pdfPage);\n            }\n            if (--getPagesLeft === 0) {\n              this._pagesCapability.resolve();\n            }\n          }, reason => {\n            console.error(`Unable to get page ${pageNum} to initialize viewer`, reason);\n            if (--getPagesLeft === 0) {\n              this._pagesCapability.resolve();\n            }\n          });\n          if (pageNum % PagesCountLimit.PAUSE_EAGER_PAGE_INIT === 0) {\n            await promise;\n          }\n        }\n      });\n      eventBus.dispatch(\"pagesinit\", {\n        source: this\n      });\n      pdfDocument.getMetadata().then(({\n        info\n      }) => {\n        if (pdfDocument !== this.pdfDocument) {\n          return;\n        }\n        if (info.Language) {\n          viewer.lang = info.Language;\n        }\n      });\n      if (this.defaultRenderingQueue) {\n        this.update();\n      }\n    }).catch(reason => {\n      console.error(\"Unable to initialize viewer\", reason);\n      this._pagesCapability.reject(reason);\n    });\n  }\n  setPageLabels(labels) {\n    var _a;\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!labels) {\n      this._pageLabels = null;\n    } else if (!(Array.isArray(labels) && this.pdfDocument.numPages === labels.length)) {\n      this._pageLabels = null;\n      console.error(`setPageLabels: Invalid page labels.`);\n    } else {\n      this._pageLabels = labels;\n    }\n    for (let i = 0, ii = this._pages.length; i < ii; i++) {\n      this._pages[i].setPageLabel(((_a = this._pageLabels) == null ? void 0 : _a[i]) ?? null);\n    }\n  }\n  _resetView() {\n    var _a, _b;\n    this._pages = [];\n    this._currentPageNumber = 1;\n    this._currentScale = UNKNOWN_SCALE;\n    this._currentScaleValue = null;\n    this._pageLabels = null;\n    __privateSet(this, _buffer, new PDFPageViewBuffer(DEFAULT_CACHE_SIZE));\n    this._location = null;\n    this._pagesRotation = 0;\n    this._optionalContentConfigPromise = null;\n    this._firstPageCapability = Promise.withResolvers();\n    this._onePageRenderedCapability = Promise.withResolvers();\n    this._pagesCapability = Promise.withResolvers();\n    this._scrollMode = ScrollMode.VERTICAL;\n    this._previousScrollMode = ScrollMode.UNKNOWN;\n    this._spreadMode = SpreadMode.NONE;\n    __privateSet(this, _scrollModePageState, {\n      previousPageNumber: 1,\n      scrollDown: true,\n      pages: []\n    });\n    (_a = __privateGet(this, _eventAbortController5)) == null ? void 0 : _a.abort();\n    __privateSet(this, _eventAbortController5, null);\n    this.viewer.textContent = \"\";\n    this._updateScrollMode();\n    this.viewer.removeAttribute(\"lang\");\n    (_b = __privateGet(this, _hiddenCopyElement)) == null ? void 0 : _b.remove();\n    __privateSet(this, _hiddenCopyElement, null);\n  }\n  _scrollUpdate() {\n    if (this.pagesCount === 0) {\n      return;\n    }\n    this.update();\n  }\n  pageLabelToPageNumber(label) {\n    if (!this._pageLabels) {\n      return null;\n    }\n    const i = this._pageLabels.indexOf(label);\n    if (i < 0) {\n      return null;\n    }\n    return i + 1;\n  }\n  scrollPageIntoView({\n    pageNumber,\n    destArray = null,\n    allowNegativeOffset = false,\n    ignoreDestinationZoom = false\n  }) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const pageView = Number.isInteger(pageNumber) && this._pages[pageNumber - 1];\n    if (!pageView) {\n      console.error(`scrollPageIntoView: \"${pageNumber}\" is not a valid pageNumber parameter.`);\n      return;\n    }\n    if (this.isInPresentationMode || !destArray) {\n      this._setCurrentPageNumber(pageNumber, true);\n      return;\n    }\n    let x = 0,\n      y = 0;\n    let width = 0,\n      height = 0,\n      widthScale,\n      heightScale;\n    const changeOrientation = pageView.rotation % 180 !== 0;\n    const pageWidth = (changeOrientation ? pageView.height : pageView.width) / pageView.scale / PixelsPerInch.PDF_TO_CSS_UNITS;\n    const pageHeight = (changeOrientation ? pageView.width : pageView.height) / pageView.scale / PixelsPerInch.PDF_TO_CSS_UNITS;\n    let scale = 0;\n    switch (destArray[1].name) {\n      case \"XYZ\":\n        x = destArray[2];\n        y = destArray[3];\n        scale = destArray[4];\n        x = x !== null ? x : 0;\n        y = y !== null ? y : pageHeight;\n        break;\n      case \"Fit\":\n      case \"FitB\":\n        scale = \"page-fit\";\n        break;\n      case \"FitH\":\n      case \"FitBH\":\n        y = destArray[2];\n        scale = \"page-width\";\n        if (y === null && this._location) {\n          x = this._location.left;\n          y = this._location.top;\n        } else if (typeof y !== \"number\" || y < 0) {\n          y = pageHeight;\n        }\n        break;\n      case \"FitV\":\n      case \"FitBV\":\n        x = destArray[2];\n        width = pageWidth;\n        height = pageHeight;\n        scale = \"page-height\";\n        break;\n      case \"FitR\":\n        x = destArray[2];\n        y = destArray[3];\n        width = destArray[4] - x;\n        height = destArray[5] - y;\n        let hPadding = SCROLLBAR_PADDING,\n          vPadding = VERTICAL_PADDING;\n        if (this.removePageBorders) {\n          hPadding = vPadding = 0;\n        }\n        widthScale = (this.container.clientWidth - hPadding) / width / PixelsPerInch.PDF_TO_CSS_UNITS;\n        heightScale = (this.container.clientHeight - vPadding) / height / PixelsPerInch.PDF_TO_CSS_UNITS;\n        scale = Math.min(Math.abs(widthScale), Math.abs(heightScale));\n        break;\n      default:\n        console.error(`scrollPageIntoView: \"${destArray[1].name}\" is not a valid destination type.`);\n        return;\n    }\n    if (!ignoreDestinationZoom) {\n      if (scale && scale !== this._currentScale) {\n        this.currentScaleValue = scale;\n      } else if (this._currentScale === UNKNOWN_SCALE) {\n        this.currentScaleValue = DEFAULT_SCALE_VALUE;\n      }\n    }\n    if (scale === \"page-fit\" && !destArray[4]) {\n      __privateMethod(this, _PDFViewer_instances, scrollIntoView_fn).call(this, pageView);\n      return;\n    }\n    const boundingRect = [pageView.viewport.convertToViewportPoint(x, y), pageView.viewport.convertToViewportPoint(x + width, y + height)];\n    let left = Math.min(boundingRect[0][0], boundingRect[1][0]);\n    let top = Math.min(boundingRect[0][1], boundingRect[1][1]);\n    if (!allowNegativeOffset) {\n      left = Math.max(left, 0);\n      top = Math.max(top, 0);\n    }\n    __privateMethod(this, _PDFViewer_instances, scrollIntoView_fn).call(this, pageView, {\n      left,\n      top\n    });\n  }\n  _updateLocation(firstPage) {\n    const currentScale = this._currentScale;\n    const currentScaleValue = this._currentScaleValue;\n    const normalizedScaleValue = parseFloat(currentScaleValue) === currentScale ? Math.round(currentScale * 1e4) / 100 : currentScaleValue;\n    const pageNumber = firstPage.id;\n    const currentPageView = this._pages[pageNumber - 1];\n    const container = this.container;\n    const topLeft = currentPageView.getPagePoint(container.scrollLeft - firstPage.x, container.scrollTop - firstPage.y);\n    const intLeft = Math.round(topLeft[0]);\n    const intTop = Math.round(topLeft[1]);\n    let pdfOpenParams = `#page=${pageNumber}`;\n    if (!this.isInPresentationMode) {\n      pdfOpenParams += `&zoom=${normalizedScaleValue},${intLeft},${intTop}`;\n    }\n    this._location = {\n      pageNumber,\n      scale: normalizedScaleValue,\n      top: intTop,\n      left: intLeft,\n      rotation: this._pagesRotation,\n      pdfOpenParams\n    };\n  }\n  update() {\n    const visible = this._getVisiblePages();\n    const visiblePages = visible.views,\n      numVisiblePages = visiblePages.length;\n    if (numVisiblePages === 0) {\n      return;\n    }\n    const newCacheSize = Math.max(DEFAULT_CACHE_SIZE, 2 * numVisiblePages + 1);\n    __privateGet(this, _buffer).resize(newCacheSize, visible.ids);\n    this.renderingQueue.renderHighestPriority(visible);\n    const isSimpleLayout = this._spreadMode === SpreadMode.NONE && (this._scrollMode === ScrollMode.PAGE || this._scrollMode === ScrollMode.VERTICAL);\n    const currentId = this._currentPageNumber;\n    let stillFullyVisible = false;\n    for (const page of visiblePages) {\n      if (page.percent < 100) {\n        break;\n      }\n      if (page.id === currentId && isSimpleLayout) {\n        stillFullyVisible = true;\n        break;\n      }\n    }\n    this._setCurrentPageNumber(stillFullyVisible ? currentId : visiblePages[0].id);\n    this._updateLocation(visible.first);\n    this.eventBus.dispatch(\"updateviewarea\", {\n      source: this,\n      location: this._location\n    });\n  }\n  containsElement(element) {\n    return this.container.contains(element);\n  }\n  focus() {\n    this.container.focus();\n  }\n  get _isContainerRtl() {\n    return getComputedStyle(this.container).direction === \"rtl\";\n  }\n  get isInPresentationMode() {\n    return this.presentationModeState === PresentationModeState.FULLSCREEN;\n  }\n  get isChangingPresentationMode() {\n    return this.presentationModeState === PresentationModeState.CHANGING;\n  }\n  get isHorizontalScrollbarEnabled() {\n    return this.isInPresentationMode ? false : this.container.scrollWidth > this.container.clientWidth;\n  }\n  get isVerticalScrollbarEnabled() {\n    return this.isInPresentationMode ? false : this.container.scrollHeight > this.container.clientHeight;\n  }\n  _getVisiblePages() {\n    const views = this._scrollMode === ScrollMode.PAGE ? __privateGet(this, _scrollModePageState).pages : this._pages,\n      horizontal = this._scrollMode === ScrollMode.HORIZONTAL,\n      rtl = horizontal && this._isContainerRtl;\n    return getVisibleElements({\n      scrollEl: this.container,\n      views,\n      sortByVisibility: true,\n      horizontal,\n      rtl\n    });\n  }\n  cleanup() {\n    for (const pageView of this._pages) {\n      if (pageView.renderingState !== RenderingStates.FINISHED) {\n        pageView.reset();\n      }\n    }\n  }\n  _cancelRendering() {\n    for (const pageView of this._pages) {\n      pageView.cancelRendering();\n    }\n  }\n  forceRendering(currentlyVisiblePages) {\n    const visiblePages = currentlyVisiblePages || this._getVisiblePages();\n    const scrollAhead = __privateMethod(this, _PDFViewer_instances, getScrollAhead_fn).call(this, visiblePages);\n    const preRenderExtra = this._spreadMode !== SpreadMode.NONE && this._scrollMode !== ScrollMode.HORIZONTAL;\n    const pageView = this.renderingQueue.getHighestPriority(visiblePages, this._pages, scrollAhead, preRenderExtra);\n    if (pageView) {\n      __privateMethod(this, _PDFViewer_instances, ensurePdfPageLoaded_fn).call(this, pageView).then(() => {\n        this.renderingQueue.renderView(pageView);\n      });\n      return true;\n    }\n    return false;\n  }\n  get hasEqualPageSizes() {\n    const firstPageView = this._pages[0];\n    for (let i = 1, ii = this._pages.length; i < ii; ++i) {\n      const pageView = this._pages[i];\n      if (pageView.width !== firstPageView.width || pageView.height !== firstPageView.height) {\n        return false;\n      }\n    }\n    return true;\n  }\n  getPagesOverview() {\n    let initialOrientation;\n    return this._pages.map(pageView => {\n      const viewport = pageView.pdfPage.getViewport({\n        scale: 1\n      });\n      const orientation = isPortraitOrientation(viewport);\n      if (initialOrientation === void 0) {\n        initialOrientation = orientation;\n      } else if (this.enablePrintAutoRotate && orientation !== initialOrientation) {\n        return {\n          width: viewport.height,\n          height: viewport.width,\n          rotation: (viewport.rotation - 90) % 360\n        };\n      }\n      return {\n        width: viewport.width,\n        height: viewport.height,\n        rotation: viewport.rotation\n      };\n    });\n  }\n  get optionalContentConfigPromise() {\n    if (!this.pdfDocument) {\n      return Promise.resolve(null);\n    }\n    if (!this._optionalContentConfigPromise) {\n      console.error(\"optionalContentConfigPromise: Not initialized yet.\");\n      return this.pdfDocument.getOptionalContentConfig({\n        intent: \"display\"\n      });\n    }\n    return this._optionalContentConfigPromise;\n  }\n  set optionalContentConfigPromise(promise) {\n    if (!(promise instanceof Promise)) {\n      throw new Error(`Invalid optionalContentConfigPromise: ${promise}`);\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!this._optionalContentConfigPromise) {\n      return;\n    }\n    this._optionalContentConfigPromise = promise;\n    this.refresh(false, {\n      optionalContentConfigPromise: promise\n    });\n    this.eventBus.dispatch(\"optionalcontentconfigchanged\", {\n      source: this,\n      promise\n    });\n  }\n  get scrollMode() {\n    return this._scrollMode;\n  }\n  set scrollMode(mode) {\n    if (this._scrollMode === mode) {\n      return;\n    }\n    if (!isValidScrollMode(mode)) {\n      throw new Error(`Invalid scroll mode: ${mode}`);\n    }\n    if (this.pagesCount > PagesCountLimit.FORCE_SCROLL_MODE_PAGE) {\n      return;\n    }\n    this._previousScrollMode = this._scrollMode;\n    this._scrollMode = mode;\n    this.eventBus.dispatch(\"scrollmodechanged\", {\n      source: this,\n      mode\n    });\n    this._updateScrollMode(this._currentPageNumber);\n  }\n  _updateScrollMode(pageNumber = null) {\n    const scrollMode = this._scrollMode,\n      viewer = this.viewer;\n    viewer.classList.toggle(\"scrollHorizontal\", scrollMode === ScrollMode.HORIZONTAL);\n    viewer.classList.toggle(\"scrollWrapped\", scrollMode === ScrollMode.WRAPPED);\n    if (!this.pdfDocument || !pageNumber) {\n      return;\n    }\n    if (scrollMode === ScrollMode.PAGE) {\n      __privateMethod(this, _PDFViewer_instances, ensurePageViewVisible_fn).call(this);\n    } else if (this._previousScrollMode === ScrollMode.PAGE) {\n      this._updateSpreadMode();\n    }\n    if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n      __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this._setCurrentPageNumber(pageNumber, true);\n    this.update();\n  }\n  get spreadMode() {\n    return this._spreadMode;\n  }\n  set spreadMode(mode) {\n    if (this._spreadMode === mode) {\n      return;\n    }\n    if (!isValidSpreadMode(mode)) {\n      throw new Error(`Invalid spread mode: ${mode}`);\n    }\n    this._spreadMode = mode;\n    this.eventBus.dispatch(\"spreadmodechanged\", {\n      source: this,\n      mode\n    });\n    this._updateSpreadMode(this._currentPageNumber);\n  }\n  _updateSpreadMode(pageNumber = null) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const viewer = this.viewer,\n      pages = this._pages;\n    if (this._scrollMode === ScrollMode.PAGE) {\n      __privateMethod(this, _PDFViewer_instances, ensurePageViewVisible_fn).call(this);\n    } else {\n      viewer.textContent = \"\";\n      if (this._spreadMode === SpreadMode.NONE) {\n        for (const pageView of this._pages) {\n          viewer.append(pageView.div);\n        }\n      } else {\n        const parity = this._spreadMode - 1;\n        let spread = null;\n        for (let i = 0, ii = pages.length; i < ii; ++i) {\n          if (spread === null) {\n            spread = document.createElement(\"div\");\n            spread.className = \"spread\";\n            viewer.append(spread);\n          } else if (i % 2 === parity) {\n            spread = spread.cloneNode(false);\n            viewer.append(spread);\n          }\n          spread.append(pages[i].div);\n        }\n      }\n    }\n    if (!pageNumber) {\n      return;\n    }\n    if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n      __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this._setCurrentPageNumber(pageNumber, true);\n    this.update();\n  }\n  _getPageAdvance(currentPageNumber, previous = false) {\n    switch (this._scrollMode) {\n      case ScrollMode.WRAPPED:\n        {\n          const {\n              views\n            } = this._getVisiblePages(),\n            pageLayout = /* @__PURE__ */new Map();\n          for (const {\n            id,\n            y,\n            percent,\n            widthPercent\n          } of views) {\n            if (percent === 0 || widthPercent < 100) {\n              continue;\n            }\n            let yArray = pageLayout.get(y);\n            if (!yArray) {\n              pageLayout.set(y, yArray || (yArray = []));\n            }\n            yArray.push(id);\n          }\n          for (const yArray of pageLayout.values()) {\n            const currentIndex = yArray.indexOf(currentPageNumber);\n            if (currentIndex === -1) {\n              continue;\n            }\n            const numPages = yArray.length;\n            if (numPages === 1) {\n              break;\n            }\n            if (previous) {\n              for (let i = currentIndex - 1, ii = 0; i >= ii; i--) {\n                const currentId = yArray[i],\n                  expectedId = yArray[i + 1] - 1;\n                if (currentId < expectedId) {\n                  return currentPageNumber - expectedId;\n                }\n              }\n            } else {\n              for (let i = currentIndex + 1, ii = numPages; i < ii; i++) {\n                const currentId = yArray[i],\n                  expectedId = yArray[i - 1] + 1;\n                if (currentId > expectedId) {\n                  return expectedId - currentPageNumber;\n                }\n              }\n            }\n            if (previous) {\n              const firstId = yArray[0];\n              if (firstId < currentPageNumber) {\n                return currentPageNumber - firstId + 1;\n              }\n            } else {\n              const lastId = yArray[numPages - 1];\n              if (lastId > currentPageNumber) {\n                return lastId - currentPageNumber + 1;\n              }\n            }\n            break;\n          }\n          break;\n        }\n      case ScrollMode.HORIZONTAL:\n        {\n          break;\n        }\n      case ScrollMode.PAGE:\n      case ScrollMode.VERTICAL:\n        {\n          if (this._spreadMode === SpreadMode.NONE) {\n            break;\n          }\n          const parity = this._spreadMode - 1;\n          if (previous && currentPageNumber % 2 !== parity) {\n            break;\n          } else if (!previous && currentPageNumber % 2 === parity) {\n            break;\n          }\n          const {\n              views\n            } = this._getVisiblePages(),\n            expectedId = previous ? currentPageNumber - 1 : currentPageNumber + 1;\n          for (const {\n            id,\n            percent,\n            widthPercent\n          } of views) {\n            if (id !== expectedId) {\n              continue;\n            }\n            if (percent > 0 && widthPercent === 100) {\n              return 2;\n            }\n            break;\n          }\n          break;\n        }\n    }\n    return 1;\n  }\n  nextPage() {\n    const currentPageNumber = this._currentPageNumber,\n      pagesCount = this.pagesCount;\n    if (currentPageNumber >= pagesCount) {\n      return false;\n    }\n    const advance = this._getPageAdvance(currentPageNumber, false) || 1;\n    this.currentPageNumber = Math.min(currentPageNumber + advance, pagesCount);\n    return true;\n  }\n  previousPage() {\n    const currentPageNumber = this._currentPageNumber;\n    if (currentPageNumber <= 1) {\n      return false;\n    }\n    const advance = this._getPageAdvance(currentPageNumber, true) || 1;\n    this.currentPageNumber = Math.max(currentPageNumber - advance, 1);\n    return true;\n  }\n  updateScale({\n    drawingDelay,\n    scaleFactor = null,\n    steps = null,\n    origin\n  }) {\n    if (steps === null && scaleFactor === null) {\n      throw new Error(\"Invalid updateScale options: either `steps` or `scaleFactor` must be provided.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    let newScale = this._currentScale;\n    if (scaleFactor > 0 && scaleFactor !== 1) {\n      newScale = Math.round(newScale * scaleFactor * 100) / 100;\n    } else if (steps) {\n      const delta = steps > 0 ? DEFAULT_SCALE_DELTA : 1 / DEFAULT_SCALE_DELTA;\n      const round = steps > 0 ? Math.ceil : Math.floor;\n      steps = Math.abs(steps);\n      do {\n        newScale = round((newScale * delta).toFixed(2) * 10) / 10;\n      } while (--steps > 0);\n    }\n    newScale = Math.max(MIN_SCALE, Math.min(MAX_SCALE, newScale));\n    __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, newScale, {\n      noScroll: false,\n      drawingDelay,\n      origin\n    });\n  }\n  increaseScale(options = {}) {\n    this.updateScale({\n      ...options,\n      steps: options.steps ?? 1\n    });\n  }\n  decreaseScale(options = {}) {\n    this.updateScale({\n      ...options,\n      steps: -(options.steps ?? 1)\n    });\n  }\n  get containerTopLeft() {\n    return __privateGet(this, _containerTopLeft) || __privateSet(this, _containerTopLeft, [this.container.offsetTop, this.container.offsetLeft]);\n  }\n  get annotationEditorMode() {\n    return __privateGet(this, _annotationEditorUIManager) ? __privateGet(this, _annotationEditorMode) : AnnotationEditorType.DISABLE;\n  }\n  set annotationEditorMode({\n    mode,\n    editId = null,\n    isFromKeyboard = false\n  }) {\n    if (!__privateGet(this, _annotationEditorUIManager)) {\n      throw new Error(`The AnnotationEditor is not enabled.`);\n    }\n    if (__privateGet(this, _annotationEditorMode) === mode) {\n      return;\n    }\n    if (!isValidAnnotationEditorMode(mode)) {\n      throw new Error(`Invalid AnnotationEditor mode: ${mode}`);\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    __privateSet(this, _annotationEditorMode, mode);\n    this.eventBus.dispatch(\"annotationeditormodechanged\", {\n      source: this,\n      mode\n    });\n    __privateGet(this, _annotationEditorUIManager).updateMode(mode, editId, isFromKeyboard);\n  }\n  set annotationEditorParams({\n    type,\n    value\n  }) {\n    if (!__privateGet(this, _annotationEditorUIManager)) {\n      throw new Error(`The AnnotationEditor is not enabled.`);\n    }\n    __privateGet(this, _annotationEditorUIManager).updateParams(type, value);\n  }\n  refresh(noUpdate = false, updateArgs = /* @__PURE__ */Object.create(null)) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    for (const pageView of this._pages) {\n      pageView.update(updateArgs);\n    }\n    if (__privateGet(this, _scaleTimeoutId) !== null) {\n      clearTimeout(__privateGet(this, _scaleTimeoutId));\n      __privateSet(this, _scaleTimeoutId, null);\n    }\n    if (!noUpdate) {\n      this.update();\n    }\n  }\n}\n_buffer = new WeakMap();\n_altTextManager = new WeakMap();\n_annotationEditorHighlightColors = new WeakMap();\n_annotationEditorMode = new WeakMap();\n_annotationEditorUIManager = new WeakMap();\n_annotationMode2 = new WeakMap();\n_containerTopLeft = new WeakMap();\n_enableHWA2 = new WeakMap();\n_enableHighlightFloatingButton = new WeakMap();\n_enablePermissions2 = new WeakMap();\n_eventAbortController5 = new WeakMap();\n_mlManager = new WeakMap();\n_getAllTextInProgress = new WeakMap();\n_hiddenCopyElement = new WeakMap();\n_interruptCopyCondition = new WeakMap();\n_previousContainerHeight = new WeakMap();\n_resizeObserver = new WeakMap();\n_scrollModePageState = new WeakMap();\n_scaleTimeoutId = new WeakMap();\n_textLayerMode2 = new WeakMap();\n_PDFViewer_instances = new WeakSet();\ninitializePermissions_fn = function (permissions) {\n  const params = {\n    annotationEditorMode: __privateGet(this, _annotationEditorMode),\n    annotationMode: __privateGet(this, _annotationMode2),\n    textLayerMode: __privateGet(this, _textLayerMode2)\n  };\n  if (!permissions) {\n    return params;\n  }\n  if (!permissions.includes(PermissionFlag.COPY) && __privateGet(this, _textLayerMode2) === TextLayerMode.ENABLE) {\n    params.textLayerMode = TextLayerMode.ENABLE_PERMISSIONS;\n  }\n  if (!permissions.includes(PermissionFlag.MODIFY_CONTENTS)) {\n    params.annotationEditorMode = AnnotationEditorType.DISABLE;\n  }\n  if (!permissions.includes(PermissionFlag.MODIFY_ANNOTATIONS) && !permissions.includes(PermissionFlag.FILL_INTERACTIVE_FORMS) && __privateGet(this, _annotationMode2) === AnnotationMode.ENABLE_FORMS) {\n    params.annotationMode = AnnotationMode.ENABLE;\n  }\n  return params;\n};\nonePageRenderedOrForceFetch_fn = async function (signal) {\n  if (document.visibilityState === \"hidden\" || !this.container.offsetParent || this._getVisiblePages().views.length === 0) {\n    return;\n  }\n  const hiddenCapability = Promise.withResolvers();\n  function onVisibilityChange() {\n    if (document.visibilityState === \"hidden\") {\n      hiddenCapability.resolve();\n    }\n  }\n  document.addEventListener(\"visibilitychange\", onVisibilityChange, {\n    signal\n  });\n  await Promise.race([this._onePageRenderedCapability.promise, hiddenCapability.promise]);\n  document.removeEventListener(\"visibilitychange\", onVisibilityChange);\n};\ncopyCallback_fn = function (textLayerMode, event) {\n  const selection = document.getSelection();\n  const {\n    focusNode,\n    anchorNode\n  } = selection;\n  if (anchorNode && focusNode && selection.containsNode(__privateGet(this, _hiddenCopyElement))) {\n    if (__privateGet(this, _getAllTextInProgress) || textLayerMode === TextLayerMode.ENABLE_PERMISSIONS) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n    __privateSet(this, _getAllTextInProgress, true);\n    const {\n      classList\n    } = this.viewer;\n    classList.add(\"copyAll\");\n    const ac = new AbortController();\n    window.addEventListener(\"keydown\", ev => __privateSet(this, _interruptCopyCondition, ev.key === \"Escape\"), {\n      signal: ac.signal\n    });\n    this.getAllText().then(async text => {\n      if (text !== null) {\n        await navigator.clipboard.writeText(text);\n      }\n    }).catch(reason => {\n      console.warn(`Something goes wrong when extracting the text: ${reason.message}`);\n    }).finally(() => {\n      __privateSet(this, _getAllTextInProgress, false);\n      __privateSet(this, _interruptCopyCondition, false);\n      ac.abort();\n      classList.remove(\"copyAll\");\n    });\n    event.preventDefault();\n    event.stopPropagation();\n  }\n};\nensurePageViewVisible_fn = function () {\n  if (this._scrollMode !== ScrollMode.PAGE) {\n    throw new Error(\"#ensurePageViewVisible: Invalid scrollMode value.\");\n  }\n  const pageNumber = this._currentPageNumber,\n    state = __privateGet(this, _scrollModePageState),\n    viewer = this.viewer;\n  viewer.textContent = \"\";\n  state.pages.length = 0;\n  if (this._spreadMode === SpreadMode.NONE && !this.isInPresentationMode) {\n    const pageView = this._pages[pageNumber - 1];\n    viewer.append(pageView.div);\n    state.pages.push(pageView);\n  } else {\n    const pageIndexSet = /* @__PURE__ */new Set(),\n      parity = this._spreadMode - 1;\n    if (parity === -1) {\n      pageIndexSet.add(pageNumber - 1);\n    } else if (pageNumber % 2 !== parity) {\n      pageIndexSet.add(pageNumber - 1);\n      pageIndexSet.add(pageNumber);\n    } else {\n      pageIndexSet.add(pageNumber - 2);\n      pageIndexSet.add(pageNumber - 1);\n    }\n    const spread = document.createElement(\"div\");\n    spread.className = \"spread\";\n    if (this.isInPresentationMode) {\n      const dummyPage = document.createElement(\"div\");\n      dummyPage.className = \"dummyPage\";\n      spread.append(dummyPage);\n    }\n    for (const i of pageIndexSet) {\n      const pageView = this._pages[i];\n      if (!pageView) {\n        continue;\n      }\n      spread.append(pageView.div);\n      state.pages.push(pageView);\n    }\n    viewer.append(spread);\n  }\n  state.scrollDown = pageNumber >= state.previousPageNumber;\n  state.previousPageNumber = pageNumber;\n};\nscrollIntoView_fn = function (pageView, pageSpot = null) {\n  const {\n    div,\n    id\n  } = pageView;\n  if (this._currentPageNumber !== id) {\n    this._setCurrentPageNumber(id);\n  }\n  if (this._scrollMode === ScrollMode.PAGE) {\n    __privateMethod(this, _PDFViewer_instances, ensurePageViewVisible_fn).call(this);\n    this.update();\n  }\n  if (!pageSpot && !this.isInPresentationMode) {\n    const left = div.offsetLeft + div.clientLeft,\n      right = left + div.clientWidth;\n    const {\n      scrollLeft,\n      clientWidth\n    } = this.container;\n    if (this._scrollMode === ScrollMode.HORIZONTAL || left < scrollLeft || right > scrollLeft + clientWidth) {\n      pageSpot = {\n        left: 0,\n        top: 0\n      };\n    }\n  }\n  scrollIntoView(div, pageSpot);\n  if (!this._currentScaleValue && this._location) {\n    this._location = null;\n  }\n};\nisSameScale_fn = function (newScale) {\n  return newScale === this._currentScale || Math.abs(newScale - this._currentScale) < 1e-15;\n};\nsetScaleUpdatePages_fn = function (newScale, newValue, {\n  noScroll = false,\n  preset = false,\n  drawingDelay = -1,\n  origin = null\n}) {\n  this._currentScaleValue = newValue.toString();\n  if (__privateMethod(this, _PDFViewer_instances, isSameScale_fn).call(this, newScale)) {\n    if (preset) {\n      this.eventBus.dispatch(\"scalechanging\", {\n        source: this,\n        scale: newScale,\n        presetValue: newValue\n      });\n    }\n    return;\n  }\n  this.viewer.style.setProperty(\"--scale-factor\", newScale * PixelsPerInch.PDF_TO_CSS_UNITS);\n  const postponeDrawing = drawingDelay >= 0 && drawingDelay < 1e3;\n  this.refresh(true, {\n    scale: newScale,\n    drawingDelay: postponeDrawing ? drawingDelay : -1\n  });\n  if (postponeDrawing) {\n    __privateSet(this, _scaleTimeoutId, setTimeout(() => {\n      __privateSet(this, _scaleTimeoutId, null);\n      this.refresh();\n    }, drawingDelay));\n  }\n  const previousScale = this._currentScale;\n  this._currentScale = newScale;\n  if (!noScroll) {\n    let page = this._currentPageNumber,\n      dest;\n    if (this._location && !(this.isInPresentationMode || this.isChangingPresentationMode)) {\n      page = this._location.pageNumber;\n      dest = [null, {\n        name: \"XYZ\"\n      }, this._location.left, this._location.top, null];\n    }\n    this.scrollPageIntoView({\n      pageNumber: page,\n      destArray: dest,\n      allowNegativeOffset: true\n    });\n    if (Array.isArray(origin)) {\n      const scaleDiff = newScale / previousScale - 1;\n      const [top, left] = this.containerTopLeft;\n      this.container.scrollLeft += (origin[0] - left) * scaleDiff;\n      this.container.scrollTop += (origin[1] - top) * scaleDiff;\n    }\n  }\n  this.eventBus.dispatch(\"scalechanging\", {\n    source: this,\n    scale: newScale,\n    presetValue: preset ? newValue : void 0\n  });\n  if (this.defaultRenderingQueue) {\n    this.update();\n  }\n};\npageWidthScaleFactor_get = function () {\n  if (this._spreadMode !== SpreadMode.NONE && this._scrollMode !== ScrollMode.HORIZONTAL) {\n    return 2;\n  }\n  return 1;\n};\nsetScale_fn = function (value, options) {\n  let scale = parseFloat(value);\n  if (scale > 0) {\n    options.preset = false;\n    __privateMethod(this, _PDFViewer_instances, setScaleUpdatePages_fn).call(this, scale, value, options);\n  } else {\n    const currentPage = this._pages[this._currentPageNumber - 1];\n    if (!currentPage) {\n      return;\n    }\n    let hPadding = SCROLLBAR_PADDING,\n      vPadding = VERTICAL_PADDING;\n    if (this.isInPresentationMode) {\n      hPadding = vPadding = 4;\n      if (this._spreadMode !== SpreadMode.NONE) {\n        hPadding *= 2;\n      }\n    } else if (this.removePageBorders) {\n      hPadding = vPadding = 0;\n    } else if (this._scrollMode === ScrollMode.HORIZONTAL) {\n      [hPadding, vPadding] = [vPadding, hPadding];\n    }\n    const pageWidthScale = (this.container.clientWidth - hPadding) / currentPage.width * currentPage.scale / __privateGet(this, _PDFViewer_instances, pageWidthScaleFactor_get);\n    const pageHeightScale = (this.container.clientHeight - vPadding) / currentPage.height * currentPage.scale;\n    switch (value) {\n      case \"page-actual\":\n        scale = 1;\n        break;\n      case \"page-width\":\n        scale = pageWidthScale;\n        break;\n      case \"page-height\":\n        scale = pageHeightScale;\n        break;\n      case \"page-fit\":\n        scale = Math.min(pageWidthScale, pageHeightScale);\n        break;\n      case \"auto\":\n        const horizontalScale = isPortraitOrientation(currentPage) ? pageWidthScale : Math.min(pageHeightScale, pageWidthScale);\n        scale = Math.min(MAX_AUTO_SCALE, horizontalScale);\n        break;\n      default:\n        console.error(`#setScale: \"${value}\" is an unknown zoom value.`);\n        return;\n    }\n    options.preset = true;\n    __privateMethod(this, _PDFViewer_instances, setScaleUpdatePages_fn).call(this, scale, value, options);\n  }\n};\nresetCurrentPageView_fn = function () {\n  const pageView = this._pages[this._currentPageNumber - 1];\n  if (this.isInPresentationMode) {\n    __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, this._currentScaleValue, {\n      noScroll: true\n    });\n  }\n  __privateMethod(this, _PDFViewer_instances, scrollIntoView_fn).call(this, pageView);\n};\nensurePdfPageLoaded_fn = async function (pageView) {\n  if (pageView.pdfPage) {\n    return pageView.pdfPage;\n  }\n  try {\n    const pdfPage = await this.pdfDocument.getPage(pageView.id);\n    if (!pageView.pdfPage) {\n      pageView.setPdfPage(pdfPage);\n    }\n    return pdfPage;\n  } catch (reason) {\n    console.error(\"Unable to get page for page view\", reason);\n    return null;\n  }\n};\ngetScrollAhead_fn = function (visible) {\n  var _a, _b;\n  if (((_a = visible.first) == null ? void 0 : _a.id) === 1) {\n    return true;\n  } else if (((_b = visible.last) == null ? void 0 : _b.id) === this.pagesCount) {\n    return false;\n  }\n  switch (this._scrollMode) {\n    case ScrollMode.PAGE:\n      return __privateGet(this, _scrollModePageState).scrollDown;\n    case ScrollMode.HORIZONTAL:\n      return this.scroll.right;\n  }\n  return this.scroll.down;\n};\nupdateContainerHeightCss_fn = function (height = this.container.clientHeight) {\n  if (height !== __privateGet(this, _previousContainerHeight)) {\n    __privateSet(this, _previousContainerHeight, height);\n    docStyle.setProperty(\"--viewer-container-height\", `${height}px`);\n  }\n};\nresizeObserverCallback_fn = function (entries) {\n  for (const entry of entries) {\n    if (entry.target === this.container) {\n      __privateMethod(this, _PDFViewer_instances, updateContainerHeightCss_fn).call(this, Math.floor(entry.borderBoxSize[0].blockSize));\n      __privateSet(this, _containerTopLeft, null);\n      break;\n    }\n  }\n};\nclass PDFSinglePageViewer extends PDFViewer {\n  _resetView() {\n    super._resetView();\n    this._scrollMode = ScrollMode.PAGE;\n    this._spreadMode = SpreadMode.NONE;\n  }\n  set scrollMode(mode) {}\n  _updateScrollMode() {}\n  set spreadMode(mode) {}\n  _updateSpreadMode() {}\n}\nvar __webpack_exports__AnnotationLayerBuilder = __webpack_exports__.AnnotationLayerBuilder;\nvar __webpack_exports__DownloadManager = __webpack_exports__.DownloadManager;\nvar __webpack_exports__EventBus = __webpack_exports__.EventBus;\nvar __webpack_exports__FindState = __webpack_exports__.FindState;\nvar __webpack_exports__GenericL10n = __webpack_exports__.GenericL10n;\nvar __webpack_exports__LinkTarget = __webpack_exports__.LinkTarget;\nvar __webpack_exports__PDFFindController = __webpack_exports__.PDFFindController;\nvar __webpack_exports__PDFHistory = __webpack_exports__.PDFHistory;\nvar __webpack_exports__PDFLinkService = __webpack_exports__.PDFLinkService;\nvar __webpack_exports__PDFPageView = __webpack_exports__.PDFPageView;\nvar __webpack_exports__PDFScriptingManager = __webpack_exports__.PDFScriptingManager;\nvar __webpack_exports__PDFSinglePageViewer = __webpack_exports__.PDFSinglePageViewer;\nvar __webpack_exports__PDFViewer = __webpack_exports__.PDFViewer;\nvar __webpack_exports__ProgressBar = __webpack_exports__.ProgressBar;\nvar __webpack_exports__RenderingStates = __webpack_exports__.RenderingStates;\nvar __webpack_exports__ScrollMode = __webpack_exports__.ScrollMode;\nvar __webpack_exports__SimpleLinkService = __webpack_exports__.SimpleLinkService;\nvar __webpack_exports__SpreadMode = __webpack_exports__.SpreadMode;\nvar __webpack_exports__StructTreeLayerBuilder = __webpack_exports__.StructTreeLayerBuilder;\nvar __webpack_exports__TextLayerBuilder = __webpack_exports__.TextLayerBuilder;\nvar __webpack_exports__XfaLayerBuilder = __webpack_exports__.XfaLayerBuilder;\nvar __webpack_exports__parseQueryString = __webpack_exports__.parseQueryString;\nexport { __webpack_exports__AnnotationLayerBuilder as AnnotationLayerBuilder, __webpack_exports__DownloadManager as DownloadManager, __webpack_exports__EventBus as EventBus, __webpack_exports__FindState as FindState, __webpack_exports__GenericL10n as GenericL10n, __webpack_exports__LinkTarget as LinkTarget, __webpack_exports__PDFFindController as PDFFindController, __webpack_exports__PDFHistory as PDFHistory, __webpack_exports__PDFLinkService as PDFLinkService, __webpack_exports__PDFPageView as PDFPageView, __webpack_exports__PDFScriptingManager as PDFScriptingManager, __webpack_exports__PDFSinglePageViewer as PDFSinglePageViewer, __webpack_exports__PDFViewer as PDFViewer, __webpack_exports__ProgressBar as ProgressBar, __webpack_exports__RenderingStates as RenderingStates, __webpack_exports__ScrollMode as ScrollMode, __webpack_exports__SimpleLinkService as SimpleLinkService, __webpack_exports__SpreadMode as SpreadMode, __webpack_exports__StructTreeLayerBuilder as StructTreeLayerBuilder, __webpack_exports__TextLayerBuilder as TextLayerBuilder, __webpack_exports__XfaLayerBuilder as XfaLayerBuilder, __webpack_exports__parseQueryString as parseQueryString };","map":{"version":3,"names":["__defProp","Object","defineProperty","__typeError","msg","TypeError","__defNormalProp","obj","key","value","enumerable","configurable","writable","__publicField","__accessCheck","member","has","__privateGet","getter","call","get","__privateAdd","WeakSet","add","set","__privateSet","setter","__privateMethod","method","__privateWrapper","_","_classList","_disableAutoFetchTimeout","_percent","_style","_visible","_state","_updateMatchesCountOnProgress","_visitedPagesCount","_PDFFindController_instances","onFind_fn","reset_fn","query_get","shouldDirtyMatch_fn","isEntireWord_fn","calculateRegExpMatch_fn","convertToRegExpString_fn","calculateMatch_fn","extractText_fn","updatePage_fn","updateAllPages_fn","nextMatch_fn","matchesReady_fn","nextPageMatch_fn","advanceOffsetPage_fn","updateMatch_fn","onFindBarClose_fn","requestMatchesCount_fn","updateUIResultsCount_fn","updateUIState_fn","_PDFLinkService_static","isValidExplicitDest_fn","_onAppend","_eventAbortController","_AnnotationLayerBuilder_instances","updatePresentationModeState_fn","_openBlobUrls","_listeners","_dir","_elements","_lang","_l10n","_L10n_static","fixupLangCode_fn","isRTL_fn","_genericl10n_GenericL10n_static","generateBundles_fn","createBundle_fn","getPaths_fn","generateBundlesFallback_fn","createBundleFallback_fn","_eventAbortController2","_PDFHistory_instances","pushOrReplaceState_fn","tryPushCurrentPosition_fn","isValidPage_fn","isValidState_fn","updateInternalState_fn","parseCurrentHash_fn","updateViewarea_fn","popState_fn","pageHide_fn","bindEvents_fn","unbindEvents_fn","_annotationLayer","_drawLayer","_onAppend2","_textLayer","_uiManager","_drawLayer2","_treeDom","_StructTreeLayerBuilder_instances","setAttributes_fn","walk_fn","_enabled","_textChildren","_textNodes","_waitingElements","_TextAccessibilityManager_static","compareElementPositions_fn","_TextAccessibilityManager_instances","addIdToAriaOwns_fn","_eventAbortController3","_enablePermissions","_onAppend3","_renderingDone","_textLayer2","_textLayers","_selectionChangeAbortController","_TextLayerBuilder_instances","bindMouse_fn","_TextLayerBuilder_static","removeGlobalSelectionListener_fn","enableGlobalSelectionListener_fn","_annotationMode","_enableHWA","_hasRestrictedScaling","_layerProperties","_loadingId","_previousRotation","_renderError","_renderingState","_textLayerMode","_useThumbnailCanvas","_viewportMap","_layers","_PDFPageView_instances","addLayer_fn","setDimensions_fn","dispatchLayerRendered_fn","renderAnnotationLayer_fn","renderAnnotationEditorLayer_fn","renderDrawLayer_fn","renderXfaLayer_fn","renderTextLayer_fn","renderStructTreeLayer_fn","buildXfaTextContentItems_fn","finishRenderTask_fn","_closeCapability","_destroyCapability","_docProperties","_eventAbortController4","_eventBus","_externalServices","_pdfDocument","_pdfViewer","_ready","_scripting","_willPrintCapability","_PDFScriptingManager_instances","updateFromSandbox_fn","dispatchPageOpen_fn","dispatchPageClose_fn","initScripting_fn","destroyScripting_fn","_buf","_size","_PDFPageViewBuffer_instances","destroyFirstView_fn","_buffer","_altTextManager","_annotationEditorHighlightColors","_annotationEditorMode","_annotationEditorUIManager","_annotationMode2","_containerTopLeft","_enableHWA2","_enableHighlightFloatingButton","_enablePermissions2","_eventAbortController5","_mlManager","_getAllTextInProgress","_hiddenCopyElement","_interruptCopyCondition","_previousContainerHeight","_resizeObserver","_scrollModePageState","_scaleTimeoutId","_textLayerMode2","_PDFViewer_instances","initializePermissions_fn","onePageRenderedOrForceFetch_fn","copyCallback_fn","ensurePageViewVisible_fn","scrollIntoView_fn","isSameScale_fn","setScaleUpdatePages_fn","pageWidthScaleFactor_get","setScale_fn","resetCurrentPageView_fn","ensurePdfPageLoaded_fn","getScrollAhead_fn","updateContainerHeightCss_fn","resizeObserverCallback_fn","__webpack_require__","d","exports","definition","o","prop","prototype","hasOwnProperty","__webpack_exports__","globalThis","pdfjsViewer","AnnotationLayerBuilder","DownloadManager","EventBus","FindState","GenericL10n","genericl10n_GenericL10n","LinkTarget","PDFFindController","PDFHistory","PDFLinkService","PDFPageView","PDFScriptingManager","PDFScriptingManagerComponents","PDFSinglePageViewer","PDFViewer","ProgressBar","RenderingStates","ScrollMode","SimpleLinkService","SpreadMode","StructTreeLayerBuilder","TextLayerBuilder","XfaLayerBuilder","parseQueryString","DEFAULT_SCALE_VALUE","DEFAULT_SCALE","DEFAULT_SCALE_DELTA","MIN_SCALE","MAX_SCALE","UNKNOWN_SCALE","MAX_AUTO_SCALE","SCROLLBAR_PADDING","VERTICAL_PADDING","INITIAL","RUNNING","PAUSED","FINISHED","PresentationModeState","UNKNOWN","NORMAL","CHANGING","FULLSCREEN","TextLayerMode","DISABLE","ENABLE","ENABLE_PERMISSIONS","VERTICAL","HORIZONTAL","WRAPPED","PAGE","NONE","ODD","EVEN","OutputScale","constructor","pixelRatio","window","devicePixelRatio","sx","sy","scaled","scrollIntoView","element","spot","scrollMatches","parent","offsetParent","console","error","offsetY","offsetTop","clientTop","offsetX","offsetLeft","clientLeft","clientHeight","scrollHeight","clientWidth","scrollWidth","classList","contains","getComputedStyle","overflow","top","left","scrollLeft","scrollTop","watchScroll","viewAreaElement","callback","abortSignal","debounceScroll","evt","rAF","requestAnimationFrame","viewAreaElementScrolled","currentX","lastX","state","right","currentY","lastY","down","_eventHandler","addEventListener","useCapture","signal","cancelAnimationFrame","once","query","params","Map","URLSearchParams","toLowerCase","InvisibleCharsRegExp","removeNullCharacters","str","replaceInvisible","test","replaceAll","m","binarySearchFirstItem","items","condition","start","minIndex","maxIndex","length","currentIndex","currentItem","approximateFraction","x","Math","floor","xinv","limit","x_","a","b","c","p","q","result","floorToDivide","div","backtrackBeforeAllVisibleElements","index","views","elt","pageTop","i","getVisibleElements","scrollEl","sortByVisibility","horizontal","rtl","bottom","isElementBottomAfterViewTop","view","elementBottom","isElementNextAfterViewHorizontally","elementLeft","elementRight","visible","ids","Set","numViews","firstVisibleElementInd","lastEdge","currentWidth","currentHeight","viewWidth","viewHeight","viewRight","viewBottom","hiddenHeight","max","hiddenWidth","fractionHeight","fractionWidth","percent","push","id","y","widthPercent","first","last","at","sort","pc","abs","isValidRotation","angle","Number","isInteger","isValidScrollMode","mode","values","includes","isValidSpreadMode","isPortraitOrientation","size","width","height","Promise","resolve","docStyle","document","documentElement","style","clamp","v","min","bar","val","isNaN","remove","setProperty","setWidth","viewer","container","parentNode","scrollbarWidth","offsetWidth","setDisableAutoFetch","delay","clearTimeout","show","setTimeout","hide","WeakMap","apiPageLayoutToViewerModes","layout","scrollMode","spreadMode","CharacterType","SPACE","ALPHA_LETTER","PUNCT","HAN_LETTER","KATAKANA_LETTER","HIRAGANA_LETTER","HALFWIDTH_KATAKANA_LETTER","THAI_LETTER","isAlphabeticalScript","charCode","isAscii","isAsciiAlpha","isAsciiDigit","isAsciiSpace","isHan","isKatakana","isHiragana","isHalfwidthKatakana","isThai","getCharacterType","NormalizeWithNFKC","getNormalizeWithNFKC","FOUND","NOT_FOUND","PENDING","FIND_TIMEOUT","MATCH_SCROLL_OFFSET_TOP","MATCH_SCROLL_OFFSET_LEFT","CHARACTERS_TO_NORMALIZE","DIACRITICS_EXCEPTION","DIACRITICS_EXCEPTION_STR","DIACRITICS_REG_EXP","RegExp","SPECIAL_CHARS_REG_EXP","NOT_DIACRITIC_FROM_END_REG_EXP","NOT_DIACRITIC_FROM_START_REG_EXP","SYLLABLES_REG_EXP","SYLLABLES_LENGTHS","FIRST_CHAR_SYLLABLES_REG_EXP","NFKC_CHARS_TO_NORMALIZE","noSyllablesRegExp","withSyllablesRegExp","normalize","text","syllablePositions","exec","char","len","normalizationRegex","replace","keys","join","toNormalizeWithNFKC","CJK","HKDiacritics","regexp","rawDiacriticsPositions","normalized","positions","rawDiacriticsIndex","syllableIndex","shift","shiftOrigin","eol","hasDiacritics","match2","p1","p2","p3","p4","p5","p6","p7","p8","_a","_b","_c","replacement","jj","j","charAt","hasTrailingDashEOL","endsWith","slice","newCharLen","getOriginalIndex","diffs","pos","end","oldStart","oldEnd","oldLen","linkService","eventBus","updateMatchesCountOnProgress","_linkService","onIsPageVisible","_on","bind","highlightMatches","_highlightMatches","pageMatches","_pageMatches","pageMatchesLength","_pageMatchesLength","selected","_selected","setDocument","pdfDocument","_firstPageCapability","scrollMatchIntoView","selectedLeft","pageIndex","matchIndex","_scrollMatches","matchIdx","pageIdx","type","_dirtyMatch","promise","then","findbarClosed","pendingTimeout","_findTimeout","highlightAll","_offset","wrapped","_extractTextPromises","_pageContents","_pageDiffs","_hasDiacritics","_matchesCountTotal","_pagesToSearch","_pendingFindMatches","_resumePageIdx","withResolvers","_rawQuery","_normalizedQuery","filter","map","newQuery","prevQuery","newType","prevType","JSON","stringify","pageNumber","pagesCount","page","content","startIdx","match","charCodeAt","entireWord","pageContent","matches","matchesLength","matchPos","matchLen","matchDiacritics","isUnicode","trailingSpaces","String","fromCharCode","caseSensitive","reverse","isUnicodePart","queryPart","flags","pageMatchesCount","deferred","textOptions","disableNormalization","ii","getPage","pdfPage","getTextContent","textContent","strBuf","textItem","hasEOL","reason","dispatch","source","previous","findPrevious","currentPageIndex","numPages","delete","offset","numPageMatches","numMatches","found","previousPage","current","total","matchesCount","rawQuery","DEFAULT_LINK_REL","SELF","BLANK","PARENT","TOP","_PDFLinkService","externalLinkTarget","externalLinkRel","ignoreDestinationZoom","_ignoreDestinationZoom","baseUrl","pdfViewer","pdfHistory","setViewer","setHistory","currentPageNumber","rotation","pagesRotation","isInPresentationMode","goToDestination","dest","namedDest","explicitDest","getDestination","Array","isArray","destRef","cachedPageNumber","getPageIndex","pushCurrentPosition","scrollPageIntoView","destArray","goToPage","pageLabelToPageNumber","pushPage","addLinkAttributes","link","url","newWindow","Error","target","rel","externalLinkEnabled","href","title","onclick","targetStr","getDestinationHash","getAnchorUrl","escape","anchor","setHash","hash","phrase","zoomArgs","split","zoomArg","zoomArgNumber","parseFloat","name","allowNegativeOffset","unescape","parse","toString","executeNamedAction","action","back","forward","nextPage","executeSetOCGState","optionalContentConfig","optionalContentConfigPromise","setOCGState","zoom","args","num","gen","allowNull","arg","AbortException","AnnotationEditorLayer","AnnotationEditorParamsType","AnnotationEditorType","AnnotationEditorUIManager","AnnotationLayer","AnnotationMode","build","CMapCompressionType","ColorPicker","createValidAbsoluteUrl","DOMSVGFactory","DrawLayer","FeatureTest","fetchData","getDocument","getFilenameFromUrl","getPdfFilenameFromUrl","getXfaPageViewport","GlobalWorkerOptions","ImageKind","InvalidPDFException","isDataScheme","isPdfFile","MissingPDFException","noContextMenu","normalizeUnicode","OPS","Outliner","PasswordResponses","PDFDataRangeTransport","PDFDateString","PDFWorker","PermissionFlag","PixelsPerInch","RenderingCancelledException","renderTextLayer","setLayerDimensions","shadow","TextLayer","UnexpectedResponseException","updateTextLayer","Util","VerbosityLevel","version","XfaLayer","pdfjsLib","downloadManager","annotationStorage","imageResourcesPath","renderForms","enableScripting","hasJSActionsPromise","fieldObjectsPromise","annotationCanvasMap","accessibilityManager","annotationEditorUIManager","onAppend","_hasJSActionsPromise","_fieldObjectsPromise","_annotationCanvasMap","_accessibilityManager","annotationLayer","_cancelled","render","viewport","intent","update","clone","dontFlip","annotations","hasJSActions","fieldObjects","all","getAnnotations","createElement","className","AbortController","cancel","abort","hidden","disableFormElements","section","childNodes","hasAttribute","inert","download","blobUrl","filename","click","body","append","downloadData","data","contentType","URL","createObjectURL","Blob","openOrDownloadData","isPdfData","_options","WaitOnType","EVENT","TIMEOUT","waitOnEventOrTimeout","ac","handler","timeout","evtMethod","create","on","eventName","listener","options","external","off","_off","eventListeners","externalListeners","rmAbort","AbortSignal","aborted","onAbort","removeEventListener","splice","FluentType","valueOf","FluentNone","scope","FluentNumber","opts","nf","memoizeIntlObject","Intl","NumberFormat","format","err","reportError","FluentDateTime","dtf","DateTimeFormat","Date","toISOString","MAX_PLACEABLES","FSI","PDI","selector","category","PluralRules","select","getDefault","variants","star","resolvePattern","RangeError","getArguments","positional","named","resolveExpression","expr","minimumFractionDigits","precision","resolveVariableReference","resolveMessageReference","resolveTermReference","resolveFunctionReference","resolveSelectExpression","ReferenceError","getTime","attr","message","bundle","_messages","attribute","attributes","term","_terms","resolved2","resolved","func","_functions","sel","variant","resolveComplexPattern","ptn","dirty","useIsolating","_useIsolating","elem","_transform","placeables","Scope","errors","ctor","cache2","_intls","locales","allowed","unwrapped","opt","entries","NUMBER_ALLOWED","NUMBER","DATETIME_ALLOWED","DATETIME","cache","getMemoizerForLocale","stringLocale","memoizer","FluentBundle","functions","transform","hasMessage","getMessage","addResource","res","allowOverrides","entry","startsWith","formatPattern","pattern","RE_MESSAGE_START","RE_ATTRIBUTE_START","RE_VARIANT_START","RE_NUMBER_LITERAL","RE_IDENTIFIER","RE_REFERENCE","RE_FUNCTION_NAME","RE_TEXT_RUN","RE_STRING_RUN","RE_STRING_ESCAPE","RE_UNICODE_ESCAPE","RE_LEADING_NEWLINES","RE_TRAILING_SPACES","RE_BLANK_LINES","RE_INDENT","TOKEN_BRACE_OPEN","TOKEN_BRACE_CLOSE","TOKEN_BRACKET_OPEN","TOKEN_BRACKET_CLOSE","TOKEN_PAREN_OPEN","TOKEN_ARROW","TOKEN_COLON","TOKEN_COMMA","TOKEN_BLANK","FluentResource","lastIndex","cursor","next","parseMessage","SyntaxError","re","consumeChar","errorClass","consumeToken","match1","parsePattern","parseAttributes","attrs","parsePatternElements","Infinity","indent","parseIndent","trim","elements","commonIndent","parsePlaceable","lastElement","baked","Indent","parseInlineExpression","parseVariants","sigil","parseArguments","parseLiteral","parseArgument","count","parseVariantKey","parseNumberLiteral","parseStringLiteral","fraction","parseEscapeSequence","codepoint4","codepoint6","codepoint","parseInt","fromCodePoint","makeIndent","blank","reOverlay","TEXT_LEVEL_ELEMENTS","LOCALIZABLE_ATTRIBUTES","global","area","input","menuitem","menu","optgroup","option","track","img","textarea","th","description","label","textbox","translateElement","translation","localName","namespaceURI","templateElement","ownerDocument","createElementNS","innerHTML","overlayChildNodes","overlayAttributes","fromFragment","toElement","childNode","nodeType","TEXT_NODE","sanitized","getNodeForNamedElement","replaceChild","isElementAllowed","createSanitizedElement","warn","createTextNodeFromTextContent","appendChild","fromElement","explicitlyAllowed","getAttribute","from","isAttrNameLocalizable","removeAttribute","setAttribute","sourceElement","translatedChild","childName","sourceChild","querySelector","removeChild","cloneNode","shallowPopulateUsing","createTextNode","attrName","elemName","CachedIterable","iterable","CachedAsyncIterable","Symbol","asyncIterator","iterator","cached","cur","touchNext","idx","done","Localization","resourceIds","generateBundles","onChange","addResourceIds","eager","removeResourceIds","r","formatWithFallback","translations","hasAtLeastOneBundle","bundles","missingIds","keysFromBundle","locale","formatMessages","messageFromBundle","formatValues","valueFromBundle","formatValue","handleEvent","formatted","attrNames","messageErrors","forEach","L10NID_ATTR_NAME","L10NARGS_ATTR_NAME","L10N_ELEMENT_QUERY","DOMLocalization","roots","pendingrAF","pendingElements","windowElement","mutationObserver","observerConfig","characterData","childList","subtree","attributeFilter","translateRoots","setAttributes","getAttributes","connectRoot","newRoot","root","defaultView","MutationObserver","mutations","translateMutations","observe","disconnectRoot","pauseObserving","clear","resumeObserving","translateFragment","takeRecords","disconnect","mutation","addedNode","addedNodes","ELEMENT_NODE","childElementCount","getTranslatables","translateElements","frag","getKeysForElement","applyTranslations","nodes","querySelectorAll","_L10n","lang","isRTL","l10n","_setL10n","getLanguage","getDirection","fallback","messages2","messages","translate","destroy","pause","resume","langCode","PARTIAL_LANG_CODES","en","es","fy","ga","gu","hi","hy","nb","ne","nn","pa","pt","sv","zh","shortCode","L10n","createBundle","resource","_genericl10n_GenericL10n","defaultLang","baseLang","baseURL","paths","langs","shortLang","path","HASH_CHANGE_TIMEOUT","POSITION_UPDATED_THRESHOLD","UPDATE_VIEWAREA_TIMEOUT","getCurrentHash","location","_initialized","_fingerprint","reset","_isPagesLoaded","initialize","fingerprint","resetHistory","updateUrl","reInitialized","_updateUrl","history","_popStateInProgress","_blockHashChange","_currentHash","_numPositionUpdates","_uid","_maxUid","_destination","_position","destination","uid","_initialRotation","_initialBookmark","_updateViewareaTimeout","forceReplace","isDestHashesEqual","isDestArraysEqual","popStateInProgress","initialBookmark","initialRotation","shouldReplace","newState","newUrl","replaceState","pushState","temporary","position","assign","checkReload","perfEntry","performance","getEntriesByType","removeTemporary","checkNameddest","substring","nameddest","pdfOpenParams","newHash","hashChanged","destHash","pushHash","firstDest","secondDest","isEntryEqual","second","AnnotationEditorLayerBuilder","annotationEditorLayer","uiManager","textLayer","drawLayer","clonedViewport","dir","direction","parameters","isInvisible","compatibilityParams","userAgent","navigator","platform","maxTouchPoints","isAndroid","isIOS","checkCanvasSizeLimitation","maxCanvasPixels","OptionKind","BROWSER","VIEWER","API","WORKER","PREFERENCE","defaultOptions","canvasMaxAreaInBytes","kind","isInAutomation","supportsCaretBrowsingMode","supportsDocumentFonts","supportsIntegratedFind","supportsMouseWheelZoomCtrlKey","supportsMouseWheelZoomMetaKey","supportsPinchToZoom","annotationEditorMode","annotationMode","cursorToolOnLoad","debuggerSrc","defaultZoomDelay","defaultZoomValue","disableHistory","disablePageLabels","enableHighlightEditor","enableHighlightFloatingButton","enableML","enablePermissions","enablePrintAutoRotate","enableStampEditor","highlightEditorColors","historyUpdateUrl","forcePageColors","pageColorsBackground","pageColorsForeground","pdfBugEnabled","printResolution","sidebarViewOnLoad","scrollModeOnLoad","spreadModeOnLoad","textLayerMode","viewOnLoad","cMapPacked","cMapUrl","disableAutoFetch","disableFontFace","disableRange","disableStream","docBaseUrl","enableHWA","enableXfa","fontExtraProperties","isEvalSupported","isOffscreenCanvasSupported","maxImageSize","pdfBug","standardFontDataUrl","verbosity","workerPort","workerSrc","defaultUrl","sandboxBundleSrc","viewerCssTheme","disablePreferences","language","userOptions","AppOptions","getAll","defaultOnly","defaultOption","setAll","init","DrawLayerBuilder","setParent","getDrawLayer","PDF_ROLE_TO_HTML_ROLE","Document","DocumentFragment","Part","Sect","Div","Aside","NonStruct","P","H","Title","FENote","Sub","Lbl","Span","Em","Strong","Link","Annot","Form","Ruby","RB","RT","RP","Warichu","WT","WP","L","LI","LBody","Table","TR","TH","TD","THead","TBody","TFoot","Caption","Figure","Formula","Artifact","HEADING_PATTERN","renderingDone","structTree","treeDom","structElement","htmlElement","alt","node","role","children","kid","_TextAccessibilityManager","setTextMapping","textDivs","enable","textChildren","nodeIndex","getElementById","isRemovable","addPointerInTextLayer","disable","removePointerInTextLayer","owns","child","moveElementInDOM","contentElement","hasChildNodes","elementToCompare","before","after","e1","e2","rect1","getBoundingClientRect","rect2","top1","bot1","mid1","top2","bot2","mid2","centerX1","centerX2","TextAccessibilityManager","TextHighlighter","findController","textContentItemsStr","enabled","divs","texts","_updateMatches","_convertMatches","iIndex","mm","begin","divIdx","_renderMatches","isSelectedPage","selectedMatchIdx","prevEnd","infinity","beginText","appendTextToDiv","fromOffset","toOffset","Node","span","i0","i1","lastDivIdx","lastOffset","isSelected","highlightSuffix","n0","n1","clearedUntilDivIdx","n","_TextLayerBuilder","highlighter","tabIndex","textContentParams","_d","_e","onBefore","textContentSource","streamTextContent","includeMarkedContent","endOfContent","event","selection","getSelection","clipboardData","setData","preventDefault","stopPropagation","textLayerDiv","isFirefox","prevRange","rangeCount","activeTextLayers","range2","getRangeAt","intersectsNode","endDiv2","getPropertyValue","range","modifyStart","compareBoundaryPoints","Range","END_TO_END","START_TO_END","startContainer","endContainer","parentTextLayer","parentElement","closest","endDiv","insertBefore","nextSibling","cloneRange","xfaHtml","parameters2","getXfa","DEFAULT_LAYER_PROPERTIES","LAYERS_ORDER","ENABLE_FORMS","directDrawing","initialOptionalContent","regularAnnotations","defaultViewport","renderingId","layerProperties","pageLabel","scale","pdfPageRotate","_optionalContentConfigPromise","pageColors","renderingQueue","renderTask","_isStandalone","hasViewer","_container","zoomLayer","xfaLayer","structTreeLayer","PDF_TO_CSS_UNITS","hasInitialVisibility","renderingState","setPdfPage","foreground","background","filterFactory","addHighlightHCMFilter","rotate","totalRotation","getViewport","cleanup","_textHighlighter","_resetZoomLayer","removeFromDOM","zoomLayerCanvas","firstChild","keepZoomLayer","keepAnnotationLayer","keepAnnotationEditorLayer","keepXfaLayer","keepTextLayer","cancelRendering","zoomLayerNode","annotationLayerNode","annotationEditorLayerNode","xfaLayerNode","textLayerNode","layerIndex","indexOf","canvas","drawingDelay","onlyCssZoom","outputScale","postponeDrawing","cancelExtraDelay","cssTransform","redrawAnnotationLayer","redrawAnnotationEditorLayer","redrawXfaLayer","redrawTextLayer","hideTextLayer","timestamp","now","originalViewport","relativeRotation","absRotation","scaleX","scaleY","getPagePoint","convertToPdfPoint","draw","canvasWrapper","isPureXfa","annotationLayerDiv","renderContinueCallback","cont","showCanvas","isHighestPriority","hasHCM","isLastShow","ctx","getContext","alpha","willReadFrequently","invScale","pixelsInViewport","maxScale","sqrt","sfx","sfy","renderContext","canvasContext","onContinue","resultPromise","annotationEditorLayerDiv","setPageLabel","thumbnailCanvas","oldDiv","replaceWith","layer","prepend","ex","tree","getStructTree","item","separateAnnots","docProperties","info","metadata","contentDispositionFilename","contentLength","getMetadata","getDownloadInfo","filesize","getRaw","authors","GenericScripting","reject","sandbox","pdfjsSandbox","QuickJSSandbox","catch","createSandbox","dispatchEventInSandbox","dispatchEvent","destroySandbox","nukeSandbox","externalServices","docProperties2","objects","calculationOrder","docActions","getFieldObjects","getCalculationOrderIds","getJSActions","detail","_a2","_pageOpenPending","appInfo","docInfo","actions","dispatchWillSave","dispatchDidSave","dispatchWillPrint","dispatchDidPrint","destroyPromise","ready","_visitedPages","isChangingPresentationMode","siblings","command","modes","pagesPromise","log","currentScaleValue","increaseScale","decreaseScale","focus","elementId","CustomEvent","setValue","visitedPages","pageView","getPageView","actionsPromise","createScripting","race","CLEANUP_TIMEOUT","PDFRenderingQueue","pdfThumbnailViewer","onIdle","highestPriorityPage","idleTimeout","printing","isThumbnailViewEnabled","setThumbnailViewer","renderHighestPriority","currentlyVisiblePages","forceRendering","getHighestPriority","scrolledDown","preRenderExtra","visibleViews","numVisible","isViewFinished","firstId","lastId","visibleIds","holeId","holeView","preRenderIndex","preRenderView","renderView","finally","DEFAULT_CACHE_SIZE","PagesCountLimit","FORCE_SCROLL_MODE_PAGE","FORCE_LAZY_PAGE_INIT","PAUSE_EAGER_PAGE_INIT","isValidAnnotationEditorMode","PDFPageViewBuffer","buf","resize","newSize","idsToKeep","firstView","ResizeObserver","viewerVersion","firstElementChild","tagName","altTextManager","_getVisiblePages","_scriptingManager","scriptingManager","annotationEditorHighlightColors","removePageBorders","mlManager","defaultRenderingQueue","scroll","_scrollUpdate","presentationModeState","_resetView","_pages","getCachedPageViews","pageViewsReady","every","_currentPageNumber","_setCurrentPageNumber","resetCurrentPageView","_pageLabels","currentPageLabel","currentScale","_currentScale","noScroll","_currentScaleValue","_pagesRotation","refresh","firstPagePromise","onePageRendered","_onePageRenderedCapability","_pagesCapability","self","getAllText","buffer","pageNum","_cancelRendering","getOptionalContentConfig","permissionsPromise","getPermissions","_scrollMode","onBeforeDraw","onAfterDraw","firstPdfPage","permissions","updateMode","viewerElement","_spreadMode","_updateSpreadMode","_a3","_b2","loadingParams","getPagesLeft","Language","setPageLabels","labels","_location","_previousScrollMode","previousPageNumber","scrollDown","pages","_updateScrollMode","widthScale","heightScale","changeOrientation","pageWidth","pageHeight","hPadding","vPadding","boundingRect","convertToViewportPoint","_updateLocation","firstPage","normalizedScaleValue","round","currentPageView","topLeft","intLeft","intTop","visiblePages","numVisiblePages","newCacheSize","isSimpleLayout","currentId","stillFullyVisible","containsElement","_isContainerRtl","isHorizontalScrollbarEnabled","isVerticalScrollbarEnabled","scrollAhead","hasEqualPageSizes","firstPageView","getPagesOverview","initialOrientation","orientation","toggle","parity","spread","_getPageAdvance","pageLayout","yArray","expectedId","advance","updateScale","scaleFactor","steps","origin","newScale","delta","ceil","toFixed","containerTopLeft","editId","isFromKeyboard","annotationEditorParams","updateParams","noUpdate","updateArgs","COPY","MODIFY_CONTENTS","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","visibilityState","hiddenCapability","onVisibilityChange","focusNode","anchorNode","containsNode","ev","clipboard","writeText","pageIndexSet","dummyPage","pageSpot","newValue","preset","presetValue","previousScale","scaleDiff","currentPage","pageWidthScale","pageHeightScale","horizontalScale","borderBoxSize","blockSize","__webpack_exports__AnnotationLayerBuilder","__webpack_exports__DownloadManager","__webpack_exports__EventBus","__webpack_exports__FindState","__webpack_exports__GenericL10n","__webpack_exports__LinkTarget","__webpack_exports__PDFFindController","__webpack_exports__PDFHistory","__webpack_exports__PDFLinkService","__webpack_exports__PDFPageView","__webpack_exports__PDFScriptingManager","__webpack_exports__PDFSinglePageViewer","__webpack_exports__PDFViewer","__webpack_exports__ProgressBar","__webpack_exports__RenderingStates","__webpack_exports__ScrollMode","__webpack_exports__SimpleLinkService","__webpack_exports__SpreadMode","__webpack_exports__StructTreeLayerBuilder","__webpack_exports__TextLayerBuilder","__webpack_exports__XfaLayerBuilder","__webpack_exports__parseQueryString"],"sources":["/Users/philipp/Documents/intership-projects-2025-main/frontend/node_modules/react-pdf-highlighter/dist/node_modules/pdfjs-dist/web/pdf_viewer.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\nvar __privateMethod = (obj, member, method) => (__accessCheck(obj, member, \"access private method\"), method);\nvar __privateWrapper = (obj, member, setter, getter) => ({\n  set _(value) {\n    __privateSet(obj, member, value, setter);\n  },\n  get _() {\n    return __privateGet(obj, member, getter);\n  }\n});\nvar _classList, _disableAutoFetchTimeout, _percent, _style, _visible, _state, _updateMatchesCountOnProgress, _visitedPagesCount, _PDFFindController_instances, onFind_fn, reset_fn, query_get, shouldDirtyMatch_fn, isEntireWord_fn, calculateRegExpMatch_fn, convertToRegExpString_fn, calculateMatch_fn, extractText_fn, updatePage_fn, updateAllPages_fn, nextMatch_fn, matchesReady_fn, nextPageMatch_fn, advanceOffsetPage_fn, updateMatch_fn, onFindBarClose_fn, requestMatchesCount_fn, updateUIResultsCount_fn, updateUIState_fn, _PDFLinkService_static, isValidExplicitDest_fn, _onAppend, _eventAbortController, _AnnotationLayerBuilder_instances, updatePresentationModeState_fn, _openBlobUrls, _listeners, _dir, _elements, _lang, _l10n, _L10n_static, fixupLangCode_fn, isRTL_fn, _genericl10n_GenericL10n_static, generateBundles_fn, createBundle_fn, getPaths_fn, generateBundlesFallback_fn, createBundleFallback_fn, _eventAbortController2, _PDFHistory_instances, pushOrReplaceState_fn, tryPushCurrentPosition_fn, isValidPage_fn, isValidState_fn, updateInternalState_fn, parseCurrentHash_fn, updateViewarea_fn, popState_fn, pageHide_fn, bindEvents_fn, unbindEvents_fn, _annotationLayer, _drawLayer, _onAppend2, _textLayer, _uiManager, _drawLayer2, _treeDom, _StructTreeLayerBuilder_instances, setAttributes_fn, walk_fn, _enabled, _textChildren, _textNodes, _waitingElements, _TextAccessibilityManager_static, compareElementPositions_fn, _TextAccessibilityManager_instances, addIdToAriaOwns_fn, _eventAbortController3, _enablePermissions, _onAppend3, _renderingDone, _textLayer2, _textLayers, _selectionChangeAbortController, _TextLayerBuilder_instances, bindMouse_fn, _TextLayerBuilder_static, removeGlobalSelectionListener_fn, enableGlobalSelectionListener_fn, _annotationMode, _enableHWA, _hasRestrictedScaling, _layerProperties, _loadingId, _previousRotation, _renderError, _renderingState, _textLayerMode, _useThumbnailCanvas, _viewportMap, _layers, _PDFPageView_instances, addLayer_fn, setDimensions_fn, dispatchLayerRendered_fn, renderAnnotationLayer_fn, renderAnnotationEditorLayer_fn, renderDrawLayer_fn, renderXfaLayer_fn, renderTextLayer_fn, renderStructTreeLayer_fn, buildXfaTextContentItems_fn, finishRenderTask_fn, _closeCapability, _destroyCapability, _docProperties, _eventAbortController4, _eventBus, _externalServices, _pdfDocument, _pdfViewer, _ready, _scripting, _willPrintCapability, _PDFScriptingManager_instances, updateFromSandbox_fn, dispatchPageOpen_fn, dispatchPageClose_fn, initScripting_fn, destroyScripting_fn, _buf, _size, _PDFPageViewBuffer_instances, destroyFirstView_fn, _buffer, _altTextManager, _annotationEditorHighlightColors, _annotationEditorMode, _annotationEditorUIManager, _annotationMode2, _containerTopLeft, _enableHWA2, _enableHighlightFloatingButton, _enablePermissions2, _eventAbortController5, _mlManager, _getAllTextInProgress, _hiddenCopyElement, _interruptCopyCondition, _previousContainerHeight, _resizeObserver, _scrollModePageState, _scaleTimeoutId, _textLayerMode2, _PDFViewer_instances, initializePermissions_fn, onePageRenderedOrForceFetch_fn, copyCallback_fn, ensurePageViewVisible_fn, scrollIntoView_fn, isSameScale_fn, setScaleUpdatePages_fn, pageWidthScaleFactor_get, setScale_fn, resetCurrentPageView_fn, ensurePdfPageLoaded_fn, getScrollAhead_fn, updateContainerHeightCss_fn, resizeObserverCallback_fn;\nvar __webpack_require__ = {};\n(() => {\n  __webpack_require__.d = (exports, definition) => {\n    for (var key in definition) {\n      if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n        Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n      }\n    }\n  };\n})();\n(() => {\n  __webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n})();\nvar __webpack_exports__ = globalThis.pdfjsViewer = {};\n__webpack_require__.d(__webpack_exports__, {\n  AnnotationLayerBuilder: () => (\n    /* reexport */\n    AnnotationLayerBuilder\n  ),\n  DownloadManager: () => (\n    /* reexport */\n    DownloadManager\n  ),\n  EventBus: () => (\n    /* reexport */\n    EventBus\n  ),\n  FindState: () => (\n    /* reexport */\n    FindState\n  ),\n  GenericL10n: () => (\n    /* reexport */\n    genericl10n_GenericL10n\n  ),\n  LinkTarget: () => (\n    /* reexport */\n    LinkTarget\n  ),\n  PDFFindController: () => (\n    /* reexport */\n    PDFFindController\n  ),\n  PDFHistory: () => (\n    /* reexport */\n    PDFHistory\n  ),\n  PDFLinkService: () => (\n    /* reexport */\n    PDFLinkService\n  ),\n  PDFPageView: () => (\n    /* reexport */\n    PDFPageView\n  ),\n  PDFScriptingManager: () => (\n    /* reexport */\n    PDFScriptingManagerComponents\n  ),\n  PDFSinglePageViewer: () => (\n    /* reexport */\n    PDFSinglePageViewer\n  ),\n  PDFViewer: () => (\n    /* reexport */\n    PDFViewer\n  ),\n  ProgressBar: () => (\n    /* reexport */\n    ProgressBar\n  ),\n  RenderingStates: () => (\n    /* reexport */\n    RenderingStates\n  ),\n  ScrollMode: () => (\n    /* reexport */\n    ScrollMode\n  ),\n  SimpleLinkService: () => (\n    /* reexport */\n    SimpleLinkService\n  ),\n  SpreadMode: () => (\n    /* reexport */\n    SpreadMode\n  ),\n  StructTreeLayerBuilder: () => (\n    /* reexport */\n    StructTreeLayerBuilder\n  ),\n  TextLayerBuilder: () => (\n    /* reexport */\n    TextLayerBuilder\n  ),\n  XfaLayerBuilder: () => (\n    /* reexport */\n    XfaLayerBuilder\n  ),\n  parseQueryString: () => (\n    /* reexport */\n    parseQueryString\n  )\n});\nconst DEFAULT_SCALE_VALUE = \"auto\";\nconst DEFAULT_SCALE = 1;\nconst DEFAULT_SCALE_DELTA = 1.1;\nconst MIN_SCALE = 0.1;\nconst MAX_SCALE = 10;\nconst UNKNOWN_SCALE = 0;\nconst MAX_AUTO_SCALE = 1.25;\nconst SCROLLBAR_PADDING = 40;\nconst VERTICAL_PADDING = 5;\nconst RenderingStates = {\n  INITIAL: 0,\n  RUNNING: 1,\n  PAUSED: 2,\n  FINISHED: 3\n};\nconst PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nconst TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_PERMISSIONS: 2\n};\nconst ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2,\n  PAGE: 3\n};\nconst SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nclass OutputScale {\n  constructor() {\n    const pixelRatio = window.devicePixelRatio || 1;\n    this.sx = pixelRatio;\n    this.sy = pixelRatio;\n  }\n  get scaled() {\n    return this.sx !== 1 || this.sy !== 1;\n  }\n}\nfunction scrollIntoView(element, spot, scrollMatches = false) {\n  let parent = element.offsetParent;\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n  let offsetY = element.offsetTop + element.clientTop;\n  let offsetX = element.offsetLeft + element.clientLeft;\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || scrollMatches && (parent.classList.contains(\"markedContent\") || getComputedStyle(parent).overflow === \"hidden\")) {\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n    if (!parent) {\n      return;\n    }\n  }\n  if (spot) {\n    if (spot.top !== void 0) {\n      offsetY += spot.top;\n    }\n    if (spot.left !== void 0) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n  parent.scrollTop = offsetY;\n}\nfunction watchScroll(viewAreaElement, callback, abortSignal = void 0) {\n  const debounceScroll = function(evt) {\n    if (rAF) {\n      return;\n    }\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      const currentX = viewAreaElement.scrollLeft;\n      const lastX = state.lastX;\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n      state.lastX = currentX;\n      const currentY = viewAreaElement.scrollTop;\n      const lastY = state.lastY;\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n  const state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  let rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, {\n    useCapture: true,\n    signal: abortSignal\n  });\n  abortSignal == null ? void 0 : abortSignal.addEventListener(\"abort\", () => window.cancelAnimationFrame(rAF), {\n    once: true\n  });\n  return state;\n}\nfunction parseQueryString(query) {\n  const params = /* @__PURE__ */ new Map();\n  for (const [key, value] of new URLSearchParams(query)) {\n    params.set(key.toLowerCase(), value);\n  }\n  return params;\n}\nconst InvisibleCharsRegExp = /[\\x00-\\x1F]/g;\nfunction removeNullCharacters(str, replaceInvisible = false) {\n  if (!InvisibleCharsRegExp.test(str)) {\n    return str;\n  }\n  if (replaceInvisible) {\n    return str.replaceAll(InvisibleCharsRegExp, (m) => m === \"\\0\" ? \"\" : \" \");\n  }\n  return str.replaceAll(\"\\0\", \"\");\n}\nfunction binarySearchFirstItem(items, condition, start = 0) {\n  let minIndex = start;\n  let maxIndex = items.length - 1;\n  if (maxIndex < 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n  while (minIndex < maxIndex) {\n    const currentIndex = minIndex + maxIndex >> 1;\n    const currentItem = items[currentIndex];\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n  return minIndex;\n}\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n  const xinv = 1 / x;\n  const limit = 8;\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n  const x_ = x > 1 ? xinv : x;\n  let a = 0, b = 1, c = 1, d = 1;\n  while (true) {\n    const p = a + c, q = b + d;\n    if (q > limit) {\n      break;\n    }\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n  let result;\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n  return result;\n}\nfunction floorToDivide(x, div) {\n  return x - x % div;\n}\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n  let elt = views[index].div;\n  let pageTop = elt.offsetTop + elt.clientTop;\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n  for (let i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n    index = i;\n  }\n  return index;\n}\nfunction getVisibleElements({\n  scrollEl,\n  views,\n  sortByVisibility = false,\n  horizontal = false,\n  rtl = false\n}) {\n  const top = scrollEl.scrollTop, bottom = top + scrollEl.clientHeight;\n  const left = scrollEl.scrollLeft, right = left + scrollEl.clientWidth;\n  function isElementBottomAfterViewTop(view) {\n    const element = view.div;\n    const elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n  function isElementNextAfterViewHorizontally(view) {\n    const element = view.div;\n    const elementLeft = element.offsetLeft + element.clientLeft;\n    const elementRight = elementLeft + element.clientWidth;\n    return rtl ? elementLeft < right : elementRight > left;\n  }\n  const visible = [], ids = /* @__PURE__ */ new Set(), numViews = views.length;\n  let firstVisibleElementInd = binarySearchFirstItem(views, horizontal ? isElementNextAfterViewHorizontally : isElementBottomAfterViewTop);\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n  let lastEdge = horizontal ? right : -1;\n  for (let i = firstVisibleElementInd; i < numViews; i++) {\n    const view = views[i], element = view.div;\n    const currentWidth = element.offsetLeft + element.clientLeft;\n    const currentHeight = element.offsetTop + element.clientTop;\n    const viewWidth = element.clientWidth, viewHeight = element.clientHeight;\n    const viewRight = currentWidth + viewWidth;\n    const viewBottom = currentHeight + viewHeight;\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n    const hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    const hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    const fractionHeight = (viewHeight - hiddenHeight) / viewHeight, fractionWidth = (viewWidth - hiddenWidth) / viewWidth;\n    const percent = fractionHeight * fractionWidth * 100 | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view,\n      percent,\n      widthPercent: fractionWidth * 100 | 0\n    });\n    ids.add(view.id);\n  }\n  const first = visible[0], last = visible.at(-1);\n  if (sortByVisibility) {\n    visible.sort(function(a, b) {\n      const pc = a.percent - b.percent;\n      if (Math.abs(pc) > 1e-3) {\n        return -pc;\n      }\n      return a.id - b.id;\n    });\n  }\n  return {\n    first,\n    last,\n    views: visible,\n    ids\n  };\n}\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\nnew Promise(function(resolve) {\n  window.requestAnimationFrame(resolve);\n});\nconst docStyle = document.documentElement.style;\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\nclass ProgressBar {\n  constructor(bar) {\n    __privateAdd(this, _classList, null);\n    __privateAdd(this, _disableAutoFetchTimeout, null);\n    __privateAdd(this, _percent, 0);\n    __privateAdd(this, _style, null);\n    __privateAdd(this, _visible, true);\n    __privateSet(this, _classList, bar.classList);\n    __privateSet(this, _style, bar.style);\n  }\n  get percent() {\n    return __privateGet(this, _percent);\n  }\n  set percent(val) {\n    __privateSet(this, _percent, clamp(val, 0, 100));\n    if (isNaN(val)) {\n      __privateGet(this, _classList).add(\"indeterminate\");\n      return;\n    }\n    __privateGet(this, _classList).remove(\"indeterminate\");\n    __privateGet(this, _style).setProperty(\"--progressBar-percent\", `${__privateGet(this, _percent)}%`);\n  }\n  setWidth(viewer) {\n    if (!viewer) {\n      return;\n    }\n    const container = viewer.parentNode;\n    const scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n    if (scrollbarWidth > 0) {\n      __privateGet(this, _style).setProperty(\"--progressBar-end-offset\", `${scrollbarWidth}px`);\n    }\n  }\n  setDisableAutoFetch(delay = 5e3) {\n    if (isNaN(__privateGet(this, _percent))) {\n      return;\n    }\n    if (__privateGet(this, _disableAutoFetchTimeout)) {\n      clearTimeout(__privateGet(this, _disableAutoFetchTimeout));\n    }\n    this.show();\n    __privateSet(this, _disableAutoFetchTimeout, setTimeout(() => {\n      __privateSet(this, _disableAutoFetchTimeout, null);\n      this.hide();\n    }, delay));\n  }\n  hide() {\n    if (!__privateGet(this, _visible)) {\n      return;\n    }\n    __privateSet(this, _visible, false);\n    __privateGet(this, _classList).add(\"hidden\");\n  }\n  show() {\n    if (__privateGet(this, _visible)) {\n      return;\n    }\n    __privateSet(this, _visible, true);\n    __privateGet(this, _classList).remove(\"hidden\");\n  }\n}\n_classList = new WeakMap();\n_disableAutoFetchTimeout = new WeakMap();\n_percent = new WeakMap();\n_style = new WeakMap();\n_visible = new WeakMap();\nfunction apiPageLayoutToViewerModes(layout) {\n  let scrollMode = ScrollMode.VERTICAL, spreadMode = SpreadMode.NONE;\n  switch (layout) {\n    case \"SinglePage\":\n      scrollMode = ScrollMode.PAGE;\n      break;\n    case \"OneColumn\":\n      break;\n    case \"TwoPageLeft\":\n      scrollMode = ScrollMode.PAGE;\n    case \"TwoColumnLeft\":\n      spreadMode = SpreadMode.ODD;\n      break;\n    case \"TwoPageRight\":\n      scrollMode = ScrollMode.PAGE;\n    case \"TwoColumnRight\":\n      spreadMode = SpreadMode.EVEN;\n      break;\n  }\n  return {\n    scrollMode,\n    spreadMode\n  };\n}\nconst CharacterType = {\n  SPACE: 0,\n  ALPHA_LETTER: 1,\n  PUNCT: 2,\n  HAN_LETTER: 3,\n  KATAKANA_LETTER: 4,\n  HIRAGANA_LETTER: 5,\n  HALFWIDTH_KATAKANA_LETTER: 6,\n  THAI_LETTER: 7\n};\nfunction isAlphabeticalScript(charCode) {\n  return charCode < 11904;\n}\nfunction isAscii(charCode) {\n  return (charCode & 65408) === 0;\n}\nfunction isAsciiAlpha(charCode) {\n  return charCode >= 97 && charCode <= 122 || charCode >= 65 && charCode <= 90;\n}\nfunction isAsciiDigit(charCode) {\n  return charCode >= 48 && charCode <= 57;\n}\nfunction isAsciiSpace(charCode) {\n  return charCode === 32 || charCode === 9 || charCode === 13 || charCode === 10;\n}\nfunction isHan(charCode) {\n  return charCode >= 13312 && charCode <= 40959 || charCode >= 63744 && charCode <= 64255;\n}\nfunction isKatakana(charCode) {\n  return charCode >= 12448 && charCode <= 12543;\n}\nfunction isHiragana(charCode) {\n  return charCode >= 12352 && charCode <= 12447;\n}\nfunction isHalfwidthKatakana(charCode) {\n  return charCode >= 65376 && charCode <= 65439;\n}\nfunction isThai(charCode) {\n  return (charCode & 65408) === 3584;\n}\nfunction getCharacterType(charCode) {\n  if (isAlphabeticalScript(charCode)) {\n    if (isAscii(charCode)) {\n      if (isAsciiSpace(charCode)) {\n        return CharacterType.SPACE;\n      } else if (isAsciiAlpha(charCode) || isAsciiDigit(charCode) || charCode === 95) {\n        return CharacterType.ALPHA_LETTER;\n      }\n      return CharacterType.PUNCT;\n    } else if (isThai(charCode)) {\n      return CharacterType.THAI_LETTER;\n    } else if (charCode === 160) {\n      return CharacterType.SPACE;\n    }\n    return CharacterType.ALPHA_LETTER;\n  }\n  if (isHan(charCode)) {\n    return CharacterType.HAN_LETTER;\n  } else if (isKatakana(charCode)) {\n    return CharacterType.KATAKANA_LETTER;\n  } else if (isHiragana(charCode)) {\n    return CharacterType.HIRAGANA_LETTER;\n  } else if (isHalfwidthKatakana(charCode)) {\n    return CharacterType.HALFWIDTH_KATAKANA_LETTER;\n  }\n  return CharacterType.ALPHA_LETTER;\n}\nlet NormalizeWithNFKC;\nfunction getNormalizeWithNFKC() {\n  NormalizeWithNFKC || (NormalizeWithNFKC = ` ¨ª¯²-µ¸-º¼-¾Ĳ-ĳĿ-ŀŉſǄ-ǌǱ-ǳʰ-ʸ˘-˝ˠ-ˤʹͺ;΄-΅·ϐ-ϖϰ-ϲϴ-ϵϹևٵ-ٸक़-य़ড়-ঢ়য়ਲ਼ਸ਼ਖ਼-ਜ਼ਫ਼ଡ଼-ଢ଼ำຳໜ-ໝ༌གྷཌྷདྷབྷཛྷཀྵჼᴬ-ᴮᴰ-ᴺᴼ-ᵍᵏ-ᵪᵸᶛ-ᶿẚ-ẛάέήίόύώΆ᾽-῁ΈΉ῍-῏ΐΊ῝-῟ΰΎ῭-`ΌΏ´-῾ - ‑‗․-… ″-‴‶-‷‼‾⁇-⁉⁗ ⁰-ⁱ⁴-₎ₐ-ₜ₨℀-℃℅-ℇ℉-ℓℕ-№ℙ-ℝ℠-™ℤΩℨK-ℭℯ-ℱℳ-ℹ℻-⅀ⅅ-ⅉ⅐-ⅿ↉∬-∭∯-∰〈-〉①-⓪⨌⩴-⩶⫝̸ⱼ-ⱽⵯ⺟⻳⼀-⿕　〶〸-〺゛-゜ゟヿㄱ-ㆎ㆒-㆟㈀-㈞㈠-㉇㉐-㉾㊀-㏿ꚜ-ꚝꝰꟲ-ꟴꟸ-ꟹꭜ-ꭟꭩ豈-嗀塚晴凞-羽蘒諸逸-都飯-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼︐-︙︰-﹄﹇-﹒﹔-﹦﹨-﹫ﹰ-ﹲﹴﹶ-ﻼ！-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ￠-￦`);\n  return NormalizeWithNFKC;\n}\nconst FindState = {\n  FOUND: 0,\n  NOT_FOUND: 1,\n  WRAPPED: 2,\n  PENDING: 3\n};\nconst FIND_TIMEOUT = 250;\nconst MATCH_SCROLL_OFFSET_TOP = -50;\nconst MATCH_SCROLL_OFFSET_LEFT = -400;\nconst CHARACTERS_TO_NORMALIZE = {\n  \"‐\": \"-\",\n  \"‘\": \"'\",\n  \"’\": \"'\",\n  \"‚\": \"'\",\n  \"‛\": \"'\",\n  \"“\": '\"',\n  \"”\": '\"',\n  \"„\": '\"',\n  \"‟\": '\"',\n  \"¼\": \"1/4\",\n  \"½\": \"1/2\",\n  \"¾\": \"3/4\"\n};\nconst DIACRITICS_EXCEPTION = /* @__PURE__ */ new Set([12441, 12442, 2381, 2509, 2637, 2765, 2893, 3021, 3149, 3277, 3387, 3388, 3405, 3530, 3642, 3770, 3972, 4153, 4154, 5908, 5940, 6098, 6752, 6980, 7082, 7083, 7154, 7155, 11647, 43014, 43052, 43204, 43347, 43456, 43766, 44013, 3158, 3953, 3954, 3962, 3963, 3964, 3965, 3968, 3956]);\nlet DIACRITICS_EXCEPTION_STR;\nconst DIACRITICS_REG_EXP = new RegExp(\"\\\\p{M}+\", \"gu\");\nconst SPECIAL_CHARS_REG_EXP = new RegExp(\"([.*+?^${}()|[\\\\]\\\\\\\\])|(\\\\p{P})|(\\\\s+)|(\\\\p{M})|(\\\\p{L})\", \"gu\");\nconst NOT_DIACRITIC_FROM_END_REG_EXP = new RegExp(\"([^\\\\p{M}])\\\\p{M}*$\", \"u\");\nconst NOT_DIACRITIC_FROM_START_REG_EXP = new RegExp(\"^\\\\p{M}*([^\\\\p{M}])\", \"u\");\nconst SYLLABLES_REG_EXP = /[\\uAC00-\\uD7AF\\uFA6C\\uFACF-\\uFAD1\\uFAD5-\\uFAD7]+/g;\nconst SYLLABLES_LENGTHS = /* @__PURE__ */ new Map();\nconst FIRST_CHAR_SYLLABLES_REG_EXP = \"[\\\\u1100-\\\\u1112\\\\ud7a4-\\\\ud7af\\\\ud84a\\\\ud84c\\\\ud850\\\\ud854\\\\ud857\\\\ud85f]\";\nconst NFKC_CHARS_TO_NORMALIZE = /* @__PURE__ */ new Map();\nlet noSyllablesRegExp = null;\nlet withSyllablesRegExp = null;\nfunction normalize(text) {\n  const syllablePositions = [];\n  let m;\n  while ((m = SYLLABLES_REG_EXP.exec(text)) !== null) {\n    let {\n      index\n    } = m;\n    for (const char of m[0]) {\n      let len = SYLLABLES_LENGTHS.get(char);\n      if (!len) {\n        len = char.normalize(\"NFD\").length;\n        SYLLABLES_LENGTHS.set(char, len);\n      }\n      syllablePositions.push([len, index++]);\n    }\n  }\n  let normalizationRegex;\n  if (syllablePositions.length === 0 && noSyllablesRegExp) {\n    normalizationRegex = noSyllablesRegExp;\n  } else if (syllablePositions.length > 0 && withSyllablesRegExp) {\n    normalizationRegex = withSyllablesRegExp;\n  } else {\n    const replace = Object.keys(CHARACTERS_TO_NORMALIZE).join(\"\");\n    const toNormalizeWithNFKC = getNormalizeWithNFKC();\n    const CJK = \"(?:\\\\p{Ideographic}|[぀-ヿ])\";\n    const HKDiacritics = \"(?:゙|゚)\";\n    const regexp = `([${replace}])|([${toNormalizeWithNFKC}])|(${HKDiacritics}\\\\n)|(\\\\p{M}+(?:-\\\\n)?)|(\\\\S-\\\\n)|(${CJK}\\\\n)|(\\\\n)`;\n    if (syllablePositions.length === 0) {\n      normalizationRegex = noSyllablesRegExp = new RegExp(regexp + \"|(\\\\u0000)\", \"gum\");\n    } else {\n      normalizationRegex = withSyllablesRegExp = new RegExp(regexp + `|(${FIRST_CHAR_SYLLABLES_REG_EXP})`, \"gum\");\n    }\n  }\n  const rawDiacriticsPositions = [];\n  while ((m = DIACRITICS_REG_EXP.exec(text)) !== null) {\n    rawDiacriticsPositions.push([m[0].length, m.index]);\n  }\n  let normalized = text.normalize(\"NFD\");\n  const positions = [[0, 0]];\n  let rawDiacriticsIndex = 0;\n  let syllableIndex = 0;\n  let shift = 0;\n  let shiftOrigin = 0;\n  let eol = 0;\n  let hasDiacritics = false;\n  normalized = normalized.replace(normalizationRegex, (match2, p1, p2, p3, p4, p5, p6, p7, p8, i) => {\n    var _a, _b, _c;\n    i -= shiftOrigin;\n    if (p1) {\n      const replacement = CHARACTERS_TO_NORMALIZE[p1];\n      const jj = replacement.length;\n      for (let j = 1; j < jj; j++) {\n        positions.push([i - shift + j, shift - j]);\n      }\n      shift -= jj - 1;\n      return replacement;\n    }\n    if (p2) {\n      let replacement = NFKC_CHARS_TO_NORMALIZE.get(p2);\n      if (!replacement) {\n        replacement = p2.normalize(\"NFKC\");\n        NFKC_CHARS_TO_NORMALIZE.set(p2, replacement);\n      }\n      const jj = replacement.length;\n      for (let j = 1; j < jj; j++) {\n        positions.push([i - shift + j, shift - j]);\n      }\n      shift -= jj - 1;\n      return replacement;\n    }\n    if (p3) {\n      hasDiacritics = true;\n      if (i + eol === ((_a = rawDiacriticsPositions[rawDiacriticsIndex]) == null ? void 0 : _a[1])) {\n        ++rawDiacriticsIndex;\n      } else {\n        positions.push([i - 1 - shift + 1, shift - 1]);\n        shift -= 1;\n        shiftOrigin += 1;\n      }\n      positions.push([i - shift + 1, shift]);\n      shiftOrigin += 1;\n      eol += 1;\n      return p3.charAt(0);\n    }\n    if (p4) {\n      const hasTrailingDashEOL = p4.endsWith(\"\\n\");\n      const len = hasTrailingDashEOL ? p4.length - 2 : p4.length;\n      hasDiacritics = true;\n      let jj = len;\n      if (i + eol === ((_b = rawDiacriticsPositions[rawDiacriticsIndex]) == null ? void 0 : _b[1])) {\n        jj -= rawDiacriticsPositions[rawDiacriticsIndex][0];\n        ++rawDiacriticsIndex;\n      }\n      for (let j = 1; j <= jj; j++) {\n        positions.push([i - 1 - shift + j, shift - j]);\n      }\n      shift -= jj;\n      shiftOrigin += jj;\n      if (hasTrailingDashEOL) {\n        i += len - 1;\n        positions.push([i - shift + 1, 1 + shift]);\n        shift += 1;\n        shiftOrigin += 1;\n        eol += 1;\n        return p4.slice(0, len);\n      }\n      return p4;\n    }\n    if (p5) {\n      const len = p5.length - 2;\n      positions.push([i - shift + len, 1 + shift]);\n      shift += 1;\n      shiftOrigin += 1;\n      eol += 1;\n      return p5.slice(0, -2);\n    }\n    if (p6) {\n      const len = p6.length - 1;\n      positions.push([i - shift + len, shift]);\n      shiftOrigin += 1;\n      eol += 1;\n      return p6.slice(0, -1);\n    }\n    if (p7) {\n      positions.push([i - shift + 1, shift - 1]);\n      shift -= 1;\n      shiftOrigin += 1;\n      eol += 1;\n      return \" \";\n    }\n    if (i + eol === ((_c = syllablePositions[syllableIndex]) == null ? void 0 : _c[1])) {\n      const newCharLen = syllablePositions[syllableIndex][0] - 1;\n      ++syllableIndex;\n      for (let j = 1; j <= newCharLen; j++) {\n        positions.push([i - (shift - j), shift - j]);\n      }\n      shift -= newCharLen;\n      shiftOrigin += newCharLen;\n    }\n    return p8;\n  });\n  positions.push([normalized.length, shift]);\n  return [normalized, positions, hasDiacritics];\n}\nfunction getOriginalIndex(diffs, pos, len) {\n  if (!diffs) {\n    return [pos, len];\n  }\n  const start = pos;\n  const end = pos + len - 1;\n  let i = binarySearchFirstItem(diffs, (x) => x[0] >= start);\n  if (diffs[i][0] > start) {\n    --i;\n  }\n  let j = binarySearchFirstItem(diffs, (x) => x[0] >= end, i);\n  if (diffs[j][0] > end) {\n    --j;\n  }\n  const oldStart = start + diffs[i][1];\n  const oldEnd = end + diffs[j][1];\n  const oldLen = oldEnd + 1 - oldStart;\n  return [oldStart, oldLen];\n}\nclass PDFFindController {\n  constructor({\n    linkService,\n    eventBus,\n    updateMatchesCountOnProgress = true\n  }) {\n    __privateAdd(this, _PDFFindController_instances);\n    __privateAdd(this, _state, null);\n    __privateAdd(this, _updateMatchesCountOnProgress, true);\n    __privateAdd(this, _visitedPagesCount, 0);\n    this._linkService = linkService;\n    this._eventBus = eventBus;\n    __privateSet(this, _updateMatchesCountOnProgress, updateMatchesCountOnProgress);\n    this.onIsPageVisible = null;\n    __privateMethod(this, _PDFFindController_instances, reset_fn).call(this);\n    eventBus._on(\"find\", __privateMethod(this, _PDFFindController_instances, onFind_fn).bind(this));\n    eventBus._on(\"findbarclose\", __privateMethod(this, _PDFFindController_instances, onFindBarClose_fn).bind(this));\n  }\n  get highlightMatches() {\n    return this._highlightMatches;\n  }\n  get pageMatches() {\n    return this._pageMatches;\n  }\n  get pageMatchesLength() {\n    return this._pageMatchesLength;\n  }\n  get selected() {\n    return this._selected;\n  }\n  get state() {\n    return __privateGet(this, _state);\n  }\n  setDocument(pdfDocument) {\n    if (this._pdfDocument) {\n      __privateMethod(this, _PDFFindController_instances, reset_fn).call(this);\n    }\n    if (!pdfDocument) {\n      return;\n    }\n    this._pdfDocument = pdfDocument;\n    this._firstPageCapability.resolve();\n  }\n  scrollMatchIntoView({\n    element = null,\n    selectedLeft = 0,\n    pageIndex = -1,\n    matchIndex = -1\n  }) {\n    if (!this._scrollMatches || !element) {\n      return;\n    } else if (matchIndex === -1 || matchIndex !== this._selected.matchIdx) {\n      return;\n    } else if (pageIndex === -1 || pageIndex !== this._selected.pageIdx) {\n      return;\n    }\n    this._scrollMatches = false;\n    const spot = {\n      top: MATCH_SCROLL_OFFSET_TOP,\n      left: selectedLeft + MATCH_SCROLL_OFFSET_LEFT\n    };\n    scrollIntoView(element, spot, true);\n  }\n}\n_state = new WeakMap();\n_updateMatchesCountOnProgress = new WeakMap();\n_visitedPagesCount = new WeakMap();\n_PDFFindController_instances = new WeakSet();\nonFind_fn = function(state) {\n  if (!state) {\n    return;\n  }\n  const pdfDocument = this._pdfDocument;\n  const {\n    type\n  } = state;\n  if (__privateGet(this, _state) === null || __privateMethod(this, _PDFFindController_instances, shouldDirtyMatch_fn).call(this, state)) {\n    this._dirtyMatch = true;\n  }\n  __privateSet(this, _state, state);\n  if (type !== \"highlightallchange\") {\n    __privateMethod(this, _PDFFindController_instances, updateUIState_fn).call(this, FindState.PENDING);\n  }\n  this._firstPageCapability.promise.then(() => {\n    if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n      return;\n    }\n    __privateMethod(this, _PDFFindController_instances, extractText_fn).call(this);\n    const findbarClosed = !this._highlightMatches;\n    const pendingTimeout = !!this._findTimeout;\n    if (this._findTimeout) {\n      clearTimeout(this._findTimeout);\n      this._findTimeout = null;\n    }\n    if (!type) {\n      this._findTimeout = setTimeout(() => {\n        __privateMethod(this, _PDFFindController_instances, nextMatch_fn).call(this);\n        this._findTimeout = null;\n      }, FIND_TIMEOUT);\n    } else if (this._dirtyMatch) {\n      __privateMethod(this, _PDFFindController_instances, nextMatch_fn).call(this);\n    } else if (type === \"again\") {\n      __privateMethod(this, _PDFFindController_instances, nextMatch_fn).call(this);\n      if (findbarClosed && __privateGet(this, _state).highlightAll) {\n        __privateMethod(this, _PDFFindController_instances, updateAllPages_fn).call(this);\n      }\n    } else if (type === \"highlightallchange\") {\n      if (pendingTimeout) {\n        __privateMethod(this, _PDFFindController_instances, nextMatch_fn).call(this);\n      } else {\n        this._highlightMatches = true;\n      }\n      __privateMethod(this, _PDFFindController_instances, updateAllPages_fn).call(this);\n    } else {\n      __privateMethod(this, _PDFFindController_instances, nextMatch_fn).call(this);\n    }\n  });\n};\nreset_fn = function() {\n  this._highlightMatches = false;\n  this._scrollMatches = false;\n  this._pdfDocument = null;\n  this._pageMatches = [];\n  this._pageMatchesLength = [];\n  __privateSet(this, _visitedPagesCount, 0);\n  __privateSet(this, _state, null);\n  this._selected = {\n    pageIdx: -1,\n    matchIdx: -1\n  };\n  this._offset = {\n    pageIdx: null,\n    matchIdx: null,\n    wrapped: false\n  };\n  this._extractTextPromises = [];\n  this._pageContents = [];\n  this._pageDiffs = [];\n  this._hasDiacritics = [];\n  this._matchesCountTotal = 0;\n  this._pagesToSearch = null;\n  this._pendingFindMatches = /* @__PURE__ */ new Set();\n  this._resumePageIdx = null;\n  this._dirtyMatch = false;\n  clearTimeout(this._findTimeout);\n  this._findTimeout = null;\n  this._firstPageCapability = Promise.withResolvers();\n};\nquery_get = function() {\n  const {\n    query\n  } = __privateGet(this, _state);\n  if (typeof query === \"string\") {\n    if (query !== this._rawQuery) {\n      this._rawQuery = query;\n      [this._normalizedQuery] = normalize(query);\n    }\n    return this._normalizedQuery;\n  }\n  return (query || []).filter((q) => !!q).map((q) => normalize(q)[0]);\n};\nshouldDirtyMatch_fn = function(state) {\n  var _a;\n  const newQuery = state.query, prevQuery = __privateGet(this, _state).query;\n  const newType = typeof newQuery, prevType = typeof prevQuery;\n  if (newType !== prevType) {\n    return true;\n  }\n  if (newType === \"string\") {\n    if (newQuery !== prevQuery) {\n      return true;\n    }\n  } else if (JSON.stringify(newQuery) !== JSON.stringify(prevQuery)) {\n    return true;\n  }\n  switch (state.type) {\n    case \"again\":\n      const pageNumber = this._selected.pageIdx + 1;\n      const linkService = this._linkService;\n      return pageNumber >= 1 && pageNumber <= linkService.pagesCount && pageNumber !== linkService.page && !(((_a = this.onIsPageVisible) == null ? void 0 : _a.call(this, pageNumber)) ?? true);\n    case \"highlightallchange\":\n      return false;\n  }\n  return true;\n};\nisEntireWord_fn = function(content, startIdx, length) {\n  let match2 = content.slice(0, startIdx).match(NOT_DIACRITIC_FROM_END_REG_EXP);\n  if (match2) {\n    const first = content.charCodeAt(startIdx);\n    const limit = match2[1].charCodeAt(0);\n    if (getCharacterType(first) === getCharacterType(limit)) {\n      return false;\n    }\n  }\n  match2 = content.slice(startIdx + length).match(NOT_DIACRITIC_FROM_START_REG_EXP);\n  if (match2) {\n    const last = content.charCodeAt(startIdx + length - 1);\n    const limit = match2[1].charCodeAt(0);\n    if (getCharacterType(last) === getCharacterType(limit)) {\n      return false;\n    }\n  }\n  return true;\n};\ncalculateRegExpMatch_fn = function(query, entireWord, pageIndex, pageContent) {\n  const matches = this._pageMatches[pageIndex] = [];\n  const matchesLength = this._pageMatchesLength[pageIndex] = [];\n  if (!query) {\n    return;\n  }\n  const diffs = this._pageDiffs[pageIndex];\n  let match2;\n  while ((match2 = query.exec(pageContent)) !== null) {\n    if (entireWord && !__privateMethod(this, _PDFFindController_instances, isEntireWord_fn).call(this, pageContent, match2.index, match2[0].length)) {\n      continue;\n    }\n    const [matchPos, matchLen] = getOriginalIndex(diffs, match2.index, match2[0].length);\n    if (matchLen) {\n      matches.push(matchPos);\n      matchesLength.push(matchLen);\n    }\n  }\n};\nconvertToRegExpString_fn = function(query, hasDiacritics) {\n  const {\n    matchDiacritics\n  } = __privateGet(this, _state);\n  let isUnicode = false;\n  query = query.replaceAll(SPECIAL_CHARS_REG_EXP, (match2, p1, p2, p3, p4, p5) => {\n    if (p1) {\n      return `[ ]*\\\\${p1}[ ]*`;\n    }\n    if (p2) {\n      return `[ ]*${p2}[ ]*`;\n    }\n    if (p3) {\n      return \"[ ]+\";\n    }\n    if (matchDiacritics) {\n      return p4 || p5;\n    }\n    if (p4) {\n      return DIACRITICS_EXCEPTION.has(p4.charCodeAt(0)) ? p4 : \"\";\n    }\n    if (hasDiacritics) {\n      isUnicode = true;\n      return `${p5}\\\\p{M}*`;\n    }\n    return p5;\n  });\n  const trailingSpaces = \"[ ]*\";\n  if (query.endsWith(trailingSpaces)) {\n    query = query.slice(0, query.length - trailingSpaces.length);\n  }\n  if (matchDiacritics) {\n    if (hasDiacritics) {\n      DIACRITICS_EXCEPTION_STR || (DIACRITICS_EXCEPTION_STR = String.fromCharCode(...DIACRITICS_EXCEPTION));\n      isUnicode = true;\n      query = `${query}(?=[${DIACRITICS_EXCEPTION_STR}]|[^\\\\p{M}]|$)`;\n    }\n  }\n  return [isUnicode, query];\n};\ncalculateMatch_fn = function(pageIndex) {\n  let query = __privateGet(this, _PDFFindController_instances, query_get);\n  if (query.length === 0) {\n    return;\n  }\n  const {\n    caseSensitive,\n    entireWord\n  } = __privateGet(this, _state);\n  const pageContent = this._pageContents[pageIndex];\n  const hasDiacritics = this._hasDiacritics[pageIndex];\n  let isUnicode = false;\n  if (typeof query === \"string\") {\n    [isUnicode, query] = __privateMethod(this, _PDFFindController_instances, convertToRegExpString_fn).call(this, query, hasDiacritics);\n  } else {\n    query = query.sort().reverse().map((q) => {\n      const [isUnicodePart, queryPart] = __privateMethod(this, _PDFFindController_instances, convertToRegExpString_fn).call(this, q, hasDiacritics);\n      isUnicode || (isUnicode = isUnicodePart);\n      return `(${queryPart})`;\n    }).join(\"|\");\n  }\n  const flags = `g${isUnicode ? \"u\" : \"\"}${caseSensitive ? \"\" : \"i\"}`;\n  query = query ? new RegExp(query, flags) : null;\n  __privateMethod(this, _PDFFindController_instances, calculateRegExpMatch_fn).call(this, query, entireWord, pageIndex, pageContent);\n  if (__privateGet(this, _state).highlightAll) {\n    __privateMethod(this, _PDFFindController_instances, updatePage_fn).call(this, pageIndex);\n  }\n  if (this._resumePageIdx === pageIndex) {\n    this._resumePageIdx = null;\n    __privateMethod(this, _PDFFindController_instances, nextPageMatch_fn).call(this);\n  }\n  const pageMatchesCount = this._pageMatches[pageIndex].length;\n  this._matchesCountTotal += pageMatchesCount;\n  if (__privateGet(this, _updateMatchesCountOnProgress)) {\n    if (pageMatchesCount > 0) {\n      __privateMethod(this, _PDFFindController_instances, updateUIResultsCount_fn).call(this);\n    }\n  } else if (++__privateWrapper(this, _visitedPagesCount)._ === this._linkService.pagesCount) {\n    __privateMethod(this, _PDFFindController_instances, updateUIResultsCount_fn).call(this);\n  }\n};\nextractText_fn = function() {\n  if (this._extractTextPromises.length > 0) {\n    return;\n  }\n  let deferred = Promise.resolve();\n  const textOptions = {\n    disableNormalization: true\n  };\n  for (let i = 0, ii = this._linkService.pagesCount; i < ii; i++) {\n    const {\n      promise,\n      resolve\n    } = Promise.withResolvers();\n    this._extractTextPromises[i] = promise;\n    deferred = deferred.then(() => {\n      return this._pdfDocument.getPage(i + 1).then((pdfPage) => pdfPage.getTextContent(textOptions)).then((textContent) => {\n        const strBuf = [];\n        for (const textItem of textContent.items) {\n          strBuf.push(textItem.str);\n          if (textItem.hasEOL) {\n            strBuf.push(\"\\n\");\n          }\n        }\n        [this._pageContents[i], this._pageDiffs[i], this._hasDiacritics[i]] = normalize(strBuf.join(\"\"));\n        resolve();\n      }, (reason) => {\n        console.error(`Unable to get text content for page ${i + 1}`, reason);\n        this._pageContents[i] = \"\";\n        this._pageDiffs[i] = null;\n        this._hasDiacritics[i] = false;\n        resolve();\n      });\n    });\n  }\n};\nupdatePage_fn = function(index) {\n  if (this._scrollMatches && this._selected.pageIdx === index) {\n    this._linkService.page = index + 1;\n  }\n  this._eventBus.dispatch(\"updatetextlayermatches\", {\n    source: this,\n    pageIndex: index\n  });\n};\nupdateAllPages_fn = function() {\n  this._eventBus.dispatch(\"updatetextlayermatches\", {\n    source: this,\n    pageIndex: -1\n  });\n};\nnextMatch_fn = function() {\n  const previous = __privateGet(this, _state).findPrevious;\n  const currentPageIndex = this._linkService.page - 1;\n  const numPages = this._linkService.pagesCount;\n  this._highlightMatches = true;\n  if (this._dirtyMatch) {\n    this._dirtyMatch = false;\n    this._selected.pageIdx = this._selected.matchIdx = -1;\n    this._offset.pageIdx = currentPageIndex;\n    this._offset.matchIdx = null;\n    this._offset.wrapped = false;\n    this._resumePageIdx = null;\n    this._pageMatches.length = 0;\n    this._pageMatchesLength.length = 0;\n    __privateSet(this, _visitedPagesCount, 0);\n    this._matchesCountTotal = 0;\n    __privateMethod(this, _PDFFindController_instances, updateAllPages_fn).call(this);\n    for (let i = 0; i < numPages; i++) {\n      if (this._pendingFindMatches.has(i)) {\n        continue;\n      }\n      this._pendingFindMatches.add(i);\n      this._extractTextPromises[i].then(() => {\n        this._pendingFindMatches.delete(i);\n        __privateMethod(this, _PDFFindController_instances, calculateMatch_fn).call(this, i);\n      });\n    }\n  }\n  const query = __privateGet(this, _PDFFindController_instances, query_get);\n  if (query.length === 0) {\n    __privateMethod(this, _PDFFindController_instances, updateUIState_fn).call(this, FindState.FOUND);\n    return;\n  }\n  if (this._resumePageIdx) {\n    return;\n  }\n  const offset = this._offset;\n  this._pagesToSearch = numPages;\n  if (offset.matchIdx !== null) {\n    const numPageMatches = this._pageMatches[offset.pageIdx].length;\n    if (!previous && offset.matchIdx + 1 < numPageMatches || previous && offset.matchIdx > 0) {\n      offset.matchIdx = previous ? offset.matchIdx - 1 : offset.matchIdx + 1;\n      __privateMethod(this, _PDFFindController_instances, updateMatch_fn).call(this, true);\n      return;\n    }\n    __privateMethod(this, _PDFFindController_instances, advanceOffsetPage_fn).call(this, previous);\n  }\n  __privateMethod(this, _PDFFindController_instances, nextPageMatch_fn).call(this);\n};\nmatchesReady_fn = function(matches) {\n  const offset = this._offset;\n  const numMatches = matches.length;\n  const previous = __privateGet(this, _state).findPrevious;\n  if (numMatches) {\n    offset.matchIdx = previous ? numMatches - 1 : 0;\n    __privateMethod(this, _PDFFindController_instances, updateMatch_fn).call(this, true);\n    return true;\n  }\n  __privateMethod(this, _PDFFindController_instances, advanceOffsetPage_fn).call(this, previous);\n  if (offset.wrapped) {\n    offset.matchIdx = null;\n    if (this._pagesToSearch < 0) {\n      __privateMethod(this, _PDFFindController_instances, updateMatch_fn).call(this, false);\n      return true;\n    }\n  }\n  return false;\n};\nnextPageMatch_fn = function() {\n  if (this._resumePageIdx !== null) {\n    console.error(\"There can only be one pending page.\");\n  }\n  let matches = null;\n  do {\n    const pageIdx = this._offset.pageIdx;\n    matches = this._pageMatches[pageIdx];\n    if (!matches) {\n      this._resumePageIdx = pageIdx;\n      break;\n    }\n  } while (!__privateMethod(this, _PDFFindController_instances, matchesReady_fn).call(this, matches));\n};\nadvanceOffsetPage_fn = function(previous) {\n  const offset = this._offset;\n  const numPages = this._linkService.pagesCount;\n  offset.pageIdx = previous ? offset.pageIdx - 1 : offset.pageIdx + 1;\n  offset.matchIdx = null;\n  this._pagesToSearch--;\n  if (offset.pageIdx >= numPages || offset.pageIdx < 0) {\n    offset.pageIdx = previous ? numPages - 1 : 0;\n    offset.wrapped = true;\n  }\n};\nupdateMatch_fn = function(found = false) {\n  let state = FindState.NOT_FOUND;\n  const wrapped = this._offset.wrapped;\n  this._offset.wrapped = false;\n  if (found) {\n    const previousPage = this._selected.pageIdx;\n    this._selected.pageIdx = this._offset.pageIdx;\n    this._selected.matchIdx = this._offset.matchIdx;\n    state = wrapped ? FindState.WRAPPED : FindState.FOUND;\n    if (previousPage !== -1 && previousPage !== this._selected.pageIdx) {\n      __privateMethod(this, _PDFFindController_instances, updatePage_fn).call(this, previousPage);\n    }\n  }\n  __privateMethod(this, _PDFFindController_instances, updateUIState_fn).call(this, state, __privateGet(this, _state).findPrevious);\n  if (this._selected.pageIdx !== -1) {\n    this._scrollMatches = true;\n    __privateMethod(this, _PDFFindController_instances, updatePage_fn).call(this, this._selected.pageIdx);\n  }\n};\nonFindBarClose_fn = function(evt) {\n  const pdfDocument = this._pdfDocument;\n  this._firstPageCapability.promise.then(() => {\n    if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n      return;\n    }\n    if (this._findTimeout) {\n      clearTimeout(this._findTimeout);\n      this._findTimeout = null;\n    }\n    if (this._resumePageIdx) {\n      this._resumePageIdx = null;\n      this._dirtyMatch = true;\n    }\n    __privateMethod(this, _PDFFindController_instances, updateUIState_fn).call(this, FindState.FOUND);\n    this._highlightMatches = false;\n    __privateMethod(this, _PDFFindController_instances, updateAllPages_fn).call(this);\n  });\n};\nrequestMatchesCount_fn = function() {\n  var _a;\n  const {\n    pageIdx,\n    matchIdx\n  } = this._selected;\n  let current = 0, total = this._matchesCountTotal;\n  if (matchIdx !== -1) {\n    for (let i = 0; i < pageIdx; i++) {\n      current += ((_a = this._pageMatches[i]) == null ? void 0 : _a.length) || 0;\n    }\n    current += matchIdx + 1;\n  }\n  if (current < 1 || current > total) {\n    current = total = 0;\n  }\n  return {\n    current,\n    total\n  };\n};\nupdateUIResultsCount_fn = function() {\n  this._eventBus.dispatch(\"updatefindmatchescount\", {\n    source: this,\n    matchesCount: __privateMethod(this, _PDFFindController_instances, requestMatchesCount_fn).call(this)\n  });\n};\nupdateUIState_fn = function(state, previous = false) {\n  var _a, _b;\n  if (!__privateGet(this, _updateMatchesCountOnProgress) && (__privateGet(this, _visitedPagesCount) !== this._linkService.pagesCount || state === FindState.PENDING)) {\n    return;\n  }\n  this._eventBus.dispatch(\"updatefindcontrolstate\", {\n    source: this,\n    state,\n    previous,\n    entireWord: ((_a = __privateGet(this, _state)) == null ? void 0 : _a.entireWord) ?? null,\n    matchesCount: __privateMethod(this, _PDFFindController_instances, requestMatchesCount_fn).call(this),\n    rawQuery: ((_b = __privateGet(this, _state)) == null ? void 0 : _b.query) ?? null\n  });\n};\nconst DEFAULT_LINK_REL = \"noopener noreferrer nofollow\";\nconst LinkTarget = {\n  NONE: 0,\n  SELF: 1,\n  BLANK: 2,\n  PARENT: 3,\n  TOP: 4\n};\nconst _PDFLinkService = class _PDFLinkService {\n  constructor({\n    eventBus,\n    externalLinkTarget = null,\n    externalLinkRel = null,\n    ignoreDestinationZoom = false\n  } = {}) {\n    __publicField(this, \"externalLinkEnabled\", true);\n    this.eventBus = eventBus;\n    this.externalLinkTarget = externalLinkTarget;\n    this.externalLinkRel = externalLinkRel;\n    this._ignoreDestinationZoom = ignoreDestinationZoom;\n    this.baseUrl = null;\n    this.pdfDocument = null;\n    this.pdfViewer = null;\n    this.pdfHistory = null;\n  }\n  setDocument(pdfDocument, baseUrl = null) {\n    this.baseUrl = baseUrl;\n    this.pdfDocument = pdfDocument;\n  }\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n  setHistory(pdfHistory) {\n    this.pdfHistory = pdfHistory;\n  }\n  get pagesCount() {\n    return this.pdfDocument ? this.pdfDocument.numPages : 0;\n  }\n  get page() {\n    return this.pdfDocument ? this.pdfViewer.currentPageNumber : 1;\n  }\n  set page(value) {\n    if (this.pdfDocument) {\n      this.pdfViewer.currentPageNumber = value;\n    }\n  }\n  get rotation() {\n    return this.pdfDocument ? this.pdfViewer.pagesRotation : 0;\n  }\n  set rotation(value) {\n    if (this.pdfDocument) {\n      this.pdfViewer.pagesRotation = value;\n    }\n  }\n  get isInPresentationMode() {\n    return this.pdfDocument ? this.pdfViewer.isInPresentationMode : false;\n  }\n  async goToDestination(dest) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    let namedDest, explicitDest, pageNumber;\n    if (typeof dest === \"string\") {\n      namedDest = dest;\n      explicitDest = await this.pdfDocument.getDestination(dest);\n    } else {\n      namedDest = null;\n      explicitDest = await dest;\n    }\n    if (!Array.isArray(explicitDest)) {\n      console.error(`goToDestination: \"${explicitDest}\" is not a valid destination array, for dest=\"${dest}\".`);\n      return;\n    }\n    const [destRef] = explicitDest;\n    if (destRef && typeof destRef === \"object\") {\n      pageNumber = this.pdfDocument.cachedPageNumber(destRef);\n      if (!pageNumber) {\n        try {\n          pageNumber = await this.pdfDocument.getPageIndex(destRef) + 1;\n        } catch {\n          console.error(`goToDestination: \"${destRef}\" is not a valid page reference, for dest=\"${dest}\".`);\n          return;\n        }\n      }\n    } else if (Number.isInteger(destRef)) {\n      pageNumber = destRef + 1;\n    }\n    if (!pageNumber || pageNumber < 1 || pageNumber > this.pagesCount) {\n      console.error(`goToDestination: \"${pageNumber}\" is not a valid page number, for dest=\"${dest}\".`);\n      return;\n    }\n    if (this.pdfHistory) {\n      this.pdfHistory.pushCurrentPosition();\n      this.pdfHistory.push({\n        namedDest,\n        explicitDest,\n        pageNumber\n      });\n    }\n    this.pdfViewer.scrollPageIntoView({\n      pageNumber,\n      destArray: explicitDest,\n      ignoreDestinationZoom: this._ignoreDestinationZoom\n    });\n  }\n  goToPage(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const pageNumber = typeof val === \"string\" && this.pdfViewer.pageLabelToPageNumber(val) || val | 0;\n    if (!(Number.isInteger(pageNumber) && pageNumber > 0 && pageNumber <= this.pagesCount)) {\n      console.error(`PDFLinkService.goToPage: \"${val}\" is not a valid page.`);\n      return;\n    }\n    if (this.pdfHistory) {\n      this.pdfHistory.pushCurrentPosition();\n      this.pdfHistory.pushPage(pageNumber);\n    }\n    this.pdfViewer.scrollPageIntoView({\n      pageNumber\n    });\n  }\n  addLinkAttributes(link, url, newWindow = false) {\n    if (!url || typeof url !== \"string\") {\n      throw new Error('A valid \"url\" parameter must provided.');\n    }\n    const target = newWindow ? LinkTarget.BLANK : this.externalLinkTarget, rel = this.externalLinkRel;\n    if (this.externalLinkEnabled) {\n      link.href = link.title = url;\n    } else {\n      link.href = \"\";\n      link.title = `Disabled: ${url}`;\n      link.onclick = () => false;\n    }\n    let targetStr = \"\";\n    switch (target) {\n      case LinkTarget.NONE:\n        break;\n      case LinkTarget.SELF:\n        targetStr = \"_self\";\n        break;\n      case LinkTarget.BLANK:\n        targetStr = \"_blank\";\n        break;\n      case LinkTarget.PARENT:\n        targetStr = \"_parent\";\n        break;\n      case LinkTarget.TOP:\n        targetStr = \"_top\";\n        break;\n    }\n    link.target = targetStr;\n    link.rel = typeof rel === \"string\" ? rel : DEFAULT_LINK_REL;\n  }\n  getDestinationHash(dest) {\n    if (typeof dest === \"string\") {\n      if (dest.length > 0) {\n        return this.getAnchorUrl(\"#\" + escape(dest));\n      }\n    } else if (Array.isArray(dest)) {\n      const str = JSON.stringify(dest);\n      if (str.length > 0) {\n        return this.getAnchorUrl(\"#\" + escape(str));\n      }\n    }\n    return this.getAnchorUrl(\"\");\n  }\n  getAnchorUrl(anchor) {\n    return this.baseUrl ? this.baseUrl + anchor : anchor;\n  }\n  setHash(hash) {\n    var _a;\n    if (!this.pdfDocument) {\n      return;\n    }\n    let pageNumber, dest;\n    if (hash.includes(\"=\")) {\n      const params = parseQueryString(hash);\n      if (params.has(\"search\")) {\n        const query = params.get(\"search\").replaceAll('\"', \"\"), phrase = params.get(\"phrase\") === \"true\";\n        this.eventBus.dispatch(\"findfromurlhash\", {\n          source: this,\n          query: phrase ? query : query.match(/\\S+/g)\n        });\n      }\n      if (params.has(\"page\")) {\n        pageNumber = params.get(\"page\") | 0 || 1;\n      }\n      if (params.has(\"zoom\")) {\n        const zoomArgs = params.get(\"zoom\").split(\",\");\n        const zoomArg = zoomArgs[0];\n        const zoomArgNumber = parseFloat(zoomArg);\n        if (!zoomArg.includes(\"Fit\")) {\n          dest = [null, {\n            name: \"XYZ\"\n          }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null, zoomArgs.length > 2 ? zoomArgs[2] | 0 : null, zoomArgNumber ? zoomArgNumber / 100 : zoomArg];\n        } else if (zoomArg === \"Fit\" || zoomArg === \"FitB\") {\n          dest = [null, {\n            name: zoomArg\n          }];\n        } else if (zoomArg === \"FitH\" || zoomArg === \"FitBH\" || zoomArg === \"FitV\" || zoomArg === \"FitBV\") {\n          dest = [null, {\n            name: zoomArg\n          }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null];\n        } else if (zoomArg === \"FitR\") {\n          if (zoomArgs.length !== 5) {\n            console.error('PDFLinkService.setHash: Not enough parameters for \"FitR\".');\n          } else {\n            dest = [null, {\n              name: zoomArg\n            }, zoomArgs[1] | 0, zoomArgs[2] | 0, zoomArgs[3] | 0, zoomArgs[4] | 0];\n          }\n        } else {\n          console.error(`PDFLinkService.setHash: \"${zoomArg}\" is not a valid zoom value.`);\n        }\n      }\n      if (dest) {\n        this.pdfViewer.scrollPageIntoView({\n          pageNumber: pageNumber || this.page,\n          destArray: dest,\n          allowNegativeOffset: true\n        });\n      } else if (pageNumber) {\n        this.page = pageNumber;\n      }\n      if (params.has(\"pagemode\")) {\n        this.eventBus.dispatch(\"pagemode\", {\n          source: this,\n          mode: params.get(\"pagemode\")\n        });\n      }\n      if (params.has(\"nameddest\")) {\n        this.goToDestination(params.get(\"nameddest\"));\n      }\n      return;\n    }\n    dest = unescape(hash);\n    try {\n      dest = JSON.parse(dest);\n      if (!Array.isArray(dest)) {\n        dest = dest.toString();\n      }\n    } catch {\n    }\n    if (typeof dest === \"string\" || __privateMethod(_a = _PDFLinkService, _PDFLinkService_static, isValidExplicitDest_fn).call(_a, dest)) {\n      this.goToDestination(dest);\n      return;\n    }\n    console.error(`PDFLinkService.setHash: \"${unescape(hash)}\" is not a valid destination.`);\n  }\n  executeNamedAction(action) {\n    var _a, _b;\n    if (!this.pdfDocument) {\n      return;\n    }\n    switch (action) {\n      case \"GoBack\":\n        (_a = this.pdfHistory) == null ? void 0 : _a.back();\n        break;\n      case \"GoForward\":\n        (_b = this.pdfHistory) == null ? void 0 : _b.forward();\n        break;\n      case \"NextPage\":\n        this.pdfViewer.nextPage();\n        break;\n      case \"PrevPage\":\n        this.pdfViewer.previousPage();\n        break;\n      case \"LastPage\":\n        this.page = this.pagesCount;\n        break;\n      case \"FirstPage\":\n        this.page = 1;\n        break;\n    }\n    this.eventBus.dispatch(\"namedaction\", {\n      source: this,\n      action\n    });\n  }\n  async executeSetOCGState(action) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const pdfDocument = this.pdfDocument, optionalContentConfig = await this.pdfViewer.optionalContentConfigPromise;\n    if (pdfDocument !== this.pdfDocument) {\n      return;\n    }\n    optionalContentConfig.setOCGState(action);\n    this.pdfViewer.optionalContentConfigPromise = Promise.resolve(optionalContentConfig);\n  }\n};\n_PDFLinkService_static = new WeakSet();\nisValidExplicitDest_fn = function(dest) {\n  if (!Array.isArray(dest) || dest.length < 2) {\n    return false;\n  }\n  const [page, zoom, ...args] = dest;\n  if (!(typeof page === \"object\" && Number.isInteger(page == null ? void 0 : page.num) && Number.isInteger(page == null ? void 0 : page.gen)) && !Number.isInteger(page)) {\n    return false;\n  }\n  if (!(typeof zoom === \"object\" && typeof (zoom == null ? void 0 : zoom.name) === \"string\")) {\n    return false;\n  }\n  let allowNull = true;\n  switch (zoom.name) {\n    case \"XYZ\":\n      if (args.length !== 3) {\n        return false;\n      }\n      break;\n    case \"Fit\":\n    case \"FitB\":\n      return args.length === 0;\n    case \"FitH\":\n    case \"FitBH\":\n    case \"FitV\":\n    case \"FitBV\":\n      if (args.length !== 1) {\n        return false;\n      }\n      break;\n    case \"FitR\":\n      if (args.length !== 4) {\n        return false;\n      }\n      allowNull = false;\n      break;\n    default:\n      return false;\n  }\n  for (const arg of args) {\n    if (!(typeof arg === \"number\" || allowNull && arg === null)) {\n      return false;\n    }\n  }\n  return true;\n};\n__privateAdd(_PDFLinkService, _PDFLinkService_static);\nlet PDFLinkService = _PDFLinkService;\nclass SimpleLinkService extends PDFLinkService {\n  setDocument(pdfDocument, baseUrl = null) {\n  }\n}\nconst {\n  AbortException,\n  AnnotationEditorLayer,\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  AnnotationEditorUIManager,\n  AnnotationLayer,\n  AnnotationMode,\n  build,\n  CMapCompressionType,\n  ColorPicker,\n  createValidAbsoluteUrl,\n  DOMSVGFactory,\n  DrawLayer,\n  FeatureTest,\n  fetchData,\n  getDocument,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getXfaPageViewport,\n  GlobalWorkerOptions,\n  ImageKind,\n  InvalidPDFException,\n  isDataScheme,\n  isPdfFile,\n  MissingPDFException,\n  noContextMenu,\n  normalizeUnicode,\n  OPS,\n  Outliner,\n  PasswordResponses,\n  PDFDataRangeTransport,\n  PDFDateString,\n  PDFWorker,\n  PermissionFlag,\n  PixelsPerInch,\n  RenderingCancelledException,\n  renderTextLayer,\n  setLayerDimensions,\n  shadow,\n  TextLayer,\n  UnexpectedResponseException,\n  updateTextLayer,\n  Util,\n  VerbosityLevel,\n  version,\n  XfaLayer\n} = globalThis.pdfjsLib;\nclass AnnotationLayerBuilder {\n  constructor({\n    pdfPage,\n    linkService,\n    downloadManager,\n    annotationStorage = null,\n    imageResourcesPath = \"\",\n    renderForms = true,\n    enableScripting = false,\n    hasJSActionsPromise = null,\n    fieldObjectsPromise = null,\n    annotationCanvasMap = null,\n    accessibilityManager = null,\n    annotationEditorUIManager = null,\n    onAppend = null\n  }) {\n    __privateAdd(this, _AnnotationLayerBuilder_instances);\n    __privateAdd(this, _onAppend, null);\n    __privateAdd(this, _eventAbortController, null);\n    this.pdfPage = pdfPage;\n    this.linkService = linkService;\n    this.downloadManager = downloadManager;\n    this.imageResourcesPath = imageResourcesPath;\n    this.renderForms = renderForms;\n    this.annotationStorage = annotationStorage;\n    this.enableScripting = enableScripting;\n    this._hasJSActionsPromise = hasJSActionsPromise || Promise.resolve(false);\n    this._fieldObjectsPromise = fieldObjectsPromise || Promise.resolve(null);\n    this._annotationCanvasMap = annotationCanvasMap;\n    this._accessibilityManager = accessibilityManager;\n    this._annotationEditorUIManager = annotationEditorUIManager;\n    __privateSet(this, _onAppend, onAppend);\n    this.annotationLayer = null;\n    this.div = null;\n    this._cancelled = false;\n    this._eventBus = linkService.eventBus;\n  }\n  async render(viewport, intent = \"display\") {\n    var _a, _b;\n    if (this.div) {\n      if (this._cancelled || !this.annotationLayer) {\n        return;\n      }\n      this.annotationLayer.update({\n        viewport: viewport.clone({\n          dontFlip: true\n        })\n      });\n      return;\n    }\n    const [annotations, hasJSActions, fieldObjects] = await Promise.all([this.pdfPage.getAnnotations({\n      intent\n    }), this._hasJSActionsPromise, this._fieldObjectsPromise]);\n    if (this._cancelled) {\n      return;\n    }\n    const div = this.div = document.createElement(\"div\");\n    div.className = \"annotationLayer\";\n    (_a = __privateGet(this, _onAppend)) == null ? void 0 : _a.call(this, div);\n    if (annotations.length === 0) {\n      this.hide();\n      return;\n    }\n    this.annotationLayer = new AnnotationLayer({\n      div,\n      accessibilityManager: this._accessibilityManager,\n      annotationCanvasMap: this._annotationCanvasMap,\n      annotationEditorUIManager: this._annotationEditorUIManager,\n      page: this.pdfPage,\n      viewport: viewport.clone({\n        dontFlip: true\n      })\n    });\n    await this.annotationLayer.render({\n      annotations,\n      imageResourcesPath: this.imageResourcesPath,\n      renderForms: this.renderForms,\n      linkService: this.linkService,\n      downloadManager: this.downloadManager,\n      annotationStorage: this.annotationStorage,\n      enableScripting: this.enableScripting,\n      hasJSActions,\n      fieldObjects\n    });\n    if (this.linkService.isInPresentationMode) {\n      __privateMethod(this, _AnnotationLayerBuilder_instances, updatePresentationModeState_fn).call(this, PresentationModeState.FULLSCREEN);\n    }\n    if (!__privateGet(this, _eventAbortController)) {\n      __privateSet(this, _eventAbortController, new AbortController());\n      (_b = this._eventBus) == null ? void 0 : _b._on(\"presentationmodechanged\", (evt) => {\n        __privateMethod(this, _AnnotationLayerBuilder_instances, updatePresentationModeState_fn).call(this, evt.state);\n      }, {\n        signal: __privateGet(this, _eventAbortController).signal\n      });\n    }\n  }\n  cancel() {\n    var _a;\n    this._cancelled = true;\n    (_a = __privateGet(this, _eventAbortController)) == null ? void 0 : _a.abort();\n    __privateSet(this, _eventAbortController, null);\n  }\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.hidden = true;\n  }\n}\n_onAppend = new WeakMap();\n_eventAbortController = new WeakMap();\n_AnnotationLayerBuilder_instances = new WeakSet();\nupdatePresentationModeState_fn = function(state) {\n  if (!this.div) {\n    return;\n  }\n  let disableFormElements = false;\n  switch (state) {\n    case PresentationModeState.FULLSCREEN:\n      disableFormElements = true;\n      break;\n    case PresentationModeState.NORMAL:\n      break;\n    default:\n      return;\n  }\n  for (const section of this.div.childNodes) {\n    if (section.hasAttribute(\"data-internal-link\")) {\n      continue;\n    }\n    section.inert = disableFormElements;\n  }\n};\nfunction download(blobUrl, filename) {\n  const a = document.createElement(\"a\");\n  if (!a.click) {\n    throw new Error('DownloadManager: \"a.click()\" is not supported.');\n  }\n  a.href = blobUrl;\n  a.target = \"_parent\";\n  if (\"download\" in a) {\n    a.download = filename;\n  }\n  (document.body || document.documentElement).append(a);\n  a.click();\n  a.remove();\n}\nclass DownloadManager {\n  constructor() {\n    __privateAdd(this, _openBlobUrls, /* @__PURE__ */ new WeakMap());\n  }\n  downloadData(data, filename, contentType) {\n    const blobUrl = URL.createObjectURL(new Blob([data], {\n      type: contentType\n    }));\n    download(blobUrl, filename);\n  }\n  openOrDownloadData(data, filename, dest = null) {\n    const isPdfData = isPdfFile(filename);\n    const contentType = isPdfData ? \"application/pdf\" : \"\";\n    this.downloadData(data, filename, contentType);\n    return false;\n  }\n  download(data, url, filename, _options) {\n    let blobUrl;\n    if (data) {\n      blobUrl = URL.createObjectURL(new Blob([data], {\n        type: \"application/pdf\"\n      }));\n    } else {\n      if (!createValidAbsoluteUrl(url, \"http://example.com\")) {\n        console.error(`download - not a valid URL: ${url}`);\n        return;\n      }\n      blobUrl = url + \"#pdfjs.action=download\";\n    }\n    download(blobUrl, filename);\n  }\n}\n_openBlobUrls = new WeakMap();\nconst WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nasync function waitOnEventOrTimeout({\n  target,\n  name,\n  delay = 0\n}) {\n  if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n    throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n  }\n  const {\n    promise,\n    resolve\n  } = Promise.withResolvers();\n  const ac = new AbortController();\n  function handler(type) {\n    ac.abort();\n    clearTimeout(timeout);\n    resolve(type);\n  }\n  const evtMethod = target instanceof EventBus ? \"_on\" : \"addEventListener\";\n  target[evtMethod](name, handler.bind(null, WaitOnType.EVENT), {\n    signal: ac.signal\n  });\n  const timeout = setTimeout(handler.bind(null, WaitOnType.TIMEOUT), delay);\n  return promise;\n}\nclass EventBus {\n  constructor() {\n    __privateAdd(this, _listeners, /* @__PURE__ */ Object.create(null));\n  }\n  on(eventName, listener, options = null) {\n    this._on(eventName, listener, {\n      external: true,\n      once: options == null ? void 0 : options.once,\n      signal: options == null ? void 0 : options.signal\n    });\n  }\n  off(eventName, listener, options = null) {\n    this._off(eventName, listener);\n  }\n  dispatch(eventName, data) {\n    const eventListeners = __privateGet(this, _listeners)[eventName];\n    if (!eventListeners || eventListeners.length === 0) {\n      return;\n    }\n    let externalListeners;\n    for (const {\n      listener,\n      external,\n      once\n    } of eventListeners.slice(0)) {\n      if (once) {\n        this._off(eventName, listener);\n      }\n      if (external) {\n        (externalListeners || (externalListeners = [])).push(listener);\n        continue;\n      }\n      listener(data);\n    }\n    if (externalListeners) {\n      for (const listener of externalListeners) {\n        listener(data);\n      }\n      externalListeners = null;\n    }\n  }\n  _on(eventName, listener, options = null) {\n    var _a;\n    let rmAbort = null;\n    if ((options == null ? void 0 : options.signal) instanceof AbortSignal) {\n      const {\n        signal\n      } = options;\n      if (signal.aborted) {\n        console.error(\"Cannot use an `aborted` signal.\");\n        return;\n      }\n      const onAbort = () => this._off(eventName, listener);\n      rmAbort = () => signal.removeEventListener(\"abort\", onAbort);\n      signal.addEventListener(\"abort\", onAbort);\n    }\n    const eventListeners = (_a = __privateGet(this, _listeners))[eventName] || (_a[eventName] = []);\n    eventListeners.push({\n      listener,\n      external: (options == null ? void 0 : options.external) === true,\n      once: (options == null ? void 0 : options.once) === true,\n      rmAbort\n    });\n  }\n  _off(eventName, listener, options = null) {\n    var _a;\n    const eventListeners = __privateGet(this, _listeners)[eventName];\n    if (!eventListeners) {\n      return;\n    }\n    for (let i = 0, ii = eventListeners.length; i < ii; i++) {\n      const evt = eventListeners[i];\n      if (evt.listener === listener) {\n        (_a = evt.rmAbort) == null ? void 0 : _a.call(evt);\n        eventListeners.splice(i, 1);\n        return;\n      }\n    }\n  }\n}\n_listeners = new WeakMap();\nclass FluentType {\n  constructor(value) {\n    this.value = value;\n  }\n  valueOf() {\n    return this.value;\n  }\n}\nclass FluentNone extends FluentType {\n  constructor(value = \"???\") {\n    super(value);\n  }\n  toString(scope) {\n    return `{${this.value}}`;\n  }\n}\nclass FluentNumber extends FluentType {\n  constructor(value, opts = {}) {\n    super(value);\n    this.opts = opts;\n  }\n  toString(scope) {\n    try {\n      const nf = scope.memoizeIntlObject(Intl.NumberFormat, this.opts);\n      return nf.format(this.value);\n    } catch (err) {\n      scope.reportError(err);\n      return this.value.toString(10);\n    }\n  }\n}\nclass FluentDateTime extends FluentType {\n  constructor(value, opts = {}) {\n    super(value);\n    this.opts = opts;\n  }\n  toString(scope) {\n    try {\n      const dtf = scope.memoizeIntlObject(Intl.DateTimeFormat, this.opts);\n      return dtf.format(this.value);\n    } catch (err) {\n      scope.reportError(err);\n      return new Date(this.value).toISOString();\n    }\n  }\n}\nconst MAX_PLACEABLES = 100;\nconst FSI = \"⁨\";\nconst PDI = \"⁩\";\nfunction match(scope, selector, key) {\n  if (key === selector) {\n    return true;\n  }\n  if (key instanceof FluentNumber && selector instanceof FluentNumber && key.value === selector.value) {\n    return true;\n  }\n  if (selector instanceof FluentNumber && typeof key === \"string\") {\n    let category = scope.memoizeIntlObject(Intl.PluralRules, selector.opts).select(selector.value);\n    if (key === category) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction getDefault(scope, variants, star) {\n  if (variants[star]) {\n    return resolvePattern(scope, variants[star].value);\n  }\n  scope.reportError(new RangeError(\"No default\"));\n  return new FluentNone();\n}\nfunction getArguments(scope, args) {\n  const positional = [];\n  const named = /* @__PURE__ */ Object.create(null);\n  for (const arg of args) {\n    if (arg.type === \"narg\") {\n      named[arg.name] = resolveExpression(scope, arg.value);\n    } else {\n      positional.push(resolveExpression(scope, arg));\n    }\n  }\n  return {\n    positional,\n    named\n  };\n}\nfunction resolveExpression(scope, expr) {\n  switch (expr.type) {\n    case \"str\":\n      return expr.value;\n    case \"num\":\n      return new FluentNumber(expr.value, {\n        minimumFractionDigits: expr.precision\n      });\n    case \"var\":\n      return resolveVariableReference(scope, expr);\n    case \"mesg\":\n      return resolveMessageReference(scope, expr);\n    case \"term\":\n      return resolveTermReference(scope, expr);\n    case \"func\":\n      return resolveFunctionReference(scope, expr);\n    case \"select\":\n      return resolveSelectExpression(scope, expr);\n    default:\n      return new FluentNone();\n  }\n}\nfunction resolveVariableReference(scope, {\n  name\n}) {\n  let arg;\n  if (scope.params) {\n    if (Object.prototype.hasOwnProperty.call(scope.params, name)) {\n      arg = scope.params[name];\n    } else {\n      return new FluentNone(`$${name}`);\n    }\n  } else if (scope.args && Object.prototype.hasOwnProperty.call(scope.args, name)) {\n    arg = scope.args[name];\n  } else {\n    scope.reportError(new ReferenceError(`Unknown variable: $${name}`));\n    return new FluentNone(`$${name}`);\n  }\n  if (arg instanceof FluentType) {\n    return arg;\n  }\n  switch (typeof arg) {\n    case \"string\":\n      return arg;\n    case \"number\":\n      return new FluentNumber(arg);\n    case \"object\":\n      if (arg instanceof Date) {\n        return new FluentDateTime(arg.getTime());\n      }\n    default:\n      scope.reportError(new TypeError(`Variable type not supported: $${name}, ${typeof arg}`));\n      return new FluentNone(`$${name}`);\n  }\n}\nfunction resolveMessageReference(scope, {\n  name,\n  attr\n}) {\n  const message = scope.bundle._messages.get(name);\n  if (!message) {\n    scope.reportError(new ReferenceError(`Unknown message: ${name}`));\n    return new FluentNone(name);\n  }\n  if (attr) {\n    const attribute = message.attributes[attr];\n    if (attribute) {\n      return resolvePattern(scope, attribute);\n    }\n    scope.reportError(new ReferenceError(`Unknown attribute: ${attr}`));\n    return new FluentNone(`${name}.${attr}`);\n  }\n  if (message.value) {\n    return resolvePattern(scope, message.value);\n  }\n  scope.reportError(new ReferenceError(`No value: ${name}`));\n  return new FluentNone(name);\n}\nfunction resolveTermReference(scope, {\n  name,\n  attr,\n  args\n}) {\n  const id = `-${name}`;\n  const term = scope.bundle._terms.get(id);\n  if (!term) {\n    scope.reportError(new ReferenceError(`Unknown term: ${id}`));\n    return new FluentNone(id);\n  }\n  if (attr) {\n    const attribute = term.attributes[attr];\n    if (attribute) {\n      scope.params = getArguments(scope, args).named;\n      const resolved2 = resolvePattern(scope, attribute);\n      scope.params = null;\n      return resolved2;\n    }\n    scope.reportError(new ReferenceError(`Unknown attribute: ${attr}`));\n    return new FluentNone(`${id}.${attr}`);\n  }\n  scope.params = getArguments(scope, args).named;\n  const resolved = resolvePattern(scope, term.value);\n  scope.params = null;\n  return resolved;\n}\nfunction resolveFunctionReference(scope, {\n  name,\n  args\n}) {\n  let func = scope.bundle._functions[name];\n  if (!func) {\n    scope.reportError(new ReferenceError(`Unknown function: ${name}()`));\n    return new FluentNone(`${name}()`);\n  }\n  if (typeof func !== \"function\") {\n    scope.reportError(new TypeError(`Function ${name}() is not callable`));\n    return new FluentNone(`${name}()`);\n  }\n  try {\n    let resolved = getArguments(scope, args);\n    return func(resolved.positional, resolved.named);\n  } catch (err) {\n    scope.reportError(err);\n    return new FluentNone(`${name}()`);\n  }\n}\nfunction resolveSelectExpression(scope, {\n  selector,\n  variants,\n  star\n}) {\n  let sel = resolveExpression(scope, selector);\n  if (sel instanceof FluentNone) {\n    return getDefault(scope, variants, star);\n  }\n  for (const variant of variants) {\n    const key = resolveExpression(scope, variant.key);\n    if (match(scope, sel, key)) {\n      return resolvePattern(scope, variant.value);\n    }\n  }\n  return getDefault(scope, variants, star);\n}\nfunction resolveComplexPattern(scope, ptn) {\n  if (scope.dirty.has(ptn)) {\n    scope.reportError(new RangeError(\"Cyclic reference\"));\n    return new FluentNone();\n  }\n  scope.dirty.add(ptn);\n  const result = [];\n  const useIsolating = scope.bundle._useIsolating && ptn.length > 1;\n  for (const elem of ptn) {\n    if (typeof elem === \"string\") {\n      result.push(scope.bundle._transform(elem));\n      continue;\n    }\n    scope.placeables++;\n    if (scope.placeables > MAX_PLACEABLES) {\n      scope.dirty.delete(ptn);\n      throw new RangeError(`Too many placeables expanded: ${scope.placeables}, max allowed is ${MAX_PLACEABLES}`);\n    }\n    if (useIsolating) {\n      result.push(FSI);\n    }\n    result.push(resolveExpression(scope, elem).toString(scope));\n    if (useIsolating) {\n      result.push(PDI);\n    }\n  }\n  scope.dirty.delete(ptn);\n  return result.join(\"\");\n}\nfunction resolvePattern(scope, value) {\n  if (typeof value === \"string\") {\n    return scope.bundle._transform(value);\n  }\n  return resolveComplexPattern(scope, value);\n}\nclass Scope {\n  constructor(bundle, errors, args) {\n    this.dirty = /* @__PURE__ */ new WeakSet();\n    this.params = null;\n    this.placeables = 0;\n    this.bundle = bundle;\n    this.errors = errors;\n    this.args = args;\n  }\n  reportError(error) {\n    if (!this.errors || !(error instanceof Error)) {\n      throw error;\n    }\n    this.errors.push(error);\n  }\n  memoizeIntlObject(ctor, opts) {\n    let cache2 = this.bundle._intls.get(ctor);\n    if (!cache2) {\n      cache2 = {};\n      this.bundle._intls.set(ctor, cache2);\n    }\n    let id = JSON.stringify(opts);\n    if (!cache2[id]) {\n      cache2[id] = new ctor(this.bundle.locales, opts);\n    }\n    return cache2[id];\n  }\n}\nfunction values(opts, allowed) {\n  const unwrapped = /* @__PURE__ */ Object.create(null);\n  for (const [name, opt] of Object.entries(opts)) {\n    if (allowed.includes(name)) {\n      unwrapped[name] = opt.valueOf();\n    }\n  }\n  return unwrapped;\n}\nconst NUMBER_ALLOWED = [\"unitDisplay\", \"currencyDisplay\", \"useGrouping\", \"minimumIntegerDigits\", \"minimumFractionDigits\", \"maximumFractionDigits\", \"minimumSignificantDigits\", \"maximumSignificantDigits\"];\nfunction NUMBER(args, opts) {\n  let arg = args[0];\n  if (arg instanceof FluentNone) {\n    return new FluentNone(`NUMBER(${arg.valueOf()})`);\n  }\n  if (arg instanceof FluentNumber) {\n    return new FluentNumber(arg.valueOf(), {\n      ...arg.opts,\n      ...values(opts, NUMBER_ALLOWED)\n    });\n  }\n  if (arg instanceof FluentDateTime) {\n    return new FluentNumber(arg.valueOf(), {\n      ...values(opts, NUMBER_ALLOWED)\n    });\n  }\n  throw new TypeError(\"Invalid argument to NUMBER\");\n}\nconst DATETIME_ALLOWED = [\"dateStyle\", \"timeStyle\", \"fractionalSecondDigits\", \"dayPeriod\", \"hour12\", \"weekday\", \"era\", \"year\", \"month\", \"day\", \"hour\", \"minute\", \"second\", \"timeZoneName\"];\nfunction DATETIME(args, opts) {\n  let arg = args[0];\n  if (arg instanceof FluentNone) {\n    return new FluentNone(`DATETIME(${arg.valueOf()})`);\n  }\n  if (arg instanceof FluentDateTime) {\n    return new FluentDateTime(arg.valueOf(), {\n      ...arg.opts,\n      ...values(opts, DATETIME_ALLOWED)\n    });\n  }\n  if (arg instanceof FluentNumber) {\n    return new FluentDateTime(arg.valueOf(), {\n      ...values(opts, DATETIME_ALLOWED)\n    });\n  }\n  throw new TypeError(\"Invalid argument to DATETIME\");\n}\nconst cache = /* @__PURE__ */ new Map();\nfunction getMemoizerForLocale(locales) {\n  const stringLocale = Array.isArray(locales) ? locales.join(\" \") : locales;\n  let memoizer = cache.get(stringLocale);\n  if (memoizer === void 0) {\n    memoizer = /* @__PURE__ */ new Map();\n    cache.set(stringLocale, memoizer);\n  }\n  return memoizer;\n}\nclass FluentBundle {\n  constructor(locales, {\n    functions,\n    useIsolating = true,\n    transform = (v) => v\n  } = {}) {\n    this._terms = /* @__PURE__ */ new Map();\n    this._messages = /* @__PURE__ */ new Map();\n    this.locales = Array.isArray(locales) ? locales : [locales];\n    this._functions = {\n      NUMBER,\n      DATETIME,\n      ...functions\n    };\n    this._useIsolating = useIsolating;\n    this._transform = transform;\n    this._intls = getMemoizerForLocale(locales);\n  }\n  hasMessage(id) {\n    return this._messages.has(id);\n  }\n  getMessage(id) {\n    return this._messages.get(id);\n  }\n  addResource(res, {\n    allowOverrides = false\n  } = {}) {\n    const errors = [];\n    for (let i = 0; i < res.body.length; i++) {\n      let entry = res.body[i];\n      if (entry.id.startsWith(\"-\")) {\n        if (allowOverrides === false && this._terms.has(entry.id)) {\n          errors.push(new Error(`Attempt to override an existing term: \"${entry.id}\"`));\n          continue;\n        }\n        this._terms.set(entry.id, entry);\n      } else {\n        if (allowOverrides === false && this._messages.has(entry.id)) {\n          errors.push(new Error(`Attempt to override an existing message: \"${entry.id}\"`));\n          continue;\n        }\n        this._messages.set(entry.id, entry);\n      }\n    }\n    return errors;\n  }\n  formatPattern(pattern, args = null, errors = null) {\n    if (typeof pattern === \"string\") {\n      return this._transform(pattern);\n    }\n    let scope = new Scope(this, errors, args);\n    try {\n      let value = resolveComplexPattern(scope, pattern);\n      return value.toString(scope);\n    } catch (err) {\n      if (scope.errors && err instanceof Error) {\n        scope.errors.push(err);\n        return new FluentNone().toString(scope);\n      }\n      throw err;\n    }\n  }\n}\nconst RE_MESSAGE_START = /^(-?[a-zA-Z][\\w-]*) *= */gm;\nconst RE_ATTRIBUTE_START = /\\.([a-zA-Z][\\w-]*) *= */y;\nconst RE_VARIANT_START = /\\*?\\[/y;\nconst RE_NUMBER_LITERAL = /(-?[0-9]+(?:\\.([0-9]+))?)/y;\nconst RE_IDENTIFIER = /([a-zA-Z][\\w-]*)/y;\nconst RE_REFERENCE = /([$-])?([a-zA-Z][\\w-]*)(?:\\.([a-zA-Z][\\w-]*))?/y;\nconst RE_FUNCTION_NAME = /^[A-Z][A-Z0-9_-]*$/;\nconst RE_TEXT_RUN = /([^{}\\n\\r]+)/y;\nconst RE_STRING_RUN = /([^\\\\\"\\n\\r]*)/y;\nconst RE_STRING_ESCAPE = /\\\\([\\\\\"])/y;\nconst RE_UNICODE_ESCAPE = /\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{6})/y;\nconst RE_LEADING_NEWLINES = /^\\n+/;\nconst RE_TRAILING_SPACES = / +$/;\nconst RE_BLANK_LINES = / *\\r?\\n/g;\nconst RE_INDENT = /( *)$/;\nconst TOKEN_BRACE_OPEN = /{\\s*/y;\nconst TOKEN_BRACE_CLOSE = /\\s*}/y;\nconst TOKEN_BRACKET_OPEN = /\\[\\s*/y;\nconst TOKEN_BRACKET_CLOSE = /\\s*] */y;\nconst TOKEN_PAREN_OPEN = /\\s*\\(\\s*/y;\nconst TOKEN_ARROW = /\\s*->\\s*/y;\nconst TOKEN_COLON = /\\s*:\\s*/y;\nconst TOKEN_COMMA = /\\s*,?\\s*/y;\nconst TOKEN_BLANK = /\\s+/y;\nclass FluentResource {\n  constructor(source) {\n    this.body = [];\n    RE_MESSAGE_START.lastIndex = 0;\n    let cursor = 0;\n    while (true) {\n      let next = RE_MESSAGE_START.exec(source);\n      if (next === null) {\n        break;\n      }\n      cursor = RE_MESSAGE_START.lastIndex;\n      try {\n        this.body.push(parseMessage(next[1]));\n      } catch (err) {\n        if (err instanceof SyntaxError) {\n          continue;\n        }\n        throw err;\n      }\n    }\n    function test(re) {\n      re.lastIndex = cursor;\n      return re.test(source);\n    }\n    function consumeChar(char, errorClass) {\n      if (source[cursor] === char) {\n        cursor++;\n        return true;\n      }\n      if (errorClass) {\n        throw new errorClass(`Expected ${char}`);\n      }\n      return false;\n    }\n    function consumeToken(re, errorClass) {\n      if (test(re)) {\n        cursor = re.lastIndex;\n        return true;\n      }\n      if (errorClass) {\n        throw new errorClass(`Expected ${re.toString()}`);\n      }\n      return false;\n    }\n    function match2(re) {\n      re.lastIndex = cursor;\n      let result = re.exec(source);\n      if (result === null) {\n        throw new SyntaxError(`Expected ${re.toString()}`);\n      }\n      cursor = re.lastIndex;\n      return result;\n    }\n    function match1(re) {\n      return match2(re)[1];\n    }\n    function parseMessage(id) {\n      let value = parsePattern();\n      let attributes = parseAttributes();\n      if (value === null && Object.keys(attributes).length === 0) {\n        throw new SyntaxError(\"Expected message value or attributes\");\n      }\n      return {\n        id,\n        value,\n        attributes\n      };\n    }\n    function parseAttributes() {\n      let attrs = /* @__PURE__ */ Object.create(null);\n      while (test(RE_ATTRIBUTE_START)) {\n        let name = match1(RE_ATTRIBUTE_START);\n        let value = parsePattern();\n        if (value === null) {\n          throw new SyntaxError(\"Expected attribute value\");\n        }\n        attrs[name] = value;\n      }\n      return attrs;\n    }\n    function parsePattern() {\n      let first;\n      if (test(RE_TEXT_RUN)) {\n        first = match1(RE_TEXT_RUN);\n      }\n      if (source[cursor] === \"{\" || source[cursor] === \"}\") {\n        return parsePatternElements(first ? [first] : [], Infinity);\n      }\n      let indent = parseIndent();\n      if (indent) {\n        if (first) {\n          return parsePatternElements([first, indent], indent.length);\n        }\n        indent.value = trim(indent.value, RE_LEADING_NEWLINES);\n        return parsePatternElements([indent], indent.length);\n      }\n      if (first) {\n        return trim(first, RE_TRAILING_SPACES);\n      }\n      return null;\n    }\n    function parsePatternElements(elements = [], commonIndent) {\n      while (true) {\n        if (test(RE_TEXT_RUN)) {\n          elements.push(match1(RE_TEXT_RUN));\n          continue;\n        }\n        if (source[cursor] === \"{\") {\n          elements.push(parsePlaceable());\n          continue;\n        }\n        if (source[cursor] === \"}\") {\n          throw new SyntaxError(\"Unbalanced closing brace\");\n        }\n        let indent = parseIndent();\n        if (indent) {\n          elements.push(indent);\n          commonIndent = Math.min(commonIndent, indent.length);\n          continue;\n        }\n        break;\n      }\n      let lastIndex = elements.length - 1;\n      let lastElement = elements[lastIndex];\n      if (typeof lastElement === \"string\") {\n        elements[lastIndex] = trim(lastElement, RE_TRAILING_SPACES);\n      }\n      let baked = [];\n      for (let element of elements) {\n        if (element instanceof Indent) {\n          element = element.value.slice(0, element.value.length - commonIndent);\n        }\n        if (element) {\n          baked.push(element);\n        }\n      }\n      return baked;\n    }\n    function parsePlaceable() {\n      consumeToken(TOKEN_BRACE_OPEN, SyntaxError);\n      let selector = parseInlineExpression();\n      if (consumeToken(TOKEN_BRACE_CLOSE)) {\n        return selector;\n      }\n      if (consumeToken(TOKEN_ARROW)) {\n        let variants = parseVariants();\n        consumeToken(TOKEN_BRACE_CLOSE, SyntaxError);\n        return {\n          type: \"select\",\n          selector,\n          ...variants\n        };\n      }\n      throw new SyntaxError(\"Unclosed placeable\");\n    }\n    function parseInlineExpression() {\n      if (source[cursor] === \"{\") {\n        return parsePlaceable();\n      }\n      if (test(RE_REFERENCE)) {\n        let [, sigil, name, attr = null] = match2(RE_REFERENCE);\n        if (sigil === \"$\") {\n          return {\n            type: \"var\",\n            name\n          };\n        }\n        if (consumeToken(TOKEN_PAREN_OPEN)) {\n          let args = parseArguments();\n          if (sigil === \"-\") {\n            return {\n              type: \"term\",\n              name,\n              attr,\n              args\n            };\n          }\n          if (RE_FUNCTION_NAME.test(name)) {\n            return {\n              type: \"func\",\n              name,\n              args\n            };\n          }\n          throw new SyntaxError(\"Function names must be all upper-case\");\n        }\n        if (sigil === \"-\") {\n          return {\n            type: \"term\",\n            name,\n            attr,\n            args: []\n          };\n        }\n        return {\n          type: \"mesg\",\n          name,\n          attr\n        };\n      }\n      return parseLiteral();\n    }\n    function parseArguments() {\n      let args = [];\n      while (true) {\n        switch (source[cursor]) {\n          case \")\":\n            cursor++;\n            return args;\n          case void 0:\n            throw new SyntaxError(\"Unclosed argument list\");\n        }\n        args.push(parseArgument());\n        consumeToken(TOKEN_COMMA);\n      }\n    }\n    function parseArgument() {\n      let expr = parseInlineExpression();\n      if (expr.type !== \"mesg\") {\n        return expr;\n      }\n      if (consumeToken(TOKEN_COLON)) {\n        return {\n          type: \"narg\",\n          name: expr.name,\n          value: parseLiteral()\n        };\n      }\n      return expr;\n    }\n    function parseVariants() {\n      let variants = [];\n      let count = 0;\n      let star;\n      while (test(RE_VARIANT_START)) {\n        if (consumeChar(\"*\")) {\n          star = count;\n        }\n        let key = parseVariantKey();\n        let value = parsePattern();\n        if (value === null) {\n          throw new SyntaxError(\"Expected variant value\");\n        }\n        variants[count++] = {\n          key,\n          value\n        };\n      }\n      if (count === 0) {\n        return null;\n      }\n      if (star === void 0) {\n        throw new SyntaxError(\"Expected default variant\");\n      }\n      return {\n        variants,\n        star\n      };\n    }\n    function parseVariantKey() {\n      consumeToken(TOKEN_BRACKET_OPEN, SyntaxError);\n      let key;\n      if (test(RE_NUMBER_LITERAL)) {\n        key = parseNumberLiteral();\n      } else {\n        key = {\n          type: \"str\",\n          value: match1(RE_IDENTIFIER)\n        };\n      }\n      consumeToken(TOKEN_BRACKET_CLOSE, SyntaxError);\n      return key;\n    }\n    function parseLiteral() {\n      if (test(RE_NUMBER_LITERAL)) {\n        return parseNumberLiteral();\n      }\n      if (source[cursor] === '\"') {\n        return parseStringLiteral();\n      }\n      throw new SyntaxError(\"Invalid expression\");\n    }\n    function parseNumberLiteral() {\n      let [, value, fraction = \"\"] = match2(RE_NUMBER_LITERAL);\n      let precision = fraction.length;\n      return {\n        type: \"num\",\n        value: parseFloat(value),\n        precision\n      };\n    }\n    function parseStringLiteral() {\n      consumeChar('\"', SyntaxError);\n      let value = \"\";\n      while (true) {\n        value += match1(RE_STRING_RUN);\n        if (source[cursor] === \"\\\\\") {\n          value += parseEscapeSequence();\n          continue;\n        }\n        if (consumeChar('\"')) {\n          return {\n            type: \"str\",\n            value\n          };\n        }\n        throw new SyntaxError(\"Unclosed string literal\");\n      }\n    }\n    function parseEscapeSequence() {\n      if (test(RE_STRING_ESCAPE)) {\n        return match1(RE_STRING_ESCAPE);\n      }\n      if (test(RE_UNICODE_ESCAPE)) {\n        let [, codepoint4, codepoint6] = match2(RE_UNICODE_ESCAPE);\n        let codepoint = parseInt(codepoint4 || codepoint6, 16);\n        return codepoint <= 55295 || 57344 <= codepoint ? String.fromCodePoint(codepoint) : \"�\";\n      }\n      throw new SyntaxError(\"Unknown escape sequence\");\n    }\n    function parseIndent() {\n      let start = cursor;\n      consumeToken(TOKEN_BLANK);\n      switch (source[cursor]) {\n        case \".\":\n        case \"[\":\n        case \"*\":\n        case \"}\":\n        case void 0:\n          return false;\n        case \"{\":\n          return makeIndent(source.slice(start, cursor));\n      }\n      if (source[cursor - 1] === \" \") {\n        return makeIndent(source.slice(start, cursor));\n      }\n      return false;\n    }\n    function trim(text, re) {\n      return text.replace(re, \"\");\n    }\n    function makeIndent(blank) {\n      let value = blank.replace(RE_BLANK_LINES, \"\\n\");\n      let length = RE_INDENT.exec(blank)[1].length;\n      return new Indent(value, length);\n    }\n  }\n}\nclass Indent {\n  constructor(value, length) {\n    this.value = value;\n    this.length = length;\n  }\n}\nconst reOverlay = /<|&#?\\w+;/;\nconst TEXT_LEVEL_ELEMENTS = {\n  \"http://www.w3.org/1999/xhtml\": [\"em\", \"strong\", \"small\", \"s\", \"cite\", \"q\", \"dfn\", \"abbr\", \"data\", \"time\", \"code\", \"var\", \"samp\", \"kbd\", \"sub\", \"sup\", \"i\", \"b\", \"u\", \"mark\", \"bdi\", \"bdo\", \"span\", \"br\", \"wbr\"]\n};\nconst LOCALIZABLE_ATTRIBUTES = {\n  \"http://www.w3.org/1999/xhtml\": {\n    global: [\"title\", \"aria-label\", \"aria-valuetext\"],\n    a: [\"download\"],\n    area: [\"download\", \"alt\"],\n    input: [\"alt\", \"placeholder\"],\n    menuitem: [\"label\"],\n    menu: [\"label\"],\n    optgroup: [\"label\"],\n    option: [\"label\"],\n    track: [\"label\"],\n    img: [\"alt\"],\n    textarea: [\"placeholder\"],\n    th: [\"abbr\"]\n  },\n  \"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\": {\n    global: [\"accesskey\", \"aria-label\", \"aria-valuetext\", \"label\", \"title\", \"tooltiptext\"],\n    description: [\"value\"],\n    key: [\"key\", \"keycode\"],\n    label: [\"value\"],\n    textbox: [\"placeholder\", \"value\"]\n  }\n};\nfunction translateElement(element, translation) {\n  const {\n    value\n  } = translation;\n  if (typeof value === \"string\") {\n    if (element.localName === \"title\" && element.namespaceURI === \"http://www.w3.org/1999/xhtml\") {\n      element.textContent = value;\n    } else if (!reOverlay.test(value)) {\n      element.textContent = value;\n    } else {\n      const templateElement = element.ownerDocument.createElementNS(\"http://www.w3.org/1999/xhtml\", \"template\");\n      templateElement.innerHTML = value;\n      overlayChildNodes(templateElement.content, element);\n    }\n  }\n  overlayAttributes(translation, element);\n}\nfunction overlayChildNodes(fromFragment, toElement) {\n  for (const childNode of fromFragment.childNodes) {\n    if (childNode.nodeType === childNode.TEXT_NODE) {\n      continue;\n    }\n    if (childNode.hasAttribute(\"data-l10n-name\")) {\n      const sanitized = getNodeForNamedElement(toElement, childNode);\n      fromFragment.replaceChild(sanitized, childNode);\n      continue;\n    }\n    if (isElementAllowed(childNode)) {\n      const sanitized = createSanitizedElement(childNode);\n      fromFragment.replaceChild(sanitized, childNode);\n      continue;\n    }\n    console.warn(`An element of forbidden type \"${childNode.localName}\" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`);\n    fromFragment.replaceChild(createTextNodeFromTextContent(childNode), childNode);\n  }\n  toElement.textContent = \"\";\n  toElement.appendChild(fromFragment);\n}\nfunction hasAttribute(attributes, name) {\n  if (!attributes) {\n    return false;\n  }\n  for (let attr of attributes) {\n    if (attr.name === name) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction overlayAttributes(fromElement, toElement) {\n  const explicitlyAllowed = toElement.hasAttribute(\"data-l10n-attrs\") ? toElement.getAttribute(\"data-l10n-attrs\").split(\",\").map((i) => i.trim()) : null;\n  for (const attr of Array.from(toElement.attributes)) {\n    if (isAttrNameLocalizable(attr.name, toElement, explicitlyAllowed) && !hasAttribute(fromElement.attributes, attr.name)) {\n      toElement.removeAttribute(attr.name);\n    }\n  }\n  if (!fromElement.attributes) {\n    return;\n  }\n  for (const attr of Array.from(fromElement.attributes)) {\n    if (isAttrNameLocalizable(attr.name, toElement, explicitlyAllowed) && toElement.getAttribute(attr.name) !== attr.value) {\n      toElement.setAttribute(attr.name, attr.value);\n    }\n  }\n}\nfunction getNodeForNamedElement(sourceElement, translatedChild) {\n  const childName = translatedChild.getAttribute(\"data-l10n-name\");\n  const sourceChild = sourceElement.querySelector(`[data-l10n-name=\"${childName}\"]`);\n  if (!sourceChild) {\n    console.warn(`An element named \"${childName}\" wasn't found in the source.`);\n    return createTextNodeFromTextContent(translatedChild);\n  }\n  if (sourceChild.localName !== translatedChild.localName) {\n    console.warn(`An element named \"${childName}\" was found in the translation but its type ${translatedChild.localName} didn't match the element found in the source (${sourceChild.localName}).`);\n    return createTextNodeFromTextContent(translatedChild);\n  }\n  sourceElement.removeChild(sourceChild);\n  const clone = sourceChild.cloneNode(false);\n  return shallowPopulateUsing(translatedChild, clone);\n}\nfunction createSanitizedElement(element) {\n  const clone = element.ownerDocument.createElement(element.localName);\n  return shallowPopulateUsing(element, clone);\n}\nfunction createTextNodeFromTextContent(element) {\n  return element.ownerDocument.createTextNode(element.textContent);\n}\nfunction isElementAllowed(element) {\n  const allowed = TEXT_LEVEL_ELEMENTS[element.namespaceURI];\n  return allowed && allowed.includes(element.localName);\n}\nfunction isAttrNameLocalizable(name, element, explicitlyAllowed = null) {\n  if (explicitlyAllowed && explicitlyAllowed.includes(name)) {\n    return true;\n  }\n  const allowed = LOCALIZABLE_ATTRIBUTES[element.namespaceURI];\n  if (!allowed) {\n    return false;\n  }\n  const attrName = name.toLowerCase();\n  const elemName = element.localName;\n  if (allowed.global.includes(attrName)) {\n    return true;\n  }\n  if (!allowed[elemName]) {\n    return false;\n  }\n  if (allowed[elemName].includes(attrName)) {\n    return true;\n  }\n  if (element.namespaceURI === \"http://www.w3.org/1999/xhtml\" && elemName === \"input\" && attrName === \"value\") {\n    const type = element.type.toLowerCase();\n    if (type === \"submit\" || type === \"button\" || type === \"reset\") {\n      return true;\n    }\n  }\n  return false;\n}\nfunction shallowPopulateUsing(fromElement, toElement) {\n  toElement.textContent = fromElement.textContent;\n  overlayAttributes(fromElement, toElement);\n  return toElement;\n}\nclass CachedIterable extends Array {\n  static from(iterable) {\n    if (iterable instanceof this) {\n      return iterable;\n    }\n    return new this(iterable);\n  }\n}\nclass CachedAsyncIterable extends CachedIterable {\n  constructor(iterable) {\n    super();\n    if (Symbol.asyncIterator in Object(iterable)) {\n      this.iterator = iterable[Symbol.asyncIterator]();\n    } else if (Symbol.iterator in Object(iterable)) {\n      this.iterator = iterable[Symbol.iterator]();\n    } else {\n      throw new TypeError(\"Argument must implement the iteration protocol.\");\n    }\n  }\n  [Symbol.asyncIterator]() {\n    const cached = this;\n    let cur = 0;\n    return {\n      async next() {\n        if (cached.length <= cur) {\n          cached.push(cached.iterator.next());\n        }\n        return cached[cur++];\n      }\n    };\n  }\n  async touchNext(count = 1) {\n    let idx = 0;\n    while (idx++ < count) {\n      const last = this[this.length - 1];\n      if (last && (await last).done) {\n        break;\n      }\n      this.push(this.iterator.next());\n    }\n    return this[this.length - 1];\n  }\n}\nclass Localization {\n  constructor(resourceIds = [], generateBundles) {\n    this.resourceIds = resourceIds;\n    this.generateBundles = generateBundles;\n    this.onChange(true);\n  }\n  addResourceIds(resourceIds, eager = false) {\n    this.resourceIds.push(...resourceIds);\n    this.onChange(eager);\n    return this.resourceIds.length;\n  }\n  removeResourceIds(resourceIds) {\n    this.resourceIds = this.resourceIds.filter((r) => !resourceIds.includes(r));\n    this.onChange();\n    return this.resourceIds.length;\n  }\n  async formatWithFallback(keys, method) {\n    const translations = [];\n    let hasAtLeastOneBundle = false;\n    for await (const bundle of this.bundles) {\n      hasAtLeastOneBundle = true;\n      const missingIds = keysFromBundle(method, bundle, keys, translations);\n      if (missingIds.size === 0) {\n        break;\n      }\n      if (typeof console !== \"undefined\") {\n        const locale = bundle.locales[0];\n        const ids = Array.from(missingIds).join(\", \");\n        console.warn(`[fluent] Missing translations in ${locale}: ${ids}`);\n      }\n    }\n    if (!hasAtLeastOneBundle && typeof console !== \"undefined\") {\n      console.warn(`[fluent] Request for keys failed because no resource bundles got generated.\n  keys: ${JSON.stringify(keys)}.\n  resourceIds: ${JSON.stringify(this.resourceIds)}.`);\n    }\n    return translations;\n  }\n  formatMessages(keys) {\n    return this.formatWithFallback(keys, messageFromBundle);\n  }\n  formatValues(keys) {\n    return this.formatWithFallback(keys, valueFromBundle);\n  }\n  async formatValue(id, args) {\n    const [val] = await this.formatValues([{\n      id,\n      args\n    }]);\n    return val;\n  }\n  handleEvent() {\n    this.onChange();\n  }\n  onChange(eager = false) {\n    this.bundles = CachedAsyncIterable.from(this.generateBundles(this.resourceIds));\n    if (eager) {\n      this.bundles.touchNext(2);\n    }\n  }\n}\nfunction valueFromBundle(bundle, errors, message, args) {\n  if (message.value) {\n    return bundle.formatPattern(message.value, args, errors);\n  }\n  return null;\n}\nfunction messageFromBundle(bundle, errors, message, args) {\n  const formatted = {\n    value: null,\n    attributes: null\n  };\n  if (message.value) {\n    formatted.value = bundle.formatPattern(message.value, args, errors);\n  }\n  let attrNames = Object.keys(message.attributes);\n  if (attrNames.length > 0) {\n    formatted.attributes = new Array(attrNames.length);\n    for (let [i, name] of attrNames.entries()) {\n      let value = bundle.formatPattern(message.attributes[name], args, errors);\n      formatted.attributes[i] = {\n        name,\n        value\n      };\n    }\n  }\n  return formatted;\n}\nfunction keysFromBundle(method, bundle, keys, translations) {\n  const messageErrors = [];\n  const missingIds = /* @__PURE__ */ new Set();\n  keys.forEach(({\n    id,\n    args\n  }, i) => {\n    if (translations[i] !== void 0) {\n      return;\n    }\n    let message = bundle.getMessage(id);\n    if (message) {\n      messageErrors.length = 0;\n      translations[i] = method(bundle, messageErrors, message, args);\n      if (messageErrors.length > 0 && typeof console !== \"undefined\") {\n        const locale = bundle.locales[0];\n        const errors = messageErrors.join(\", \");\n        console.warn(`[fluent][resolver] errors in ${locale}/${id}: ${errors}.`);\n      }\n    } else {\n      missingIds.add(id);\n    }\n  });\n  return missingIds;\n}\nconst L10NID_ATTR_NAME = \"data-l10n-id\";\nconst L10NARGS_ATTR_NAME = \"data-l10n-args\";\nconst L10N_ELEMENT_QUERY = `[${L10NID_ATTR_NAME}]`;\nclass DOMLocalization extends Localization {\n  constructor(resourceIds, generateBundles) {\n    super(resourceIds, generateBundles);\n    this.roots = /* @__PURE__ */ new Set();\n    this.pendingrAF = null;\n    this.pendingElements = /* @__PURE__ */ new Set();\n    this.windowElement = null;\n    this.mutationObserver = null;\n    this.observerConfig = {\n      attributes: true,\n      characterData: false,\n      childList: true,\n      subtree: true,\n      attributeFilter: [L10NID_ATTR_NAME, L10NARGS_ATTR_NAME]\n    };\n  }\n  onChange(eager = false) {\n    super.onChange(eager);\n    if (this.roots) {\n      this.translateRoots();\n    }\n  }\n  setAttributes(element, id, args) {\n    element.setAttribute(L10NID_ATTR_NAME, id);\n    if (args) {\n      element.setAttribute(L10NARGS_ATTR_NAME, JSON.stringify(args));\n    } else {\n      element.removeAttribute(L10NARGS_ATTR_NAME);\n    }\n    return element;\n  }\n  getAttributes(element) {\n    return {\n      id: element.getAttribute(L10NID_ATTR_NAME),\n      args: JSON.parse(element.getAttribute(L10NARGS_ATTR_NAME) || null)\n    };\n  }\n  connectRoot(newRoot) {\n    for (const root of this.roots) {\n      if (root === newRoot || root.contains(newRoot) || newRoot.contains(root)) {\n        throw new Error(\"Cannot add a root that overlaps with existing root.\");\n      }\n    }\n    if (this.windowElement) {\n      if (this.windowElement !== newRoot.ownerDocument.defaultView) {\n        throw new Error(`Cannot connect a root:\n          DOMLocalization already has a root from a different window.`);\n      }\n    } else {\n      this.windowElement = newRoot.ownerDocument.defaultView;\n      this.mutationObserver = new this.windowElement.MutationObserver((mutations) => this.translateMutations(mutations));\n    }\n    this.roots.add(newRoot);\n    this.mutationObserver.observe(newRoot, this.observerConfig);\n  }\n  disconnectRoot(root) {\n    this.roots.delete(root);\n    this.pauseObserving();\n    if (this.roots.size === 0) {\n      this.mutationObserver = null;\n      if (this.windowElement && this.pendingrAF) {\n        this.windowElement.cancelAnimationFrame(this.pendingrAF);\n      }\n      this.windowElement = null;\n      this.pendingrAF = null;\n      this.pendingElements.clear();\n      return true;\n    }\n    this.resumeObserving();\n    return false;\n  }\n  translateRoots() {\n    const roots = Array.from(this.roots);\n    return Promise.all(roots.map((root) => this.translateFragment(root)));\n  }\n  pauseObserving() {\n    if (!this.mutationObserver) {\n      return;\n    }\n    this.translateMutations(this.mutationObserver.takeRecords());\n    this.mutationObserver.disconnect();\n  }\n  resumeObserving() {\n    if (!this.mutationObserver) {\n      return;\n    }\n    for (const root of this.roots) {\n      this.mutationObserver.observe(root, this.observerConfig);\n    }\n  }\n  translateMutations(mutations) {\n    for (const mutation of mutations) {\n      switch (mutation.type) {\n        case \"attributes\":\n          if (mutation.target.hasAttribute(\"data-l10n-id\")) {\n            this.pendingElements.add(mutation.target);\n          }\n          break;\n        case \"childList\":\n          for (const addedNode of mutation.addedNodes) {\n            if (addedNode.nodeType === addedNode.ELEMENT_NODE) {\n              if (addedNode.childElementCount) {\n                for (const element of this.getTranslatables(addedNode)) {\n                  this.pendingElements.add(element);\n                }\n              } else if (addedNode.hasAttribute(L10NID_ATTR_NAME)) {\n                this.pendingElements.add(addedNode);\n              }\n            }\n          }\n          break;\n      }\n    }\n    if (this.pendingElements.size > 0) {\n      if (this.pendingrAF === null) {\n        this.pendingrAF = this.windowElement.requestAnimationFrame(() => {\n          this.translateElements(Array.from(this.pendingElements));\n          this.pendingElements.clear();\n          this.pendingrAF = null;\n        });\n      }\n    }\n  }\n  translateFragment(frag) {\n    return this.translateElements(this.getTranslatables(frag));\n  }\n  async translateElements(elements) {\n    if (!elements.length) {\n      return void 0;\n    }\n    const keys = elements.map(this.getKeysForElement);\n    const translations = await this.formatMessages(keys);\n    return this.applyTranslations(elements, translations);\n  }\n  applyTranslations(elements, translations) {\n    this.pauseObserving();\n    for (let i = 0; i < elements.length; i++) {\n      if (translations[i] !== void 0) {\n        translateElement(elements[i], translations[i]);\n      }\n    }\n    this.resumeObserving();\n  }\n  getTranslatables(element) {\n    const nodes = Array.from(element.querySelectorAll(L10N_ELEMENT_QUERY));\n    if (typeof element.hasAttribute === \"function\" && element.hasAttribute(L10NID_ATTR_NAME)) {\n      nodes.push(element);\n    }\n    return nodes;\n  }\n  getKeysForElement(element) {\n    return {\n      id: element.getAttribute(L10NID_ATTR_NAME),\n      args: JSON.parse(element.getAttribute(L10NARGS_ATTR_NAME) || null)\n    };\n  }\n}\nconst _L10n = class _L10n {\n  constructor({\n    lang,\n    isRTL\n  }, l10n = null) {\n    __privateAdd(this, _dir);\n    __privateAdd(this, _elements, /* @__PURE__ */ new Set());\n    __privateAdd(this, _lang);\n    __privateAdd(this, _l10n);\n    var _a, _b;\n    __privateSet(this, _lang, __privateMethod(_a = _L10n, _L10n_static, fixupLangCode_fn).call(_a, lang));\n    __privateSet(this, _l10n, l10n);\n    __privateSet(this, _dir, isRTL ?? __privateMethod(_b = _L10n, _L10n_static, isRTL_fn).call(_b, __privateGet(this, _lang)) ? \"rtl\" : \"ltr\");\n  }\n  _setL10n(l10n) {\n    __privateSet(this, _l10n, l10n);\n  }\n  getLanguage() {\n    return __privateGet(this, _lang);\n  }\n  getDirection() {\n    return __privateGet(this, _dir);\n  }\n  async get(ids, args = null, fallback) {\n    if (Array.isArray(ids)) {\n      ids = ids.map((id) => ({\n        id\n      }));\n      const messages2 = await __privateGet(this, _l10n).formatMessages(ids);\n      return messages2.map((message) => message.value);\n    }\n    const messages = await __privateGet(this, _l10n).formatMessages([{\n      id: ids,\n      args\n    }]);\n    return (messages == null ? void 0 : messages[0].value) || fallback;\n  }\n  async translate(element) {\n    __privateGet(this, _elements).add(element);\n    try {\n      __privateGet(this, _l10n).connectRoot(element);\n      await __privateGet(this, _l10n).translateRoots();\n    } catch {\n    }\n  }\n  async destroy() {\n    for (const element of __privateGet(this, _elements)) {\n      __privateGet(this, _l10n).disconnectRoot(element);\n    }\n    __privateGet(this, _elements).clear();\n    __privateGet(this, _l10n).pauseObserving();\n  }\n  pause() {\n    __privateGet(this, _l10n).pauseObserving();\n  }\n  resume() {\n    __privateGet(this, _l10n).resumeObserving();\n  }\n};\n_dir = new WeakMap();\n_elements = new WeakMap();\n_lang = new WeakMap();\n_l10n = new WeakMap();\n_L10n_static = new WeakSet();\nfixupLangCode_fn = function(langCode) {\n  langCode = (langCode == null ? void 0 : langCode.toLowerCase()) || \"en-us\";\n  const PARTIAL_LANG_CODES = {\n    en: \"en-us\",\n    es: \"es-es\",\n    fy: \"fy-nl\",\n    ga: \"ga-ie\",\n    gu: \"gu-in\",\n    hi: \"hi-in\",\n    hy: \"hy-am\",\n    nb: \"nb-no\",\n    ne: \"ne-np\",\n    nn: \"nn-no\",\n    pa: \"pa-in\",\n    pt: \"pt-pt\",\n    sv: \"sv-se\",\n    zh: \"zh-cn\"\n  };\n  return PARTIAL_LANG_CODES[langCode] || langCode;\n};\nisRTL_fn = function(lang) {\n  const shortCode = lang.split(\"-\", 1)[0];\n  return [\"ar\", \"he\", \"fa\", \"ps\", \"ur\"].includes(shortCode);\n};\n__privateAdd(_L10n, _L10n_static);\nlet L10n = _L10n;\nfunction createBundle(lang, text) {\n  const resource = new FluentResource(text);\n  const bundle = new FluentBundle(lang);\n  const errors = bundle.addResource(resource);\n  if (errors.length) {\n    console.error(\"L10n errors\", errors);\n  }\n  return bundle;\n}\nconst _genericl10n_GenericL10n = class _genericl10n_GenericL10n extends L10n {\n  constructor(lang) {\n    super({\n      lang\n    });\n    const generateBundles = !lang ? __privateMethod(_genericl10n_GenericL10n, _genericl10n_GenericL10n_static, generateBundlesFallback_fn).bind(_genericl10n_GenericL10n, this.getLanguage()) : __privateMethod(_genericl10n_GenericL10n, _genericl10n_GenericL10n_static, generateBundles_fn).bind(_genericl10n_GenericL10n, \"en-us\", this.getLanguage());\n    this._setL10n(new DOMLocalization([], generateBundles));\n  }\n};\n_genericl10n_GenericL10n_static = new WeakSet();\ngenerateBundles_fn = async function* (defaultLang, baseLang) {\n  const {\n    baseURL,\n    paths\n  } = await __privateMethod(this, _genericl10n_GenericL10n_static, getPaths_fn).call(this);\n  const langs = [baseLang];\n  if (defaultLang !== baseLang) {\n    const shortLang = baseLang.split(\"-\", 1)[0];\n    if (shortLang !== baseLang) {\n      langs.push(shortLang);\n    }\n    langs.push(defaultLang);\n  }\n  for (const lang of langs) {\n    const bundle = await __privateMethod(this, _genericl10n_GenericL10n_static, createBundle_fn).call(this, lang, baseURL, paths);\n    if (bundle) {\n      yield bundle;\n    } else if (lang === \"en-us\") {\n      yield __privateMethod(this, _genericl10n_GenericL10n_static, createBundleFallback_fn).call(this, lang);\n    }\n  }\n};\ncreateBundle_fn = async function(lang, baseURL, paths) {\n  const path = paths[lang];\n  if (!path) {\n    return null;\n  }\n  const url = new URL(path, baseURL);\n  const text = await fetchData(url, \"text\");\n  return createBundle(lang, text);\n};\ngetPaths_fn = async function() {\n  try {\n    const {\n      href\n    } = document.querySelector(`link[type=\"application/l10n\"]`);\n    const paths = await fetchData(href, \"json\");\n    return {\n      baseURL: href.replace(/[^/]*$/, \"\") || \"./\",\n      paths\n    };\n  } catch {\n  }\n  return {\n    baseURL: \"./\",\n    paths: /* @__PURE__ */ Object.create(null)\n  };\n};\ngenerateBundlesFallback_fn = async function* (lang) {\n  yield __privateMethod(this, _genericl10n_GenericL10n_static, createBundleFallback_fn).call(this, lang);\n};\ncreateBundleFallback_fn = async function(lang) {\n  const text = \"pdfjs-previous-button =\\n    .title = Previous Page\\npdfjs-previous-button-label = Previous\\npdfjs-next-button =\\n    .title = Next Page\\npdfjs-next-button-label = Next\\npdfjs-page-input =\\n    .title = Page\\npdfjs-of-pages = of { $pagesCount }\\npdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })\\npdfjs-zoom-out-button =\\n    .title = Zoom Out\\npdfjs-zoom-out-button-label = Zoom Out\\npdfjs-zoom-in-button =\\n    .title = Zoom In\\npdfjs-zoom-in-button-label = Zoom In\\npdfjs-zoom-select =\\n    .title = Zoom\\npdfjs-presentation-mode-button =\\n    .title = Switch to Presentation Mode\\npdfjs-presentation-mode-button-label = Presentation Mode\\npdfjs-open-file-button =\\n    .title = Open File\\npdfjs-open-file-button-label = Open\\npdfjs-print-button =\\n    .title = Print\\npdfjs-print-button-label = Print\\npdfjs-save-button =\\n    .title = Save\\npdfjs-save-button-label = Save\\npdfjs-download-button =\\n    .title = Download\\npdfjs-download-button-label = Download\\npdfjs-bookmark-button =\\n    .title = Current Page (View URL from Current Page)\\npdfjs-bookmark-button-label = Current Page\\npdfjs-tools-button =\\n    .title = Tools\\npdfjs-tools-button-label = Tools\\npdfjs-first-page-button =\\n    .title = Go to First Page\\npdfjs-first-page-button-label = Go to First Page\\npdfjs-last-page-button =\\n    .title = Go to Last Page\\npdfjs-last-page-button-label = Go to Last Page\\npdfjs-page-rotate-cw-button =\\n    .title = Rotate Clockwise\\npdfjs-page-rotate-cw-button-label = Rotate Clockwise\\npdfjs-page-rotate-ccw-button =\\n    .title = Rotate Counterclockwise\\npdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise\\npdfjs-cursor-text-select-tool-button =\\n    .title = Enable Text Selection Tool\\npdfjs-cursor-text-select-tool-button-label = Text Selection Tool\\npdfjs-cursor-hand-tool-button =\\n    .title = Enable Hand Tool\\npdfjs-cursor-hand-tool-button-label = Hand Tool\\npdfjs-scroll-page-button =\\n    .title = Use Page Scrolling\\npdfjs-scroll-page-button-label = Page Scrolling\\npdfjs-scroll-vertical-button =\\n    .title = Use Vertical Scrolling\\npdfjs-scroll-vertical-button-label = Vertical Scrolling\\npdfjs-scroll-horizontal-button =\\n    .title = Use Horizontal Scrolling\\npdfjs-scroll-horizontal-button-label = Horizontal Scrolling\\npdfjs-scroll-wrapped-button =\\n    .title = Use Wrapped Scrolling\\npdfjs-scroll-wrapped-button-label = Wrapped Scrolling\\npdfjs-spread-none-button =\\n    .title = Do not join page spreads\\npdfjs-spread-none-button-label = No Spreads\\npdfjs-spread-odd-button =\\n    .title = Join page spreads starting with odd-numbered pages\\npdfjs-spread-odd-button-label = Odd Spreads\\npdfjs-spread-even-button =\\n    .title = Join page spreads starting with even-numbered pages\\npdfjs-spread-even-button-label = Even Spreads\\npdfjs-document-properties-button =\\n    .title = Document Properties…\\npdfjs-document-properties-button-label = Document Properties…\\npdfjs-document-properties-file-name = File name:\\npdfjs-document-properties-file-size = File size:\\npdfjs-document-properties-kb = { $size_kb } KB ({ $size_b } bytes)\\npdfjs-document-properties-mb = { $size_mb } MB ({ $size_b } bytes)\\npdfjs-document-properties-title = Title:\\npdfjs-document-properties-author = Author:\\npdfjs-document-properties-subject = Subject:\\npdfjs-document-properties-keywords = Keywords:\\npdfjs-document-properties-creation-date = Creation Date:\\npdfjs-document-properties-modification-date = Modification Date:\\npdfjs-document-properties-date-string = { $date }, { $time }\\npdfjs-document-properties-creator = Creator:\\npdfjs-document-properties-producer = PDF Producer:\\npdfjs-document-properties-version = PDF Version:\\npdfjs-document-properties-page-count = Page Count:\\npdfjs-document-properties-page-size = Page Size:\\npdfjs-document-properties-page-size-unit-inches = in\\npdfjs-document-properties-page-size-unit-millimeters = mm\\npdfjs-document-properties-page-size-orientation-portrait = portrait\\npdfjs-document-properties-page-size-orientation-landscape = landscape\\npdfjs-document-properties-page-size-name-a-three = A3\\npdfjs-document-properties-page-size-name-a-four = A4\\npdfjs-document-properties-page-size-name-letter = Letter\\npdfjs-document-properties-page-size-name-legal = Legal\\npdfjs-document-properties-page-size-dimension-string = { $width } × { $height } { $unit } ({ $orientation })\\npdfjs-document-properties-page-size-dimension-name-string = { $width } × { $height } { $unit } ({ $name }, { $orientation })\\npdfjs-document-properties-linearized = Fast Web View:\\npdfjs-document-properties-linearized-yes = Yes\\npdfjs-document-properties-linearized-no = No\\npdfjs-document-properties-close-button = Close\\npdfjs-print-progress-message = Preparing document for printing…\\npdfjs-print-progress-percent = { $progress }%\\npdfjs-print-progress-close-button = Cancel\\npdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.\\npdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.\\npdfjs-toggle-sidebar-button =\\n    .title = Toggle Sidebar\\npdfjs-toggle-sidebar-notification-button =\\n    .title = Toggle Sidebar (document contains outline/attachments/layers)\\npdfjs-toggle-sidebar-button-label = Toggle Sidebar\\npdfjs-document-outline-button =\\n    .title = Show Document Outline (double-click to expand/collapse all items)\\npdfjs-document-outline-button-label = Document Outline\\npdfjs-attachments-button =\\n    .title = Show Attachments\\npdfjs-attachments-button-label = Attachments\\npdfjs-layers-button =\\n    .title = Show Layers (double-click to reset all layers to the default state)\\npdfjs-layers-button-label = Layers\\npdfjs-thumbs-button =\\n    .title = Show Thumbnails\\npdfjs-thumbs-button-label = Thumbnails\\npdfjs-current-outline-item-button =\\n    .title = Find Current Outline Item\\npdfjs-current-outline-item-button-label = Current Outline Item\\npdfjs-findbar-button =\\n    .title = Find in Document\\npdfjs-findbar-button-label = Find\\npdfjs-additional-layers = Additional Layers\\npdfjs-thumb-page-title =\\n    .title = Page { $page }\\npdfjs-thumb-page-canvas =\\n    .aria-label = Thumbnail of Page { $page }\\npdfjs-find-input =\\n    .title = Find\\n    .placeholder = Find in document…\\npdfjs-find-previous-button =\\n    .title = Find the previous occurrence of the phrase\\npdfjs-find-previous-button-label = Previous\\npdfjs-find-next-button =\\n    .title = Find the next occurrence of the phrase\\npdfjs-find-next-button-label = Next\\npdfjs-find-highlight-checkbox = Highlight All\\npdfjs-find-match-case-checkbox-label = Match Case\\npdfjs-find-match-diacritics-checkbox-label = Match Diacritics\\npdfjs-find-entire-word-checkbox-label = Whole Words\\npdfjs-find-reached-top = Reached top of document, continued from bottom\\npdfjs-find-reached-bottom = Reached end of document, continued from top\\npdfjs-find-match-count =\\n    { $total ->\\n        [one] { $current } of { $total } match\\n       *[other] { $current } of { $total } matches\\n    }\\npdfjs-find-match-count-limit =\\n    { $limit ->\\n        [one] More than { $limit } match\\n       *[other] More than { $limit } matches\\n    }\\npdfjs-find-not-found = Phrase not found\\npdfjs-page-scale-width = Page Width\\npdfjs-page-scale-fit = Page Fit\\npdfjs-page-scale-auto = Automatic Zoom\\npdfjs-page-scale-actual = Actual Size\\npdfjs-page-scale-percent = { $scale }%\\npdfjs-page-landmark =\\n    .aria-label = Page { $page }\\npdfjs-loading-error = An error occurred while loading the PDF.\\npdfjs-invalid-file-error = Invalid or corrupted PDF file.\\npdfjs-missing-file-error = Missing PDF file.\\npdfjs-unexpected-response-error = Unexpected server response.\\npdfjs-rendering-error = An error occurred while rendering the page.\\npdfjs-annotation-date-string = { $date }, { $time }\\npdfjs-text-annotation-type =\\n    .alt = [{ $type } Annotation]\\npdfjs-password-label = Enter the password to open this PDF file.\\npdfjs-password-invalid = Invalid password. Please try again.\\npdfjs-password-ok-button = OK\\npdfjs-password-cancel-button = Cancel\\npdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.\\npdfjs-editor-free-text-button =\\n    .title = Text\\npdfjs-editor-free-text-button-label = Text\\npdfjs-editor-ink-button =\\n    .title = Draw\\npdfjs-editor-ink-button-label = Draw\\npdfjs-editor-stamp-button =\\n    .title = Add or edit images\\npdfjs-editor-stamp-button-label = Add or edit images\\npdfjs-editor-highlight-button =\\n    .title = Highlight\\npdfjs-editor-highlight-button-label = Highlight\\npdfjs-highlight-floating-button1 =\\n    .title = Highlight\\n    .aria-label = Highlight\\npdfjs-highlight-floating-button-label = Highlight\\npdfjs-editor-remove-ink-button =\\n    .title = Remove drawing\\npdfjs-editor-remove-freetext-button =\\n    .title = Remove text\\npdfjs-editor-remove-stamp-button =\\n    .title = Remove image\\npdfjs-editor-remove-highlight-button =\\n    .title = Remove highlight\\npdfjs-editor-free-text-color-input = Color\\npdfjs-editor-free-text-size-input = Size\\npdfjs-editor-ink-color-input = Color\\npdfjs-editor-ink-thickness-input = Thickness\\npdfjs-editor-ink-opacity-input = Opacity\\npdfjs-editor-stamp-add-image-button =\\n    .title = Add image\\npdfjs-editor-stamp-add-image-button-label = Add image\\npdfjs-editor-free-highlight-thickness-input = Thickness\\npdfjs-editor-free-highlight-thickness-title =\\n    .title = Change thickness when highlighting items other than text\\npdfjs-free-text =\\n    .aria-label = Text Editor\\npdfjs-free-text-default-content = Start typing…\\npdfjs-ink =\\n    .aria-label = Draw Editor\\npdfjs-ink-canvas =\\n    .aria-label = User-created image\\npdfjs-editor-alt-text-button-label = Alt text\\npdfjs-editor-alt-text-edit-button-label = Edit alt text\\npdfjs-editor-alt-text-dialog-label = Choose an option\\npdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can’t see the image or when it doesn’t load.\\npdfjs-editor-alt-text-add-description-label = Add a description\\npdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.\\npdfjs-editor-alt-text-mark-decorative-label = Mark as decorative\\npdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.\\npdfjs-editor-alt-text-cancel-button = Cancel\\npdfjs-editor-alt-text-save-button = Save\\npdfjs-editor-alt-text-decorative-tooltip = Marked as decorative\\npdfjs-editor-alt-text-textarea =\\n    .placeholder = For example, “A young man sits down at a table to eat a meal”\\npdfjs-editor-resizer-label-top-left = Top left corner — resize\\npdfjs-editor-resizer-label-top-middle = Top middle — resize\\npdfjs-editor-resizer-label-top-right = Top right corner — resize\\npdfjs-editor-resizer-label-middle-right = Middle right — resize\\npdfjs-editor-resizer-label-bottom-right = Bottom right corner — resize\\npdfjs-editor-resizer-label-bottom-middle = Bottom middle — resize\\npdfjs-editor-resizer-label-bottom-left = Bottom left corner — resize\\npdfjs-editor-resizer-label-middle-left = Middle left — resize\\npdfjs-editor-highlight-colorpicker-label = Highlight color\\npdfjs-editor-colorpicker-button =\\n    .title = Change color\\npdfjs-editor-colorpicker-dropdown =\\n    .aria-label = Color choices\\npdfjs-editor-colorpicker-yellow =\\n    .title = Yellow\\npdfjs-editor-colorpicker-green =\\n    .title = Green\\npdfjs-editor-colorpicker-blue =\\n    .title = Blue\\npdfjs-editor-colorpicker-pink =\\n    .title = Pink\\npdfjs-editor-colorpicker-red =\\n    .title = Red\\npdfjs-editor-highlight-show-all-button-label = Show all\\npdfjs-editor-highlight-show-all-button =\\n    .title = Show all\";\n  return createBundle(lang, text);\n};\n__privateAdd(_genericl10n_GenericL10n, _genericl10n_GenericL10n_static);\nlet genericl10n_GenericL10n = _genericl10n_GenericL10n;\nconst HASH_CHANGE_TIMEOUT = 1e3;\nconst POSITION_UPDATED_THRESHOLD = 50;\nconst UPDATE_VIEWAREA_TIMEOUT = 1e3;\nfunction getCurrentHash() {\n  return document.location.hash;\n}\nclass PDFHistory {\n  constructor({\n    linkService,\n    eventBus\n  }) {\n    __privateAdd(this, _PDFHistory_instances);\n    __privateAdd(this, _eventAbortController2, null);\n    this.linkService = linkService;\n    this.eventBus = eventBus;\n    this._initialized = false;\n    this._fingerprint = \"\";\n    this.reset();\n    this.eventBus._on(\"pagesinit\", () => {\n      this._isPagesLoaded = false;\n      this.eventBus._on(\"pagesloaded\", (evt) => {\n        this._isPagesLoaded = !!evt.pagesCount;\n      }, {\n        once: true\n      });\n    });\n  }\n  initialize({\n    fingerprint,\n    resetHistory = false,\n    updateUrl = false\n  }) {\n    if (!fingerprint || typeof fingerprint !== \"string\") {\n      console.error('PDFHistory.initialize: The \"fingerprint\" must be a non-empty string.');\n      return;\n    }\n    if (this._initialized) {\n      this.reset();\n    }\n    const reInitialized = this._fingerprint !== \"\" && this._fingerprint !== fingerprint;\n    this._fingerprint = fingerprint;\n    this._updateUrl = updateUrl === true;\n    this._initialized = true;\n    __privateMethod(this, _PDFHistory_instances, bindEvents_fn).call(this);\n    const state = window.history.state;\n    this._popStateInProgress = false;\n    this._blockHashChange = 0;\n    this._currentHash = getCurrentHash();\n    this._numPositionUpdates = 0;\n    this._uid = this._maxUid = 0;\n    this._destination = null;\n    this._position = null;\n    if (!__privateMethod(this, _PDFHistory_instances, isValidState_fn).call(this, state, true) || resetHistory) {\n      const {\n        hash,\n        page,\n        rotation\n      } = __privateMethod(this, _PDFHistory_instances, parseCurrentHash_fn).call(this, true);\n      if (!hash || reInitialized || resetHistory) {\n        __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, null, true);\n        return;\n      }\n      __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, {\n        hash,\n        page,\n        rotation\n      }, true);\n      return;\n    }\n    const destination = state.destination;\n    __privateMethod(this, _PDFHistory_instances, updateInternalState_fn).call(this, destination, state.uid, true);\n    if (destination.rotation !== void 0) {\n      this._initialRotation = destination.rotation;\n    }\n    if (destination.dest) {\n      this._initialBookmark = JSON.stringify(destination.dest);\n      this._destination.page = null;\n    } else if (destination.hash) {\n      this._initialBookmark = destination.hash;\n    } else if (destination.page) {\n      this._initialBookmark = `page=${destination.page}`;\n    }\n  }\n  reset() {\n    if (this._initialized) {\n      __privateMethod(this, _PDFHistory_instances, pageHide_fn).call(this);\n      this._initialized = false;\n      __privateMethod(this, _PDFHistory_instances, unbindEvents_fn).call(this);\n    }\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n    this._initialBookmark = null;\n    this._initialRotation = null;\n  }\n  push({\n    namedDest = null,\n    explicitDest,\n    pageNumber\n  }) {\n    if (!this._initialized) {\n      return;\n    }\n    if (namedDest && typeof namedDest !== \"string\") {\n      console.error(`PDFHistory.push: \"${namedDest}\" is not a valid namedDest parameter.`);\n      return;\n    } else if (!Array.isArray(explicitDest)) {\n      console.error(`PDFHistory.push: \"${explicitDest}\" is not a valid explicitDest parameter.`);\n      return;\n    } else if (!__privateMethod(this, _PDFHistory_instances, isValidPage_fn).call(this, pageNumber)) {\n      if (pageNumber !== null || this._destination) {\n        console.error(`PDFHistory.push: \"${pageNumber}\" is not a valid pageNumber parameter.`);\n        return;\n      }\n    }\n    const hash = namedDest || JSON.stringify(explicitDest);\n    if (!hash) {\n      return;\n    }\n    let forceReplace = false;\n    if (this._destination && (isDestHashesEqual(this._destination.hash, hash) || isDestArraysEqual(this._destination.dest, explicitDest))) {\n      if (this._destination.page) {\n        return;\n      }\n      forceReplace = true;\n    }\n    if (this._popStateInProgress && !forceReplace) {\n      return;\n    }\n    __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, {\n      dest: explicitDest,\n      hash,\n      page: pageNumber,\n      rotation: this.linkService.rotation\n    }, forceReplace);\n    if (!this._popStateInProgress) {\n      this._popStateInProgress = true;\n      Promise.resolve().then(() => {\n        this._popStateInProgress = false;\n      });\n    }\n  }\n  pushPage(pageNumber) {\n    var _a;\n    if (!this._initialized) {\n      return;\n    }\n    if (!__privateMethod(this, _PDFHistory_instances, isValidPage_fn).call(this, pageNumber)) {\n      console.error(`PDFHistory.pushPage: \"${pageNumber}\" is not a valid page number.`);\n      return;\n    }\n    if (((_a = this._destination) == null ? void 0 : _a.page) === pageNumber) {\n      return;\n    }\n    if (this._popStateInProgress) {\n      return;\n    }\n    __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, {\n      dest: null,\n      hash: `page=${pageNumber}`,\n      page: pageNumber,\n      rotation: this.linkService.rotation\n    });\n    if (!this._popStateInProgress) {\n      this._popStateInProgress = true;\n      Promise.resolve().then(() => {\n        this._popStateInProgress = false;\n      });\n    }\n  }\n  pushCurrentPosition() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n    __privateMethod(this, _PDFHistory_instances, tryPushCurrentPosition_fn).call(this);\n  }\n  back() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n    const state = window.history.state;\n    if (__privateMethod(this, _PDFHistory_instances, isValidState_fn).call(this, state) && state.uid > 0) {\n      window.history.back();\n    }\n  }\n  forward() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n    const state = window.history.state;\n    if (__privateMethod(this, _PDFHistory_instances, isValidState_fn).call(this, state) && state.uid < this._maxUid) {\n      window.history.forward();\n    }\n  }\n  get popStateInProgress() {\n    return this._initialized && (this._popStateInProgress || this._blockHashChange > 0);\n  }\n  get initialBookmark() {\n    return this._initialized ? this._initialBookmark : null;\n  }\n  get initialRotation() {\n    return this._initialized ? this._initialRotation : null;\n  }\n}\n_eventAbortController2 = new WeakMap();\n_PDFHistory_instances = new WeakSet();\npushOrReplaceState_fn = function(destination, forceReplace = false) {\n  const shouldReplace = forceReplace || !this._destination;\n  const newState = {\n    fingerprint: this._fingerprint,\n    uid: shouldReplace ? this._uid : this._uid + 1,\n    destination\n  };\n  __privateMethod(this, _PDFHistory_instances, updateInternalState_fn).call(this, destination, newState.uid);\n  let newUrl;\n  if (this._updateUrl && (destination == null ? void 0 : destination.hash)) {\n    const baseUrl = document.location.href.split(\"#\", 1)[0];\n    if (!baseUrl.startsWith(\"file://\")) {\n      newUrl = `${baseUrl}#${destination.hash}`;\n    }\n  }\n  if (shouldReplace) {\n    window.history.replaceState(newState, \"\", newUrl);\n  } else {\n    window.history.pushState(newState, \"\", newUrl);\n  }\n};\ntryPushCurrentPosition_fn = function(temporary = false) {\n  if (!this._position) {\n    return;\n  }\n  let position = this._position;\n  if (temporary) {\n    position = Object.assign(/* @__PURE__ */ Object.create(null), this._position);\n    position.temporary = true;\n  }\n  if (!this._destination) {\n    __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, position);\n    return;\n  }\n  if (this._destination.temporary) {\n    __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, position, true);\n    return;\n  }\n  if (this._destination.hash === position.hash) {\n    return;\n  }\n  if (!this._destination.page && this._numPositionUpdates <= POSITION_UPDATED_THRESHOLD) {\n    return;\n  }\n  let forceReplace = false;\n  if (this._destination.page >= position.first && this._destination.page <= position.page) {\n    if (this._destination.dest !== void 0 || !this._destination.first) {\n      return;\n    }\n    forceReplace = true;\n  }\n  __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, position, forceReplace);\n};\nisValidPage_fn = function(val) {\n  return Number.isInteger(val) && val > 0 && val <= this.linkService.pagesCount;\n};\nisValidState_fn = function(state, checkReload = false) {\n  if (!state) {\n    return false;\n  }\n  if (state.fingerprint !== this._fingerprint) {\n    if (checkReload) {\n      if (typeof state.fingerprint !== \"string\" || state.fingerprint.length !== this._fingerprint.length) {\n        return false;\n      }\n      const [perfEntry] = performance.getEntriesByType(\"navigation\");\n      if ((perfEntry == null ? void 0 : perfEntry.type) !== \"reload\") {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n  if (!Number.isInteger(state.uid) || state.uid < 0) {\n    return false;\n  }\n  if (state.destination === null || typeof state.destination !== \"object\") {\n    return false;\n  }\n  return true;\n};\nupdateInternalState_fn = function(destination, uid, removeTemporary = false) {\n  if (this._updateViewareaTimeout) {\n    clearTimeout(this._updateViewareaTimeout);\n    this._updateViewareaTimeout = null;\n  }\n  if (removeTemporary && (destination == null ? void 0 : destination.temporary)) {\n    delete destination.temporary;\n  }\n  this._destination = destination;\n  this._uid = uid;\n  this._maxUid = Math.max(this._maxUid, uid);\n  this._numPositionUpdates = 0;\n};\nparseCurrentHash_fn = function(checkNameddest = false) {\n  const hash = unescape(getCurrentHash()).substring(1);\n  const params = parseQueryString(hash);\n  const nameddest = params.get(\"nameddest\") || \"\";\n  let page = params.get(\"page\") | 0;\n  if (!__privateMethod(this, _PDFHistory_instances, isValidPage_fn).call(this, page) || checkNameddest && nameddest.length > 0) {\n    page = null;\n  }\n  return {\n    hash,\n    page,\n    rotation: this.linkService.rotation\n  };\n};\nupdateViewarea_fn = function({\n  location\n}) {\n  if (this._updateViewareaTimeout) {\n    clearTimeout(this._updateViewareaTimeout);\n    this._updateViewareaTimeout = null;\n  }\n  this._position = {\n    hash: location.pdfOpenParams.substring(1),\n    page: this.linkService.page,\n    first: location.pageNumber,\n    rotation: location.rotation\n  };\n  if (this._popStateInProgress) {\n    return;\n  }\n  if (this._isPagesLoaded && this._destination && !this._destination.page) {\n    this._numPositionUpdates++;\n  }\n  {\n    this._updateViewareaTimeout = setTimeout(() => {\n      if (!this._popStateInProgress) {\n        __privateMethod(this, _PDFHistory_instances, tryPushCurrentPosition_fn).call(this, true);\n      }\n      this._updateViewareaTimeout = null;\n    }, UPDATE_VIEWAREA_TIMEOUT);\n  }\n};\npopState_fn = function({\n  state\n}) {\n  const newHash = getCurrentHash(), hashChanged = this._currentHash !== newHash;\n  this._currentHash = newHash;\n  if (!state) {\n    this._uid++;\n    const {\n      hash,\n      page,\n      rotation\n    } = __privateMethod(this, _PDFHistory_instances, parseCurrentHash_fn).call(this);\n    __privateMethod(this, _PDFHistory_instances, pushOrReplaceState_fn).call(this, {\n      hash,\n      page,\n      rotation\n    }, true);\n    return;\n  }\n  if (!__privateMethod(this, _PDFHistory_instances, isValidState_fn).call(this, state)) {\n    return;\n  }\n  this._popStateInProgress = true;\n  if (hashChanged) {\n    this._blockHashChange++;\n    waitOnEventOrTimeout({\n      target: window,\n      name: \"hashchange\",\n      delay: HASH_CHANGE_TIMEOUT\n    }).then(() => {\n      this._blockHashChange--;\n    });\n  }\n  const destination = state.destination;\n  __privateMethod(this, _PDFHistory_instances, updateInternalState_fn).call(this, destination, state.uid, true);\n  if (isValidRotation(destination.rotation)) {\n    this.linkService.rotation = destination.rotation;\n  }\n  if (destination.dest) {\n    this.linkService.goToDestination(destination.dest);\n  } else if (destination.hash) {\n    this.linkService.setHash(destination.hash);\n  } else if (destination.page) {\n    this.linkService.page = destination.page;\n  }\n  Promise.resolve().then(() => {\n    this._popStateInProgress = false;\n  });\n};\npageHide_fn = function() {\n  if (!this._destination || this._destination.temporary) {\n    __privateMethod(this, _PDFHistory_instances, tryPushCurrentPosition_fn).call(this);\n  }\n};\nbindEvents_fn = function() {\n  if (__privateGet(this, _eventAbortController2)) {\n    return;\n  }\n  __privateSet(this, _eventAbortController2, new AbortController());\n  const {\n    signal\n  } = __privateGet(this, _eventAbortController2);\n  this.eventBus._on(\"updateviewarea\", __privateMethod(this, _PDFHistory_instances, updateViewarea_fn).bind(this), {\n    signal\n  });\n  window.addEventListener(\"popstate\", __privateMethod(this, _PDFHistory_instances, popState_fn).bind(this), {\n    signal\n  });\n  window.addEventListener(\"pagehide\", __privateMethod(this, _PDFHistory_instances, pageHide_fn).bind(this), {\n    signal\n  });\n};\nunbindEvents_fn = function() {\n  var _a;\n  (_a = __privateGet(this, _eventAbortController2)) == null ? void 0 : _a.abort();\n  __privateSet(this, _eventAbortController2, null);\n};\nfunction isDestHashesEqual(destHash, pushHash) {\n  if (typeof destHash !== \"string\" || typeof pushHash !== \"string\") {\n    return false;\n  }\n  if (destHash === pushHash) {\n    return true;\n  }\n  const nameddest = parseQueryString(destHash).get(\"nameddest\");\n  if (nameddest === pushHash) {\n    return true;\n  }\n  return false;\n}\nfunction isDestArraysEqual(firstDest, secondDest) {\n  function isEntryEqual(first, second) {\n    if (typeof first !== typeof second) {\n      return false;\n    }\n    if (Array.isArray(first) || Array.isArray(second)) {\n      return false;\n    }\n    if (first !== null && typeof first === \"object\" && second !== null) {\n      if (Object.keys(first).length !== Object.keys(second).length) {\n        return false;\n      }\n      for (const key in first) {\n        if (!isEntryEqual(first[key], second[key])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return first === second || Number.isNaN(first) && Number.isNaN(second);\n  }\n  if (!(Array.isArray(firstDest) && Array.isArray(secondDest))) {\n    return false;\n  }\n  if (firstDest.length !== secondDest.length) {\n    return false;\n  }\n  for (let i = 0, ii = firstDest.length; i < ii; i++) {\n    if (!isEntryEqual(firstDest[i], secondDest[i])) {\n      return false;\n    }\n  }\n  return true;\n}\nclass AnnotationEditorLayerBuilder {\n  constructor(options) {\n    __privateAdd(this, _annotationLayer, null);\n    __privateAdd(this, _drawLayer, null);\n    __privateAdd(this, _onAppend2, null);\n    __privateAdd(this, _textLayer, null);\n    __privateAdd(this, _uiManager);\n    this.pdfPage = options.pdfPage;\n    this.accessibilityManager = options.accessibilityManager;\n    this.l10n = options.l10n;\n    this.l10n || (this.l10n = new genericl10n_GenericL10n());\n    this.annotationEditorLayer = null;\n    this.div = null;\n    this._cancelled = false;\n    __privateSet(this, _uiManager, options.uiManager);\n    __privateSet(this, _annotationLayer, options.annotationLayer || null);\n    __privateSet(this, _textLayer, options.textLayer || null);\n    __privateSet(this, _drawLayer, options.drawLayer || null);\n    __privateSet(this, _onAppend2, options.onAppend || null);\n  }\n  async render(viewport, intent = \"display\") {\n    var _a;\n    if (intent !== \"display\") {\n      return;\n    }\n    if (this._cancelled) {\n      return;\n    }\n    const clonedViewport = viewport.clone({\n      dontFlip: true\n    });\n    if (this.div) {\n      this.annotationEditorLayer.update({\n        viewport: clonedViewport\n      });\n      this.show();\n      return;\n    }\n    const div = this.div = document.createElement(\"div\");\n    div.className = \"annotationEditorLayer\";\n    div.hidden = true;\n    div.dir = __privateGet(this, _uiManager).direction;\n    (_a = __privateGet(this, _onAppend2)) == null ? void 0 : _a.call(this, div);\n    this.annotationEditorLayer = new AnnotationEditorLayer({\n      uiManager: __privateGet(this, _uiManager),\n      div,\n      accessibilityManager: this.accessibilityManager,\n      pageIndex: this.pdfPage.pageNumber - 1,\n      l10n: this.l10n,\n      viewport: clonedViewport,\n      annotationLayer: __privateGet(this, _annotationLayer),\n      textLayer: __privateGet(this, _textLayer),\n      drawLayer: __privateGet(this, _drawLayer)\n    });\n    const parameters = {\n      viewport: clonedViewport,\n      div,\n      annotations: null,\n      intent\n    };\n    this.annotationEditorLayer.render(parameters);\n    this.show();\n  }\n  cancel() {\n    this._cancelled = true;\n    if (!this.div) {\n      return;\n    }\n    this.annotationEditorLayer.destroy();\n  }\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.hidden = true;\n  }\n  show() {\n    if (!this.div || this.annotationEditorLayer.isInvisible) {\n      return;\n    }\n    this.div.hidden = false;\n  }\n}\n_annotationLayer = new WeakMap();\n_drawLayer = new WeakMap();\n_onAppend2 = new WeakMap();\n_textLayer = new WeakMap();\n_uiManager = new WeakMap();\n{\n  var compatibilityParams = /* @__PURE__ */ Object.create(null);\n  const userAgent = navigator.userAgent || \"\";\n  const platform = navigator.platform || \"\";\n  const maxTouchPoints = navigator.maxTouchPoints || 1;\n  const isAndroid = /Android/.test(userAgent);\n  const isIOS = /\\b(iPad|iPhone|iPod)(?=;)/.test(userAgent) || platform === \"MacIntel\" && maxTouchPoints > 1;\n  (function checkCanvasSizeLimitation() {\n    if (isIOS || isAndroid) {\n      compatibilityParams.maxCanvasPixels = 5242880;\n    }\n  })();\n}\nconst OptionKind = {\n  BROWSER: 1,\n  VIEWER: 2,\n  API: 4,\n  WORKER: 8,\n  PREFERENCE: 128\n};\nconst defaultOptions = {\n  canvasMaxAreaInBytes: {\n    value: -1,\n    kind: OptionKind.BROWSER + OptionKind.API\n  },\n  isInAutomation: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  supportsCaretBrowsingMode: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  supportsDocumentFonts: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsIntegratedFind: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  supportsMouseWheelZoomCtrlKey: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsMouseWheelZoomMetaKey: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsPinchToZoom: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  annotationEditorMode: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  annotationMode: {\n    value: 2,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  cursorToolOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  debuggerSrc: {\n    value: \"./debugger.mjs\",\n    kind: OptionKind.VIEWER\n  },\n  defaultZoomDelay: {\n    value: 400,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  defaultZoomValue: {\n    value: \"\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  disableHistory: {\n    value: false,\n    kind: OptionKind.VIEWER\n  },\n  disablePageLabels: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableHighlightEditor: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableHighlightFloatingButton: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableML: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePermissions: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePrintAutoRotate: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableScripting: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableStampEditor: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  externalLinkRel: {\n    value: \"noopener noreferrer nofollow\",\n    kind: OptionKind.VIEWER\n  },\n  externalLinkTarget: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  highlightEditorColors: {\n    value: \"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  historyUpdateUrl: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  ignoreDestinationZoom: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  imageResourcesPath: {\n    value: \"./images/\",\n    kind: OptionKind.VIEWER\n  },\n  maxCanvasPixels: {\n    value: 2 ** 25,\n    kind: OptionKind.VIEWER\n  },\n  forcePageColors: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pageColorsBackground: {\n    value: \"Canvas\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pageColorsForeground: {\n    value: \"CanvasText\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pdfBugEnabled: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  printResolution: {\n    value: 150,\n    kind: OptionKind.VIEWER\n  },\n  sidebarViewOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  scrollModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  spreadModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  textLayerMode: {\n    value: 1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  viewOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  cMapPacked: {\n    value: true,\n    kind: OptionKind.API\n  },\n  cMapUrl: {\n    value: \"../web/cmaps/\",\n    kind: OptionKind.API\n  },\n  disableAutoFetch: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableFontFace: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableRange: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableStream: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  docBaseUrl: {\n    value: \"\",\n    kind: OptionKind.API\n  },\n  enableHWA: {\n    value: true,\n    kind: OptionKind.API + OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableXfa: {\n    value: true,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  fontExtraProperties: {\n    value: false,\n    kind: OptionKind.API\n  },\n  isEvalSupported: {\n    value: true,\n    kind: OptionKind.API\n  },\n  isOffscreenCanvasSupported: {\n    value: true,\n    kind: OptionKind.API\n  },\n  maxImageSize: {\n    value: -1,\n    kind: OptionKind.API\n  },\n  pdfBug: {\n    value: false,\n    kind: OptionKind.API\n  },\n  standardFontDataUrl: {\n    value: \"../web/standard_fonts/\",\n    kind: OptionKind.API\n  },\n  verbosity: {\n    value: 1,\n    kind: OptionKind.API\n  },\n  workerPort: {\n    value: null,\n    kind: OptionKind.WORKER\n  },\n  workerSrc: {\n    value: \"../build/pdf.worker.mjs\",\n    kind: OptionKind.WORKER\n  }\n};\n{\n  defaultOptions.defaultUrl = {\n    value: \"compressed.tracemonkey-pldi-09.pdf\",\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.sandboxBundleSrc = {\n    value: \"../build/pdf.sandbox.mjs\",\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.viewerCssTheme = {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  };\n}\n{\n  defaultOptions.disablePreferences = {\n    value: false,\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.locale = {\n    value: navigator.language || \"en-US\",\n    kind: OptionKind.VIEWER\n  };\n}\nconst userOptions = /* @__PURE__ */ Object.create(null);\n{\n  for (const name in compatibilityParams) {\n    userOptions[name] = compatibilityParams[name];\n  }\n}\nclass AppOptions {\n  constructor() {\n    throw new Error(\"Cannot initialize AppOptions.\");\n  }\n  static get(name) {\n    var _a;\n    return userOptions[name] ?? ((_a = defaultOptions[name]) == null ? void 0 : _a.value) ?? void 0;\n  }\n  static getAll(kind = null, defaultOnly = false) {\n    const options = /* @__PURE__ */ Object.create(null);\n    for (const name in defaultOptions) {\n      const defaultOption = defaultOptions[name];\n      if (kind && !(kind & defaultOption.kind)) {\n        continue;\n      }\n      options[name] = defaultOnly ? defaultOption.value : userOptions[name] ?? defaultOption.value;\n    }\n    return options;\n  }\n  static set(name, value) {\n    userOptions[name] = value;\n  }\n  static setAll(options, init = false) {\n    if (init) {\n      if (this.get(\"disablePreferences\")) {\n        return;\n      }\n      for (const name in userOptions) {\n        if (compatibilityParams[name] !== void 0) {\n          continue;\n        }\n        console.warn('setAll: The Preferences may override manually set AppOptions; please use the \"disablePreferences\"-option in order to prevent that.');\n        break;\n      }\n    }\n    for (const name in options) {\n      userOptions[name] = options[name];\n    }\n  }\n  static remove(name) {\n    delete userOptions[name];\n    const val = compatibilityParams[name];\n    if (val !== void 0) {\n      userOptions[name] = val;\n    }\n  }\n}\nclass DrawLayerBuilder {\n  constructor(options) {\n    __privateAdd(this, _drawLayer2, null);\n    this.pageIndex = options.pageIndex;\n  }\n  async render(intent = \"display\") {\n    if (intent !== \"display\" || __privateGet(this, _drawLayer2) || this._cancelled) {\n      return;\n    }\n    __privateSet(this, _drawLayer2, new DrawLayer({\n      pageIndex: this.pageIndex\n    }));\n  }\n  cancel() {\n    this._cancelled = true;\n    if (!__privateGet(this, _drawLayer2)) {\n      return;\n    }\n    __privateGet(this, _drawLayer2).destroy();\n    __privateSet(this, _drawLayer2, null);\n  }\n  setParent(parent) {\n    var _a;\n    (_a = __privateGet(this, _drawLayer2)) == null ? void 0 : _a.setParent(parent);\n  }\n  getDrawLayer() {\n    return __privateGet(this, _drawLayer2);\n  }\n}\n_drawLayer2 = new WeakMap();\nconst PDF_ROLE_TO_HTML_ROLE = {\n  Document: null,\n  DocumentFragment: null,\n  Part: \"group\",\n  Sect: \"group\",\n  Div: \"group\",\n  Aside: \"note\",\n  NonStruct: \"none\",\n  P: null,\n  H: \"heading\",\n  Title: null,\n  FENote: \"note\",\n  Sub: \"group\",\n  Lbl: null,\n  Span: null,\n  Em: null,\n  Strong: null,\n  Link: \"link\",\n  Annot: \"note\",\n  Form: \"form\",\n  Ruby: null,\n  RB: null,\n  RT: null,\n  RP: null,\n  Warichu: null,\n  WT: null,\n  WP: null,\n  L: \"list\",\n  LI: \"listitem\",\n  LBody: null,\n  Table: \"table\",\n  TR: \"row\",\n  TH: \"columnheader\",\n  TD: \"cell\",\n  THead: \"columnheader\",\n  TBody: null,\n  TFoot: null,\n  Caption: null,\n  Figure: \"figure\",\n  Formula: null,\n  Artifact: null\n};\nconst HEADING_PATTERN = /^H(\\d+)$/;\nclass StructTreeLayerBuilder {\n  constructor() {\n    __privateAdd(this, _StructTreeLayerBuilder_instances);\n    __privateAdd(this, _treeDom);\n  }\n  get renderingDone() {\n    return __privateGet(this, _treeDom) !== void 0;\n  }\n  render(structTree) {\n    if (__privateGet(this, _treeDom) !== void 0) {\n      return __privateGet(this, _treeDom);\n    }\n    const treeDom = __privateMethod(this, _StructTreeLayerBuilder_instances, walk_fn).call(this, structTree);\n    treeDom == null ? void 0 : treeDom.classList.add(\"structTree\");\n    return __privateSet(this, _treeDom, treeDom);\n  }\n  hide() {\n    if (__privateGet(this, _treeDom) && !__privateGet(this, _treeDom).hidden) {\n      __privateGet(this, _treeDom).hidden = true;\n    }\n  }\n  show() {\n    var _a;\n    if ((_a = __privateGet(this, _treeDom)) == null ? void 0 : _a.hidden) {\n      __privateGet(this, _treeDom).hidden = false;\n    }\n  }\n}\n_treeDom = new WeakMap();\n_StructTreeLayerBuilder_instances = new WeakSet();\nsetAttributes_fn = function(structElement, htmlElement) {\n  const {\n    alt,\n    id,\n    lang\n  } = structElement;\n  if (alt !== void 0) {\n    htmlElement.setAttribute(\"aria-label\", removeNullCharacters(alt));\n  }\n  if (id !== void 0) {\n    htmlElement.setAttribute(\"aria-owns\", id);\n  }\n  if (lang !== void 0) {\n    htmlElement.setAttribute(\"lang\", removeNullCharacters(lang, true));\n  }\n};\nwalk_fn = function(node) {\n  if (!node) {\n    return null;\n  }\n  const element = document.createElement(\"span\");\n  if (\"role\" in node) {\n    const {\n      role\n    } = node;\n    const match2 = role.match(HEADING_PATTERN);\n    if (match2) {\n      element.setAttribute(\"role\", \"heading\");\n      element.setAttribute(\"aria-level\", match2[1]);\n    } else if (PDF_ROLE_TO_HTML_ROLE[role]) {\n      element.setAttribute(\"role\", PDF_ROLE_TO_HTML_ROLE[role]);\n    }\n  }\n  __privateMethod(this, _StructTreeLayerBuilder_instances, setAttributes_fn).call(this, node, element);\n  if (node.children) {\n    if (node.children.length === 1 && \"id\" in node.children[0]) {\n      __privateMethod(this, _StructTreeLayerBuilder_instances, setAttributes_fn).call(this, node.children[0], element);\n    } else {\n      for (const kid of node.children) {\n        element.append(__privateMethod(this, _StructTreeLayerBuilder_instances, walk_fn).call(this, kid));\n      }\n    }\n  }\n  return element;\n};\nconst _TextAccessibilityManager = class _TextAccessibilityManager {\n  constructor() {\n    __privateAdd(this, _TextAccessibilityManager_instances);\n    __privateAdd(this, _enabled, false);\n    __privateAdd(this, _textChildren, null);\n    __privateAdd(this, _textNodes, /* @__PURE__ */ new Map());\n    __privateAdd(this, _waitingElements, /* @__PURE__ */ new Map());\n  }\n  setTextMapping(textDivs) {\n    __privateSet(this, _textChildren, textDivs);\n  }\n  enable() {\n    if (__privateGet(this, _enabled)) {\n      throw new Error(\"TextAccessibilityManager is already enabled.\");\n    }\n    if (!__privateGet(this, _textChildren)) {\n      throw new Error(\"Text divs and strings have not been set.\");\n    }\n    __privateSet(this, _enabled, true);\n    __privateSet(this, _textChildren, __privateGet(this, _textChildren).slice());\n    __privateGet(this, _textChildren).sort(__privateMethod(_TextAccessibilityManager, _TextAccessibilityManager_static, compareElementPositions_fn));\n    if (__privateGet(this, _textNodes).size > 0) {\n      const textChildren = __privateGet(this, _textChildren);\n      for (const [id, nodeIndex] of __privateGet(this, _textNodes)) {\n        const element = document.getElementById(id);\n        if (!element) {\n          __privateGet(this, _textNodes).delete(id);\n          continue;\n        }\n        __privateMethod(this, _TextAccessibilityManager_instances, addIdToAriaOwns_fn).call(this, id, textChildren[nodeIndex]);\n      }\n    }\n    for (const [element, isRemovable] of __privateGet(this, _waitingElements)) {\n      this.addPointerInTextLayer(element, isRemovable);\n    }\n    __privateGet(this, _waitingElements).clear();\n  }\n  disable() {\n    if (!__privateGet(this, _enabled)) {\n      return;\n    }\n    __privateGet(this, _waitingElements).clear();\n    __privateSet(this, _textChildren, null);\n    __privateSet(this, _enabled, false);\n  }\n  removePointerInTextLayer(element) {\n    if (!__privateGet(this, _enabled)) {\n      __privateGet(this, _waitingElements).delete(element);\n      return;\n    }\n    const children = __privateGet(this, _textChildren);\n    if (!children || children.length === 0) {\n      return;\n    }\n    const {\n      id\n    } = element;\n    const nodeIndex = __privateGet(this, _textNodes).get(id);\n    if (nodeIndex === void 0) {\n      return;\n    }\n    const node = children[nodeIndex];\n    __privateGet(this, _textNodes).delete(id);\n    let owns = node.getAttribute(\"aria-owns\");\n    if (owns == null ? void 0 : owns.includes(id)) {\n      owns = owns.split(\" \").filter((x) => x !== id).join(\" \");\n      if (owns) {\n        node.setAttribute(\"aria-owns\", owns);\n      } else {\n        node.removeAttribute(\"aria-owns\");\n        node.setAttribute(\"role\", \"presentation\");\n      }\n    }\n  }\n  addPointerInTextLayer(element, isRemovable) {\n    const {\n      id\n    } = element;\n    if (!id) {\n      return null;\n    }\n    if (!__privateGet(this, _enabled)) {\n      __privateGet(this, _waitingElements).set(element, isRemovable);\n      return null;\n    }\n    if (isRemovable) {\n      this.removePointerInTextLayer(element);\n    }\n    const children = __privateGet(this, _textChildren);\n    if (!children || children.length === 0) {\n      return null;\n    }\n    const index = binarySearchFirstItem(children, (node) => {\n      var _a;\n      return __privateMethod(_a = _TextAccessibilityManager, _TextAccessibilityManager_static, compareElementPositions_fn).call(_a, element, node) < 0;\n    });\n    const nodeIndex = Math.max(0, index - 1);\n    const child = children[nodeIndex];\n    __privateMethod(this, _TextAccessibilityManager_instances, addIdToAriaOwns_fn).call(this, id, child);\n    __privateGet(this, _textNodes).set(id, nodeIndex);\n    const parent = child.parentNode;\n    return (parent == null ? void 0 : parent.classList.contains(\"markedContent\")) ? parent.id : null;\n  }\n  moveElementInDOM(container, element, contentElement, isRemovable) {\n    const id = this.addPointerInTextLayer(contentElement, isRemovable);\n    if (!container.hasChildNodes()) {\n      container.append(element);\n      return id;\n    }\n    const children = Array.from(container.childNodes).filter((node) => node !== element);\n    if (children.length === 0) {\n      return id;\n    }\n    const elementToCompare = contentElement || element;\n    const index = binarySearchFirstItem(children, (node) => {\n      var _a;\n      return __privateMethod(_a = _TextAccessibilityManager, _TextAccessibilityManager_static, compareElementPositions_fn).call(_a, elementToCompare, node) < 0;\n    });\n    if (index === 0) {\n      children[0].before(element);\n    } else {\n      children[index - 1].after(element);\n    }\n    return id;\n  }\n};\n_enabled = new WeakMap();\n_textChildren = new WeakMap();\n_textNodes = new WeakMap();\n_waitingElements = new WeakMap();\n_TextAccessibilityManager_static = new WeakSet();\ncompareElementPositions_fn = function(e1, e2) {\n  const rect1 = e1.getBoundingClientRect();\n  const rect2 = e2.getBoundingClientRect();\n  if (rect1.width === 0 && rect1.height === 0) {\n    return 1;\n  }\n  if (rect2.width === 0 && rect2.height === 0) {\n    return -1;\n  }\n  const top1 = rect1.y;\n  const bot1 = rect1.y + rect1.height;\n  const mid1 = rect1.y + rect1.height / 2;\n  const top2 = rect2.y;\n  const bot2 = rect2.y + rect2.height;\n  const mid2 = rect2.y + rect2.height / 2;\n  if (mid1 <= top2 && mid2 >= bot1) {\n    return -1;\n  }\n  if (mid2 <= top1 && mid1 >= bot2) {\n    return 1;\n  }\n  const centerX1 = rect1.x + rect1.width / 2;\n  const centerX2 = rect2.x + rect2.width / 2;\n  return centerX1 - centerX2;\n};\n_TextAccessibilityManager_instances = new WeakSet();\naddIdToAriaOwns_fn = function(id, node) {\n  const owns = node.getAttribute(\"aria-owns\");\n  if (!(owns == null ? void 0 : owns.includes(id))) {\n    node.setAttribute(\"aria-owns\", owns ? `${owns} ${id}` : id);\n  }\n  node.removeAttribute(\"role\");\n};\n__privateAdd(_TextAccessibilityManager, _TextAccessibilityManager_static);\nlet TextAccessibilityManager = _TextAccessibilityManager;\nclass TextHighlighter {\n  constructor({\n    findController,\n    eventBus,\n    pageIndex\n  }) {\n    __privateAdd(this, _eventAbortController3, null);\n    this.findController = findController;\n    this.matches = [];\n    this.eventBus = eventBus;\n    this.pageIdx = pageIndex;\n    this.textDivs = null;\n    this.textContentItemsStr = null;\n    this.enabled = false;\n  }\n  setTextMapping(divs, texts) {\n    this.textDivs = divs;\n    this.textContentItemsStr = texts;\n  }\n  enable() {\n    if (!this.textDivs || !this.textContentItemsStr) {\n      throw new Error(\"Text divs and strings have not been set.\");\n    }\n    if (this.enabled) {\n      throw new Error(\"TextHighlighter is already enabled.\");\n    }\n    this.enabled = true;\n    if (!__privateGet(this, _eventAbortController3)) {\n      __privateSet(this, _eventAbortController3, new AbortController());\n      this.eventBus._on(\"updatetextlayermatches\", (evt) => {\n        if (evt.pageIndex === this.pageIdx || evt.pageIndex === -1) {\n          this._updateMatches();\n        }\n      }, {\n        signal: __privateGet(this, _eventAbortController3).signal\n      });\n    }\n    this._updateMatches();\n  }\n  disable() {\n    var _a;\n    if (!this.enabled) {\n      return;\n    }\n    this.enabled = false;\n    (_a = __privateGet(this, _eventAbortController3)) == null ? void 0 : _a.abort();\n    __privateSet(this, _eventAbortController3, null);\n    this._updateMatches(true);\n  }\n  _convertMatches(matches, matchesLength) {\n    if (!matches) {\n      return [];\n    }\n    const {\n      textContentItemsStr\n    } = this;\n    let i = 0, iIndex = 0;\n    const end = textContentItemsStr.length - 1;\n    const result = [];\n    for (let m = 0, mm = matches.length; m < mm; m++) {\n      let matchIdx = matches[m];\n      while (i !== end && matchIdx >= iIndex + textContentItemsStr[i].length) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n      if (i === textContentItemsStr.length) {\n        console.error(\"Could not find a matching mapping\");\n      }\n      const match2 = {\n        begin: {\n          divIdx: i,\n          offset: matchIdx - iIndex\n        }\n      };\n      matchIdx += matchesLength[m];\n      while (i !== end && matchIdx > iIndex + textContentItemsStr[i].length) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n      match2.end = {\n        divIdx: i,\n        offset: matchIdx - iIndex\n      };\n      result.push(match2);\n    }\n    return result;\n  }\n  _renderMatches(matches) {\n    if (matches.length === 0) {\n      return;\n    }\n    const {\n      findController,\n      pageIdx\n    } = this;\n    const {\n      textContentItemsStr,\n      textDivs\n    } = this;\n    const isSelectedPage = pageIdx === findController.selected.pageIdx;\n    const selectedMatchIdx = findController.selected.matchIdx;\n    const highlightAll = findController.state.highlightAll;\n    let prevEnd = null;\n    const infinity = {\n      divIdx: -1,\n      offset: void 0\n    };\n    function beginText(begin, className) {\n      const divIdx = begin.divIdx;\n      textDivs[divIdx].textContent = \"\";\n      return appendTextToDiv(divIdx, 0, begin.offset, className);\n    }\n    function appendTextToDiv(divIdx, fromOffset, toOffset, className) {\n      let div = textDivs[divIdx];\n      if (div.nodeType === Node.TEXT_NODE) {\n        const span = document.createElement(\"span\");\n        div.before(span);\n        span.append(div);\n        textDivs[divIdx] = span;\n        div = span;\n      }\n      const content = textContentItemsStr[divIdx].substring(fromOffset, toOffset);\n      const node = document.createTextNode(content);\n      if (className) {\n        const span = document.createElement(\"span\");\n        span.className = `${className} appended`;\n        span.append(node);\n        div.append(span);\n        return className.includes(\"selected\") ? span.offsetLeft : 0;\n      }\n      div.append(node);\n      return 0;\n    }\n    let i0 = selectedMatchIdx, i1 = i0 + 1;\n    if (highlightAll) {\n      i0 = 0;\n      i1 = matches.length;\n    } else if (!isSelectedPage) {\n      return;\n    }\n    let lastDivIdx = -1;\n    let lastOffset = -1;\n    for (let i = i0; i < i1; i++) {\n      const match2 = matches[i];\n      const begin = match2.begin;\n      if (begin.divIdx === lastDivIdx && begin.offset === lastOffset) {\n        continue;\n      }\n      lastDivIdx = begin.divIdx;\n      lastOffset = begin.offset;\n      const end = match2.end;\n      const isSelected = isSelectedPage && i === selectedMatchIdx;\n      const highlightSuffix = isSelected ? \" selected\" : \"\";\n      let selectedLeft = 0;\n      if (!prevEnd || begin.divIdx !== prevEnd.divIdx) {\n        if (prevEnd !== null) {\n          appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n        }\n        beginText(begin);\n      } else {\n        appendTextToDiv(prevEnd.divIdx, prevEnd.offset, begin.offset);\n      }\n      if (begin.divIdx === end.divIdx) {\n        selectedLeft = appendTextToDiv(begin.divIdx, begin.offset, end.offset, \"highlight\" + highlightSuffix);\n      } else {\n        selectedLeft = appendTextToDiv(begin.divIdx, begin.offset, infinity.offset, \"highlight begin\" + highlightSuffix);\n        for (let n0 = begin.divIdx + 1, n1 = end.divIdx; n0 < n1; n0++) {\n          textDivs[n0].className = \"highlight middle\" + highlightSuffix;\n        }\n        beginText(end, \"highlight end\" + highlightSuffix);\n      }\n      prevEnd = end;\n      if (isSelected) {\n        findController.scrollMatchIntoView({\n          element: textDivs[begin.divIdx],\n          selectedLeft,\n          pageIndex: pageIdx,\n          matchIndex: selectedMatchIdx\n        });\n      }\n    }\n    if (prevEnd) {\n      appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n    }\n  }\n  _updateMatches(reset = false) {\n    if (!this.enabled && !reset) {\n      return;\n    }\n    const {\n      findController,\n      matches,\n      pageIdx\n    } = this;\n    const {\n      textContentItemsStr,\n      textDivs\n    } = this;\n    let clearedUntilDivIdx = -1;\n    for (const match2 of matches) {\n      const begin = Math.max(clearedUntilDivIdx, match2.begin.divIdx);\n      for (let n = begin, end = match2.end.divIdx; n <= end; n++) {\n        const div = textDivs[n];\n        div.textContent = textContentItemsStr[n];\n        div.className = \"\";\n      }\n      clearedUntilDivIdx = match2.end.divIdx + 1;\n    }\n    if (!(findController == null ? void 0 : findController.highlightMatches) || reset) {\n      return;\n    }\n    const pageMatches = findController.pageMatches[pageIdx] || null;\n    const pageMatchesLength = findController.pageMatchesLength[pageIdx] || null;\n    this.matches = this._convertMatches(pageMatches, pageMatchesLength);\n    this._renderMatches(this.matches);\n  }\n}\n_eventAbortController3 = new WeakMap();\nconst _TextLayerBuilder = class _TextLayerBuilder {\n  constructor({\n    pdfPage,\n    highlighter = null,\n    accessibilityManager = null,\n    enablePermissions = false,\n    onAppend = null\n  }) {\n    __privateAdd(this, _TextLayerBuilder_instances);\n    __privateAdd(this, _enablePermissions, false);\n    __privateAdd(this, _onAppend3, null);\n    __privateAdd(this, _renderingDone, false);\n    __privateAdd(this, _textLayer2, null);\n    this.pdfPage = pdfPage;\n    this.highlighter = highlighter;\n    this.accessibilityManager = accessibilityManager;\n    __privateSet(this, _enablePermissions, enablePermissions === true);\n    __privateSet(this, _onAppend3, onAppend);\n    this.div = document.createElement(\"div\");\n    this.div.tabIndex = 0;\n    this.div.className = \"textLayer\";\n  }\n  async render(viewport, textContentParams = null) {\n    var _a, _b, _c, _d, _e;\n    if (__privateGet(this, _renderingDone) && __privateGet(this, _textLayer2)) {\n      __privateGet(this, _textLayer2).update({\n        viewport,\n        onBefore: this.hide.bind(this)\n      });\n      this.show();\n      return;\n    }\n    this.cancel();\n    __privateSet(this, _textLayer2, new TextLayer({\n      textContentSource: this.pdfPage.streamTextContent(textContentParams || {\n        includeMarkedContent: true,\n        disableNormalization: true\n      }),\n      container: this.div,\n      viewport\n    }));\n    const {\n      textDivs,\n      textContentItemsStr\n    } = __privateGet(this, _textLayer2);\n    (_a = this.highlighter) == null ? void 0 : _a.setTextMapping(textDivs, textContentItemsStr);\n    (_b = this.accessibilityManager) == null ? void 0 : _b.setTextMapping(textDivs);\n    await __privateGet(this, _textLayer2).render();\n    __privateSet(this, _renderingDone, true);\n    const endOfContent = document.createElement(\"div\");\n    endOfContent.className = \"endOfContent\";\n    this.div.append(endOfContent);\n    __privateMethod(this, _TextLayerBuilder_instances, bindMouse_fn).call(this, endOfContent);\n    (_c = __privateGet(this, _onAppend3)) == null ? void 0 : _c.call(this, this.div);\n    (_d = this.highlighter) == null ? void 0 : _d.enable();\n    (_e = this.accessibilityManager) == null ? void 0 : _e.enable();\n  }\n  hide() {\n    var _a;\n    if (!this.div.hidden && __privateGet(this, _renderingDone)) {\n      (_a = this.highlighter) == null ? void 0 : _a.disable();\n      this.div.hidden = true;\n    }\n  }\n  show() {\n    var _a;\n    if (this.div.hidden && __privateGet(this, _renderingDone)) {\n      this.div.hidden = false;\n      (_a = this.highlighter) == null ? void 0 : _a.enable();\n    }\n  }\n  cancel() {\n    var _a, _b, _c, _d;\n    (_a = __privateGet(this, _textLayer2)) == null ? void 0 : _a.cancel();\n    __privateSet(this, _textLayer2, null);\n    (_b = this.highlighter) == null ? void 0 : _b.disable();\n    (_c = this.accessibilityManager) == null ? void 0 : _c.disable();\n    __privateMethod(_d = _TextLayerBuilder, _TextLayerBuilder_static, removeGlobalSelectionListener_fn).call(_d, this.div);\n  }\n};\n_enablePermissions = new WeakMap();\n_onAppend3 = new WeakMap();\n_renderingDone = new WeakMap();\n_textLayer2 = new WeakMap();\n_textLayers = new WeakMap();\n_selectionChangeAbortController = new WeakMap();\n_TextLayerBuilder_instances = new WeakSet();\nbindMouse_fn = function(end) {\n  var _a;\n  const {\n    div\n  } = this;\n  div.addEventListener(\"mousedown\", (evt) => {\n    end.classList.add(\"active\");\n  });\n  div.addEventListener(\"copy\", (event) => {\n    if (!__privateGet(this, _enablePermissions)) {\n      const selection = document.getSelection();\n      event.clipboardData.setData(\"text/plain\", removeNullCharacters(normalizeUnicode(selection.toString())));\n    }\n    event.preventDefault();\n    event.stopPropagation();\n  });\n  __privateGet(_TextLayerBuilder, _textLayers).set(div, end);\n  __privateMethod(_a = _TextLayerBuilder, _TextLayerBuilder_static, enableGlobalSelectionListener_fn).call(_a);\n};\n_TextLayerBuilder_static = new WeakSet();\nremoveGlobalSelectionListener_fn = function(textLayerDiv) {\n  var _a;\n  __privateGet(this, _textLayers).delete(textLayerDiv);\n  if (__privateGet(this, _textLayers).size === 0) {\n    (_a = __privateGet(this, _selectionChangeAbortController)) == null ? void 0 : _a.abort();\n    __privateSet(this, _selectionChangeAbortController, null);\n  }\n};\nenableGlobalSelectionListener_fn = function() {\n  if (__privateGet(this, _selectionChangeAbortController)) {\n    return;\n  }\n  __privateSet(this, _selectionChangeAbortController, new AbortController());\n  const {\n    signal\n  } = __privateGet(this, _selectionChangeAbortController);\n  const reset = (end, textLayer) => {\n    textLayer.append(end);\n    end.style.width = \"\";\n    end.style.height = \"\";\n    end.classList.remove(\"active\");\n  };\n  document.addEventListener(\"pointerup\", () => {\n    __privateGet(this, _textLayers).forEach(reset);\n  }, {\n    signal\n  });\n  var isFirefox, prevRange;\n  document.addEventListener(\"selectionchange\", () => {\n    const selection = document.getSelection();\n    if (selection.rangeCount === 0) {\n      __privateGet(this, _textLayers).forEach(reset);\n      return;\n    }\n    const activeTextLayers = /* @__PURE__ */ new Set();\n    for (let i = 0; i < selection.rangeCount; i++) {\n      const range2 = selection.getRangeAt(i);\n      for (const textLayerDiv of __privateGet(this, _textLayers).keys()) {\n        if (!activeTextLayers.has(textLayerDiv) && range2.intersectsNode(textLayerDiv)) {\n          activeTextLayers.add(textLayerDiv);\n        }\n      }\n    }\n    for (const [textLayerDiv, endDiv2] of __privateGet(this, _textLayers)) {\n      if (activeTextLayers.has(textLayerDiv)) {\n        endDiv2.classList.add(\"active\");\n      } else {\n        reset(endDiv2, textLayerDiv);\n      }\n    }\n    isFirefox ?? (isFirefox = getComputedStyle(__privateGet(this, _textLayers).values().next().value).getPropertyValue(\"-moz-user-select\") === \"none\");\n    if (isFirefox) {\n      return;\n    }\n    const range = selection.getRangeAt(0);\n    const modifyStart = prevRange && (range.compareBoundaryPoints(Range.END_TO_END, prevRange) === 0 || range.compareBoundaryPoints(Range.START_TO_END, prevRange) === 0);\n    let anchor = modifyStart ? range.startContainer : range.endContainer;\n    if (anchor.nodeType === Node.TEXT_NODE) {\n      anchor = anchor.parentNode;\n    }\n    const parentTextLayer = anchor.parentElement.closest(\".textLayer\");\n    const endDiv = __privateGet(this, _textLayers).get(parentTextLayer);\n    if (endDiv) {\n      endDiv.style.width = parentTextLayer.style.width;\n      endDiv.style.height = parentTextLayer.style.height;\n      anchor.parentElement.insertBefore(endDiv, modifyStart ? anchor : anchor.nextSibling);\n    }\n    prevRange = range.cloneRange();\n  }, {\n    signal\n  });\n};\n__privateAdd(_TextLayerBuilder, _TextLayerBuilder_static);\n__privateAdd(_TextLayerBuilder, _textLayers, /* @__PURE__ */ new Map());\n__privateAdd(_TextLayerBuilder, _selectionChangeAbortController, null);\nlet TextLayerBuilder = _TextLayerBuilder;\nclass XfaLayerBuilder {\n  constructor({\n    pdfPage,\n    annotationStorage = null,\n    linkService,\n    xfaHtml = null\n  }) {\n    this.pdfPage = pdfPage;\n    this.annotationStorage = annotationStorage;\n    this.linkService = linkService;\n    this.xfaHtml = xfaHtml;\n    this.div = null;\n    this._cancelled = false;\n  }\n  async render(viewport, intent = \"display\") {\n    if (intent === \"print\") {\n      const parameters2 = {\n        viewport: viewport.clone({\n          dontFlip: true\n        }),\n        div: this.div,\n        xfaHtml: this.xfaHtml,\n        annotationStorage: this.annotationStorage,\n        linkService: this.linkService,\n        intent\n      };\n      this.div = document.createElement(\"div\");\n      parameters2.div = this.div;\n      return XfaLayer.render(parameters2);\n    }\n    const xfaHtml = await this.pdfPage.getXfa();\n    if (this._cancelled || !xfaHtml) {\n      return {\n        textDivs: []\n      };\n    }\n    const parameters = {\n      viewport: viewport.clone({\n        dontFlip: true\n      }),\n      div: this.div,\n      xfaHtml,\n      annotationStorage: this.annotationStorage,\n      linkService: this.linkService,\n      intent\n    };\n    if (this.div) {\n      return XfaLayer.update(parameters);\n    }\n    this.div = document.createElement(\"div\");\n    parameters.div = this.div;\n    return XfaLayer.render(parameters);\n  }\n  cancel() {\n    this._cancelled = true;\n  }\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.hidden = true;\n  }\n}\nconst DEFAULT_LAYER_PROPERTIES = {\n  annotationEditorUIManager: null,\n  annotationStorage: null,\n  downloadManager: null,\n  enableScripting: false,\n  fieldObjectsPromise: null,\n  findController: null,\n  hasJSActionsPromise: null,\n  get linkService() {\n    return new SimpleLinkService();\n  }\n};\nconst LAYERS_ORDER = /* @__PURE__ */ new Map([[\"canvasWrapper\", 0], [\"textLayer\", 1], [\"annotationLayer\", 2], [\"annotationEditorLayer\", 3], [\"xfaLayer\", 3]]);\nclass PDFPageView {\n  constructor(options) {\n    __privateAdd(this, _PDFPageView_instances);\n    __privateAdd(this, _annotationMode, AnnotationMode.ENABLE_FORMS);\n    __privateAdd(this, _enableHWA, false);\n    __privateAdd(this, _hasRestrictedScaling, false);\n    __privateAdd(this, _layerProperties, null);\n    __privateAdd(this, _loadingId, null);\n    __privateAdd(this, _previousRotation, null);\n    __privateAdd(this, _renderError, null);\n    __privateAdd(this, _renderingState, RenderingStates.INITIAL);\n    __privateAdd(this, _textLayerMode, TextLayerMode.ENABLE);\n    __privateAdd(this, _useThumbnailCanvas, {\n      directDrawing: true,\n      initialOptionalContent: true,\n      regularAnnotations: true\n    });\n    __privateAdd(this, _viewportMap, /* @__PURE__ */ new WeakMap());\n    __privateAdd(this, _layers, [null, null, null, null]);\n    var _a;\n    const container = options.container;\n    const defaultViewport = options.defaultViewport;\n    this.id = options.id;\n    this.renderingId = \"page\" + this.id;\n    __privateSet(this, _layerProperties, options.layerProperties || DEFAULT_LAYER_PROPERTIES);\n    this.pdfPage = null;\n    this.pageLabel = null;\n    this.rotation = 0;\n    this.scale = options.scale || DEFAULT_SCALE;\n    this.viewport = defaultViewport;\n    this.pdfPageRotate = defaultViewport.rotation;\n    this._optionalContentConfigPromise = options.optionalContentConfigPromise || null;\n    __privateSet(this, _textLayerMode, options.textLayerMode ?? TextLayerMode.ENABLE);\n    __privateSet(this, _annotationMode, options.annotationMode ?? AnnotationMode.ENABLE_FORMS);\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.maxCanvasPixels = options.maxCanvasPixels ?? AppOptions.get(\"maxCanvasPixels\");\n    this.pageColors = options.pageColors || null;\n    __privateSet(this, _enableHWA, options.enableHWA || false);\n    this.eventBus = options.eventBus;\n    this.renderingQueue = options.renderingQueue;\n    this.l10n = options.l10n;\n    this.l10n || (this.l10n = new genericl10n_GenericL10n());\n    this.renderTask = null;\n    this.resume = null;\n    this._isStandalone = !((_a = this.renderingQueue) == null ? void 0 : _a.hasViewer());\n    this._container = container;\n    this._annotationCanvasMap = null;\n    this.annotationLayer = null;\n    this.annotationEditorLayer = null;\n    this.textLayer = null;\n    this.zoomLayer = null;\n    this.xfaLayer = null;\n    this.structTreeLayer = null;\n    this.drawLayer = null;\n    const div = document.createElement(\"div\");\n    div.className = \"page\";\n    div.setAttribute(\"data-page-number\", this.id);\n    div.setAttribute(\"role\", \"region\");\n    div.setAttribute(\"data-l10n-id\", \"pdfjs-page-landmark\");\n    div.setAttribute(\"data-l10n-args\", JSON.stringify({\n      page: this.id\n    }));\n    this.div = div;\n    __privateMethod(this, _PDFPageView_instances, setDimensions_fn).call(this);\n    container == null ? void 0 : container.append(div);\n    if (this._isStandalone) {\n      container == null ? void 0 : container.style.setProperty(\"--scale-factor\", this.scale * PixelsPerInch.PDF_TO_CSS_UNITS);\n      const {\n        optionalContentConfigPromise\n      } = options;\n      if (optionalContentConfigPromise) {\n        optionalContentConfigPromise.then((optionalContentConfig) => {\n          if (optionalContentConfigPromise !== this._optionalContentConfigPromise) {\n            return;\n          }\n          __privateGet(this, _useThumbnailCanvas).initialOptionalContent = optionalContentConfig.hasInitialVisibility;\n        });\n      }\n      if (!options.l10n) {\n        this.l10n.translate(this.div);\n      }\n    }\n  }\n  get renderingState() {\n    return __privateGet(this, _renderingState);\n  }\n  set renderingState(state) {\n    if (state === __privateGet(this, _renderingState)) {\n      return;\n    }\n    __privateSet(this, _renderingState, state);\n    if (__privateGet(this, _loadingId)) {\n      clearTimeout(__privateGet(this, _loadingId));\n      __privateSet(this, _loadingId, null);\n    }\n    switch (state) {\n      case RenderingStates.PAUSED:\n        this.div.classList.remove(\"loading\");\n        break;\n      case RenderingStates.RUNNING:\n        this.div.classList.add(\"loadingIcon\");\n        __privateSet(this, _loadingId, setTimeout(() => {\n          this.div.classList.add(\"loading\");\n          __privateSet(this, _loadingId, null);\n        }, 0));\n        break;\n      case RenderingStates.INITIAL:\n      case RenderingStates.FINISHED:\n        this.div.classList.remove(\"loadingIcon\", \"loading\");\n        break;\n    }\n  }\n  setPdfPage(pdfPage) {\n    var _a, _b, _c, _d;\n    if (this._isStandalone && (((_a = this.pageColors) == null ? void 0 : _a.foreground) === \"CanvasText\" || ((_b = this.pageColors) == null ? void 0 : _b.background) === \"Canvas\")) {\n      (_c = this._container) == null ? void 0 : _c.style.setProperty(\"--hcm-highlight-filter\", pdfPage.filterFactory.addHighlightHCMFilter(\"highlight\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n      (_d = this._container) == null ? void 0 : _d.style.setProperty(\"--hcm-highlight-selected-filter\", pdfPage.filterFactory.addHighlightHCMFilter(\"highlight_selected\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n    }\n    this.pdfPage = pdfPage;\n    this.pdfPageRotate = pdfPage.rotate;\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = pdfPage.getViewport({\n      scale: this.scale * PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: totalRotation\n    });\n    __privateMethod(this, _PDFPageView_instances, setDimensions_fn).call(this);\n    this.reset();\n  }\n  destroy() {\n    var _a;\n    this.reset();\n    (_a = this.pdfPage) == null ? void 0 : _a.cleanup();\n  }\n  get _textHighlighter() {\n    return shadow(this, \"_textHighlighter\", new TextHighlighter({\n      pageIndex: this.id - 1,\n      eventBus: this.eventBus,\n      findController: __privateGet(this, _layerProperties).findController\n    }));\n  }\n  _resetZoomLayer(removeFromDOM = false) {\n    if (!this.zoomLayer) {\n      return;\n    }\n    const zoomLayerCanvas = this.zoomLayer.firstChild;\n    __privateGet(this, _viewportMap).delete(zoomLayerCanvas);\n    zoomLayerCanvas.width = 0;\n    zoomLayerCanvas.height = 0;\n    if (removeFromDOM) {\n      this.zoomLayer.remove();\n    }\n    this.zoomLayer = null;\n  }\n  reset({\n    keepZoomLayer = false,\n    keepAnnotationLayer = false,\n    keepAnnotationEditorLayer = false,\n    keepXfaLayer = false,\n    keepTextLayer = false\n  } = {}) {\n    var _a, _b, _c, _d, _e;\n    this.cancelRendering({\n      keepAnnotationLayer,\n      keepAnnotationEditorLayer,\n      keepXfaLayer,\n      keepTextLayer\n    });\n    this.renderingState = RenderingStates.INITIAL;\n    const div = this.div;\n    const childNodes = div.childNodes, zoomLayerNode = keepZoomLayer && this.zoomLayer || null, annotationLayerNode = keepAnnotationLayer && ((_a = this.annotationLayer) == null ? void 0 : _a.div) || null, annotationEditorLayerNode = keepAnnotationEditorLayer && ((_b = this.annotationEditorLayer) == null ? void 0 : _b.div) || null, xfaLayerNode = keepXfaLayer && ((_c = this.xfaLayer) == null ? void 0 : _c.div) || null, textLayerNode = keepTextLayer && ((_d = this.textLayer) == null ? void 0 : _d.div) || null;\n    for (let i = childNodes.length - 1; i >= 0; i--) {\n      const node = childNodes[i];\n      switch (node) {\n        case zoomLayerNode:\n        case annotationLayerNode:\n        case annotationEditorLayerNode:\n        case xfaLayerNode:\n        case textLayerNode:\n          continue;\n      }\n      node.remove();\n      const layerIndex = __privateGet(this, _layers).indexOf(node);\n      if (layerIndex >= 0) {\n        __privateGet(this, _layers)[layerIndex] = null;\n      }\n    }\n    div.removeAttribute(\"data-loaded\");\n    if (annotationLayerNode) {\n      this.annotationLayer.hide();\n    }\n    if (annotationEditorLayerNode) {\n      this.annotationEditorLayer.hide();\n    }\n    if (xfaLayerNode) {\n      this.xfaLayer.hide();\n    }\n    if (textLayerNode) {\n      this.textLayer.hide();\n    }\n    (_e = this.structTreeLayer) == null ? void 0 : _e.hide();\n    if (!zoomLayerNode) {\n      if (this.canvas) {\n        __privateGet(this, _viewportMap).delete(this.canvas);\n        this.canvas.width = 0;\n        this.canvas.height = 0;\n        delete this.canvas;\n      }\n      this._resetZoomLayer();\n    }\n  }\n  update({\n    scale = 0,\n    rotation = null,\n    optionalContentConfigPromise = null,\n    drawingDelay = -1\n  }) {\n    var _a;\n    this.scale = scale || this.scale;\n    if (typeof rotation === \"number\") {\n      this.rotation = rotation;\n    }\n    if (optionalContentConfigPromise instanceof Promise) {\n      this._optionalContentConfigPromise = optionalContentConfigPromise;\n      optionalContentConfigPromise.then((optionalContentConfig) => {\n        if (optionalContentConfigPromise !== this._optionalContentConfigPromise) {\n          return;\n        }\n        __privateGet(this, _useThumbnailCanvas).initialOptionalContent = optionalContentConfig.hasInitialVisibility;\n      });\n    }\n    __privateGet(this, _useThumbnailCanvas).directDrawing = true;\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = this.viewport.clone({\n      scale: this.scale * PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: totalRotation\n    });\n    __privateMethod(this, _PDFPageView_instances, setDimensions_fn).call(this);\n    if (this._isStandalone) {\n      (_a = this._container) == null ? void 0 : _a.style.setProperty(\"--scale-factor\", this.viewport.scale);\n    }\n    if (this.canvas) {\n      let onlyCssZoom = false;\n      if (__privateGet(this, _hasRestrictedScaling)) {\n        if (this.maxCanvasPixels === 0) {\n          onlyCssZoom = true;\n        } else if (this.maxCanvasPixels > 0) {\n          const {\n            width,\n            height\n          } = this.viewport;\n          const {\n            sx,\n            sy\n          } = this.outputScale;\n          onlyCssZoom = (Math.floor(width) * sx | 0) * (Math.floor(height) * sy | 0) > this.maxCanvasPixels;\n        }\n      }\n      const postponeDrawing = drawingDelay >= 0 && drawingDelay < 1e3;\n      if (postponeDrawing || onlyCssZoom) {\n        if (postponeDrawing && !onlyCssZoom && this.renderingState !== RenderingStates.FINISHED) {\n          this.cancelRendering({\n            keepZoomLayer: true,\n            keepAnnotationLayer: true,\n            keepAnnotationEditorLayer: true,\n            keepXfaLayer: true,\n            keepTextLayer: true,\n            cancelExtraDelay: drawingDelay\n          });\n          this.renderingState = RenderingStates.FINISHED;\n          __privateGet(this, _useThumbnailCanvas).directDrawing = false;\n        }\n        this.cssTransform({\n          target: this.canvas,\n          redrawAnnotationLayer: true,\n          redrawAnnotationEditorLayer: true,\n          redrawXfaLayer: true,\n          redrawTextLayer: !postponeDrawing,\n          hideTextLayer: postponeDrawing\n        });\n        if (postponeDrawing) {\n          return;\n        }\n        this.eventBus.dispatch(\"pagerendered\", {\n          source: this,\n          pageNumber: this.id,\n          cssTransform: true,\n          timestamp: performance.now(),\n          error: __privateGet(this, _renderError)\n        });\n        return;\n      }\n      if (!this.zoomLayer && !this.canvas.hidden) {\n        this.zoomLayer = this.canvas.parentNode;\n        this.zoomLayer.style.position = \"absolute\";\n      }\n    }\n    if (this.zoomLayer) {\n      this.cssTransform({\n        target: this.zoomLayer.firstChild\n      });\n    }\n    this.reset({\n      keepZoomLayer: true,\n      keepAnnotationLayer: true,\n      keepAnnotationEditorLayer: true,\n      keepXfaLayer: true,\n      keepTextLayer: true\n    });\n  }\n  cancelRendering({\n    keepAnnotationLayer = false,\n    keepAnnotationEditorLayer = false,\n    keepXfaLayer = false,\n    keepTextLayer = false,\n    cancelExtraDelay = 0\n  } = {}) {\n    var _a;\n    if (this.renderTask) {\n      this.renderTask.cancel(cancelExtraDelay);\n      this.renderTask = null;\n    }\n    this.resume = null;\n    if (this.textLayer && (!keepTextLayer || !this.textLayer.div)) {\n      this.textLayer.cancel();\n      this.textLayer = null;\n    }\n    if (this.structTreeLayer && !this.textLayer) {\n      this.structTreeLayer = null;\n    }\n    if (this.annotationLayer && (!keepAnnotationLayer || !this.annotationLayer.div)) {\n      this.annotationLayer.cancel();\n      this.annotationLayer = null;\n      this._annotationCanvasMap = null;\n    }\n    if (this.annotationEditorLayer && (!keepAnnotationEditorLayer || !this.annotationEditorLayer.div)) {\n      if (this.drawLayer) {\n        this.drawLayer.cancel();\n        this.drawLayer = null;\n      }\n      this.annotationEditorLayer.cancel();\n      this.annotationEditorLayer = null;\n    }\n    if (this.xfaLayer && (!keepXfaLayer || !this.xfaLayer.div)) {\n      this.xfaLayer.cancel();\n      this.xfaLayer = null;\n      (_a = this._textHighlighter) == null ? void 0 : _a.disable();\n    }\n  }\n  cssTransform({\n    target,\n    redrawAnnotationLayer = false,\n    redrawAnnotationEditorLayer = false,\n    redrawXfaLayer = false,\n    redrawTextLayer = false,\n    hideTextLayer = false\n  }) {\n    var _a;\n    if (!target.hasAttribute(\"zooming\")) {\n      target.setAttribute(\"zooming\", true);\n      const {\n        style\n      } = target;\n      style.width = style.height = \"\";\n    }\n    const originalViewport = __privateGet(this, _viewportMap).get(target);\n    if (this.viewport !== originalViewport) {\n      const relativeRotation = this.viewport.rotation - originalViewport.rotation;\n      const absRotation = Math.abs(relativeRotation);\n      let scaleX = 1, scaleY = 1;\n      if (absRotation === 90 || absRotation === 270) {\n        const {\n          width,\n          height\n        } = this.viewport;\n        scaleX = height / width;\n        scaleY = width / height;\n      }\n      target.style.transform = `rotate(${relativeRotation}deg) scale(${scaleX}, ${scaleY})`;\n    }\n    if (redrawAnnotationLayer && this.annotationLayer) {\n      __privateMethod(this, _PDFPageView_instances, renderAnnotationLayer_fn).call(this);\n    }\n    if (redrawAnnotationEditorLayer && this.annotationEditorLayer) {\n      if (this.drawLayer) {\n        __privateMethod(this, _PDFPageView_instances, renderDrawLayer_fn).call(this);\n      }\n      __privateMethod(this, _PDFPageView_instances, renderAnnotationEditorLayer_fn).call(this);\n    }\n    if (redrawXfaLayer && this.xfaLayer) {\n      __privateMethod(this, _PDFPageView_instances, renderXfaLayer_fn).call(this);\n    }\n    if (this.textLayer) {\n      if (hideTextLayer) {\n        this.textLayer.hide();\n        (_a = this.structTreeLayer) == null ? void 0 : _a.hide();\n      } else if (redrawTextLayer) {\n        __privateMethod(this, _PDFPageView_instances, renderTextLayer_fn).call(this);\n      }\n    }\n  }\n  get width() {\n    return this.viewport.width;\n  }\n  get height() {\n    return this.viewport.height;\n  }\n  getPagePoint(x, y) {\n    return this.viewport.convertToPdfPoint(x, y);\n  }\n  async draw() {\n    if (this.renderingState !== RenderingStates.INITIAL) {\n      console.error(\"Must be in new state before drawing\");\n      this.reset();\n    }\n    const {\n      div,\n      l10n,\n      pageColors,\n      pdfPage,\n      viewport\n    } = this;\n    if (!pdfPage) {\n      this.renderingState = RenderingStates.FINISHED;\n      throw new Error(\"pdfPage is not loaded\");\n    }\n    this.renderingState = RenderingStates.RUNNING;\n    const canvasWrapper = document.createElement(\"div\");\n    canvasWrapper.classList.add(\"canvasWrapper\");\n    __privateMethod(this, _PDFPageView_instances, addLayer_fn).call(this, canvasWrapper, \"canvasWrapper\");\n    if (!this.textLayer && __privateGet(this, _textLayerMode) !== TextLayerMode.DISABLE && !pdfPage.isPureXfa) {\n      this._accessibilityManager || (this._accessibilityManager = new TextAccessibilityManager());\n      this.textLayer = new TextLayerBuilder({\n        pdfPage,\n        highlighter: this._textHighlighter,\n        accessibilityManager: this._accessibilityManager,\n        enablePermissions: __privateGet(this, _textLayerMode) === TextLayerMode.ENABLE_PERMISSIONS,\n        onAppend: (textLayerDiv) => {\n          this.l10n.pause();\n          __privateMethod(this, _PDFPageView_instances, addLayer_fn).call(this, textLayerDiv, \"textLayer\");\n          this.l10n.resume();\n        }\n      });\n    }\n    if (!this.annotationLayer && __privateGet(this, _annotationMode) !== AnnotationMode.DISABLE) {\n      const {\n        annotationStorage,\n        annotationEditorUIManager,\n        downloadManager,\n        enableScripting,\n        fieldObjectsPromise,\n        hasJSActionsPromise,\n        linkService\n      } = __privateGet(this, _layerProperties);\n      this._annotationCanvasMap || (this._annotationCanvasMap = /* @__PURE__ */ new Map());\n      this.annotationLayer = new AnnotationLayerBuilder({\n        pdfPage,\n        annotationStorage,\n        imageResourcesPath: this.imageResourcesPath,\n        renderForms: __privateGet(this, _annotationMode) === AnnotationMode.ENABLE_FORMS,\n        linkService,\n        downloadManager,\n        enableScripting,\n        hasJSActionsPromise,\n        fieldObjectsPromise,\n        annotationCanvasMap: this._annotationCanvasMap,\n        accessibilityManager: this._accessibilityManager,\n        annotationEditorUIManager,\n        onAppend: (annotationLayerDiv) => {\n          __privateMethod(this, _PDFPageView_instances, addLayer_fn).call(this, annotationLayerDiv, \"annotationLayer\");\n        }\n      });\n    }\n    const renderContinueCallback = (cont) => {\n      showCanvas == null ? void 0 : showCanvas(false);\n      if (this.renderingQueue && !this.renderingQueue.isHighestPriority(this)) {\n        this.renderingState = RenderingStates.PAUSED;\n        this.resume = () => {\n          this.renderingState = RenderingStates.RUNNING;\n          cont();\n        };\n        return;\n      }\n      cont();\n    };\n    const {\n      width,\n      height\n    } = viewport;\n    const canvas = document.createElement(\"canvas\");\n    canvas.setAttribute(\"role\", \"presentation\");\n    canvas.hidden = true;\n    const hasHCM = !!((pageColors == null ? void 0 : pageColors.background) && (pageColors == null ? void 0 : pageColors.foreground));\n    let showCanvas = (isLastShow) => {\n      if (!hasHCM || isLastShow) {\n        canvas.hidden = false;\n        showCanvas = null;\n      }\n    };\n    canvasWrapper.append(canvas);\n    this.canvas = canvas;\n    const ctx = canvas.getContext(\"2d\", {\n      alpha: false,\n      willReadFrequently: !__privateGet(this, _enableHWA)\n    });\n    const outputScale = this.outputScale = new OutputScale();\n    if (this.maxCanvasPixels === 0) {\n      const invScale = 1 / this.scale;\n      outputScale.sx *= invScale;\n      outputScale.sy *= invScale;\n      __privateSet(this, _hasRestrictedScaling, true);\n    } else if (this.maxCanvasPixels > 0) {\n      const pixelsInViewport = width * height;\n      const maxScale = Math.sqrt(this.maxCanvasPixels / pixelsInViewport);\n      if (outputScale.sx > maxScale || outputScale.sy > maxScale) {\n        outputScale.sx = maxScale;\n        outputScale.sy = maxScale;\n        __privateSet(this, _hasRestrictedScaling, true);\n      } else {\n        __privateSet(this, _hasRestrictedScaling, false);\n      }\n    }\n    const sfx = approximateFraction(outputScale.sx);\n    const sfy = approximateFraction(outputScale.sy);\n    canvas.width = floorToDivide(width * outputScale.sx, sfx[0]);\n    canvas.height = floorToDivide(height * outputScale.sy, sfy[0]);\n    const {\n      style\n    } = canvas;\n    style.width = floorToDivide(width, sfx[1]) + \"px\";\n    style.height = floorToDivide(height, sfy[1]) + \"px\";\n    __privateGet(this, _viewportMap).set(canvas, viewport);\n    const transform = outputScale.scaled ? [outputScale.sx, 0, 0, outputScale.sy, 0, 0] : null;\n    const renderContext = {\n      canvasContext: ctx,\n      transform,\n      viewport,\n      annotationMode: __privateGet(this, _annotationMode),\n      optionalContentConfigPromise: this._optionalContentConfigPromise,\n      annotationCanvasMap: this._annotationCanvasMap,\n      pageColors\n    };\n    const renderTask = this.renderTask = pdfPage.render(renderContext);\n    renderTask.onContinue = renderContinueCallback;\n    const resultPromise = renderTask.promise.then(async () => {\n      var _a;\n      showCanvas == null ? void 0 : showCanvas(true);\n      await __privateMethod(this, _PDFPageView_instances, finishRenderTask_fn).call(this, renderTask);\n      __privateMethod(this, _PDFPageView_instances, renderTextLayer_fn).call(this);\n      if (this.annotationLayer) {\n        await __privateMethod(this, _PDFPageView_instances, renderAnnotationLayer_fn).call(this);\n      }\n      const {\n        annotationEditorUIManager\n      } = __privateGet(this, _layerProperties);\n      if (!annotationEditorUIManager) {\n        return;\n      }\n      this.drawLayer || (this.drawLayer = new DrawLayerBuilder({\n        pageIndex: this.id\n      }));\n      await __privateMethod(this, _PDFPageView_instances, renderDrawLayer_fn).call(this);\n      this.drawLayer.setParent(canvasWrapper);\n      if (!this.annotationEditorLayer) {\n        this.annotationEditorLayer = new AnnotationEditorLayerBuilder({\n          uiManager: annotationEditorUIManager,\n          pdfPage,\n          l10n,\n          accessibilityManager: this._accessibilityManager,\n          annotationLayer: (_a = this.annotationLayer) == null ? void 0 : _a.annotationLayer,\n          textLayer: this.textLayer,\n          drawLayer: this.drawLayer.getDrawLayer(),\n          onAppend: (annotationEditorLayerDiv) => {\n            __privateMethod(this, _PDFPageView_instances, addLayer_fn).call(this, annotationEditorLayerDiv, \"annotationEditorLayer\");\n          }\n        });\n      }\n      __privateMethod(this, _PDFPageView_instances, renderAnnotationEditorLayer_fn).call(this);\n    }, (error) => {\n      if (!(error instanceof RenderingCancelledException)) {\n        showCanvas == null ? void 0 : showCanvas(true);\n      }\n      return __privateMethod(this, _PDFPageView_instances, finishRenderTask_fn).call(this, renderTask, error);\n    });\n    if (pdfPage.isPureXfa) {\n      if (!this.xfaLayer) {\n        const {\n          annotationStorage,\n          linkService\n        } = __privateGet(this, _layerProperties);\n        this.xfaLayer = new XfaLayerBuilder({\n          pdfPage,\n          annotationStorage,\n          linkService\n        });\n      }\n      __privateMethod(this, _PDFPageView_instances, renderXfaLayer_fn).call(this);\n    }\n    div.setAttribute(\"data-loaded\", true);\n    this.eventBus.dispatch(\"pagerender\", {\n      source: this,\n      pageNumber: this.id\n    });\n    return resultPromise;\n  }\n  setPageLabel(label) {\n    this.pageLabel = typeof label === \"string\" ? label : null;\n    this.div.setAttribute(\"data-l10n-args\", JSON.stringify({\n      page: this.pageLabel ?? this.id\n    }));\n    if (this.pageLabel !== null) {\n      this.div.setAttribute(\"data-page-label\", this.pageLabel);\n    } else {\n      this.div.removeAttribute(\"data-page-label\");\n    }\n  }\n  get thumbnailCanvas() {\n    const {\n      directDrawing,\n      initialOptionalContent,\n      regularAnnotations\n    } = __privateGet(this, _useThumbnailCanvas);\n    return directDrawing && initialOptionalContent && regularAnnotations ? this.canvas : null;\n  }\n}\n_annotationMode = new WeakMap();\n_enableHWA = new WeakMap();\n_hasRestrictedScaling = new WeakMap();\n_layerProperties = new WeakMap();\n_loadingId = new WeakMap();\n_previousRotation = new WeakMap();\n_renderError = new WeakMap();\n_renderingState = new WeakMap();\n_textLayerMode = new WeakMap();\n_useThumbnailCanvas = new WeakMap();\n_viewportMap = new WeakMap();\n_layers = new WeakMap();\n_PDFPageView_instances = new WeakSet();\naddLayer_fn = function(div, name) {\n  const pos = LAYERS_ORDER.get(name);\n  const oldDiv = __privateGet(this, _layers)[pos];\n  __privateGet(this, _layers)[pos] = div;\n  if (oldDiv) {\n    oldDiv.replaceWith(div);\n    return;\n  }\n  for (let i = pos - 1; i >= 0; i--) {\n    const layer = __privateGet(this, _layers)[i];\n    if (layer) {\n      layer.after(div);\n      return;\n    }\n  }\n  this.div.prepend(div);\n};\nsetDimensions_fn = function() {\n  const {\n    viewport\n  } = this;\n  if (this.pdfPage) {\n    if (__privateGet(this, _previousRotation) === viewport.rotation) {\n      return;\n    }\n    __privateSet(this, _previousRotation, viewport.rotation);\n  }\n  setLayerDimensions(this.div, viewport, true, false);\n};\ndispatchLayerRendered_fn = function(name, error) {\n  this.eventBus.dispatch(name, {\n    source: this,\n    pageNumber: this.id,\n    error\n  });\n};\nrenderAnnotationLayer_fn = async function() {\n  let error = null;\n  try {\n    await this.annotationLayer.render(this.viewport, \"display\");\n  } catch (ex) {\n    console.error(`#renderAnnotationLayer: \"${ex}\".`);\n    error = ex;\n  } finally {\n    __privateMethod(this, _PDFPageView_instances, dispatchLayerRendered_fn).call(this, \"annotationlayerrendered\", error);\n  }\n};\nrenderAnnotationEditorLayer_fn = async function() {\n  let error = null;\n  try {\n    await this.annotationEditorLayer.render(this.viewport, \"display\");\n  } catch (ex) {\n    console.error(`#renderAnnotationEditorLayer: \"${ex}\".`);\n    error = ex;\n  } finally {\n    __privateMethod(this, _PDFPageView_instances, dispatchLayerRendered_fn).call(this, \"annotationeditorlayerrendered\", error);\n  }\n};\nrenderDrawLayer_fn = async function() {\n  try {\n    await this.drawLayer.render(\"display\");\n  } catch (ex) {\n    console.error(`#renderDrawLayer: \"${ex}\".`);\n  }\n};\nrenderXfaLayer_fn = async function() {\n  var _a;\n  let error = null;\n  try {\n    const result = await this.xfaLayer.render(this.viewport, \"display\");\n    if ((result == null ? void 0 : result.textDivs) && this._textHighlighter) {\n      __privateMethod(this, _PDFPageView_instances, buildXfaTextContentItems_fn).call(this, result.textDivs);\n    }\n  } catch (ex) {\n    console.error(`#renderXfaLayer: \"${ex}\".`);\n    error = ex;\n  } finally {\n    if ((_a = this.xfaLayer) == null ? void 0 : _a.div) {\n      this.l10n.pause();\n      __privateMethod(this, _PDFPageView_instances, addLayer_fn).call(this, this.xfaLayer.div, \"xfaLayer\");\n      this.l10n.resume();\n    }\n    __privateMethod(this, _PDFPageView_instances, dispatchLayerRendered_fn).call(this, \"xfalayerrendered\", error);\n  }\n};\nrenderTextLayer_fn = async function() {\n  if (!this.textLayer) {\n    return;\n  }\n  let error = null;\n  try {\n    await this.textLayer.render(this.viewport);\n  } catch (ex) {\n    if (ex instanceof AbortException) {\n      return;\n    }\n    console.error(`#renderTextLayer: \"${ex}\".`);\n    error = ex;\n  }\n  __privateMethod(this, _PDFPageView_instances, dispatchLayerRendered_fn).call(this, \"textlayerrendered\", error);\n  __privateMethod(this, _PDFPageView_instances, renderStructTreeLayer_fn).call(this);\n};\nrenderStructTreeLayer_fn = async function() {\n  var _a, _b, _c;\n  if (!this.textLayer) {\n    return;\n  }\n  this.structTreeLayer || (this.structTreeLayer = new StructTreeLayerBuilder());\n  const tree = await (!this.structTreeLayer.renderingDone ? this.pdfPage.getStructTree() : null);\n  const treeDom = (_a = this.structTreeLayer) == null ? void 0 : _a.render(tree);\n  if (treeDom) {\n    this.l10n.pause();\n    (_b = this.canvas) == null ? void 0 : _b.append(treeDom);\n    this.l10n.resume();\n  }\n  (_c = this.structTreeLayer) == null ? void 0 : _c.show();\n};\nbuildXfaTextContentItems_fn = async function(textDivs) {\n  const text = await this.pdfPage.getTextContent();\n  const items = [];\n  for (const item of text.items) {\n    items.push(item.str);\n  }\n  this._textHighlighter.setTextMapping(textDivs, items);\n  this._textHighlighter.enable();\n};\nfinishRenderTask_fn = async function(renderTask, error = null) {\n  if (renderTask === this.renderTask) {\n    this.renderTask = null;\n  }\n  if (error instanceof RenderingCancelledException) {\n    __privateSet(this, _renderError, null);\n    return;\n  }\n  __privateSet(this, _renderError, error);\n  this.renderingState = RenderingStates.FINISHED;\n  this._resetZoomLayer(true);\n  __privateGet(this, _useThumbnailCanvas).regularAnnotations = !renderTask.separateAnnots;\n  this.eventBus.dispatch(\"pagerendered\", {\n    source: this,\n    pageNumber: this.id,\n    cssTransform: false,\n    timestamp: performance.now(),\n    error: __privateGet(this, _renderError)\n  });\n  if (error) {\n    throw error;\n  }\n};\nasync function docProperties(pdfDocument) {\n  const url = \"\", baseUrl = url.split(\"#\", 1)[0];\n  let {\n    info,\n    metadata,\n    contentDispositionFilename,\n    contentLength\n  } = await pdfDocument.getMetadata();\n  if (!contentLength) {\n    const {\n      length\n    } = await pdfDocument.getDownloadInfo();\n    contentLength = length;\n  }\n  return {\n    ...info,\n    baseURL: baseUrl,\n    filesize: contentLength,\n    filename: contentDispositionFilename || getPdfFilenameFromUrl(url),\n    metadata: metadata == null ? void 0 : metadata.getRaw(),\n    authors: metadata == null ? void 0 : metadata.get(\"dc:creator\"),\n    numPages: pdfDocument.numPages,\n    URL: url\n  };\n}\nclass GenericScripting {\n  constructor(sandboxBundleSrc) {\n    this._ready = new Promise((resolve, reject) => {\n      const sandbox = import(\n        /*webpackIgnore: true*/\n        sandboxBundleSrc\n      );\n      sandbox.then((pdfjsSandbox) => {\n        resolve(pdfjsSandbox.QuickJSSandbox());\n      }).catch(reject);\n    });\n  }\n  async createSandbox(data) {\n    const sandbox = await this._ready;\n    sandbox.create(data);\n  }\n  async dispatchEventInSandbox(event) {\n    const sandbox = await this._ready;\n    setTimeout(() => sandbox.dispatchEvent(event), 0);\n  }\n  async destroySandbox() {\n    const sandbox = await this._ready;\n    sandbox.nukeSandbox();\n  }\n}\nclass PDFScriptingManager {\n  constructor({\n    eventBus,\n    externalServices = null,\n    docProperties: docProperties2 = null\n  }) {\n    __privateAdd(this, _PDFScriptingManager_instances);\n    __privateAdd(this, _closeCapability, null);\n    __privateAdd(this, _destroyCapability, null);\n    __privateAdd(this, _docProperties, null);\n    __privateAdd(this, _eventAbortController4, null);\n    __privateAdd(this, _eventBus, null);\n    __privateAdd(this, _externalServices, null);\n    __privateAdd(this, _pdfDocument, null);\n    __privateAdd(this, _pdfViewer, null);\n    __privateAdd(this, _ready, false);\n    __privateAdd(this, _scripting, null);\n    __privateAdd(this, _willPrintCapability, null);\n    __privateSet(this, _eventBus, eventBus);\n    __privateSet(this, _externalServices, externalServices);\n    __privateSet(this, _docProperties, docProperties2);\n  }\n  setViewer(pdfViewer) {\n    __privateSet(this, _pdfViewer, pdfViewer);\n  }\n  async setDocument(pdfDocument) {\n    var _a;\n    if (__privateGet(this, _pdfDocument)) {\n      await __privateMethod(this, _PDFScriptingManager_instances, destroyScripting_fn).call(this);\n    }\n    __privateSet(this, _pdfDocument, pdfDocument);\n    if (!pdfDocument) {\n      return;\n    }\n    const [objects, calculationOrder, docActions] = await Promise.all([pdfDocument.getFieldObjects(), pdfDocument.getCalculationOrderIds(), pdfDocument.getJSActions()]);\n    if (!objects && !docActions) {\n      await __privateMethod(this, _PDFScriptingManager_instances, destroyScripting_fn).call(this);\n      return;\n    }\n    if (pdfDocument !== __privateGet(this, _pdfDocument)) {\n      return;\n    }\n    try {\n      __privateSet(this, _scripting, __privateMethod(this, _PDFScriptingManager_instances, initScripting_fn).call(this));\n    } catch (error) {\n      console.error(`setDocument: \"${error.message}\".`);\n      await __privateMethod(this, _PDFScriptingManager_instances, destroyScripting_fn).call(this);\n      return;\n    }\n    const eventBus = __privateGet(this, _eventBus);\n    __privateSet(this, _eventAbortController4, new AbortController());\n    const {\n      signal\n    } = __privateGet(this, _eventAbortController4);\n    eventBus._on(\"updatefromsandbox\", (event) => {\n      if ((event == null ? void 0 : event.source) === window) {\n        __privateMethod(this, _PDFScriptingManager_instances, updateFromSandbox_fn).call(this, event.detail);\n      }\n    }, {\n      signal\n    });\n    eventBus._on(\"dispatcheventinsandbox\", (event) => {\n      var _a2;\n      (_a2 = __privateGet(this, _scripting)) == null ? void 0 : _a2.dispatchEventInSandbox(event.detail);\n    }, {\n      signal\n    });\n    eventBus._on(\"pagechanging\", ({\n      pageNumber,\n      previous\n    }) => {\n      if (pageNumber === previous) {\n        return;\n      }\n      __privateMethod(this, _PDFScriptingManager_instances, dispatchPageClose_fn).call(this, previous);\n      __privateMethod(this, _PDFScriptingManager_instances, dispatchPageOpen_fn).call(this, pageNumber);\n    }, {\n      signal\n    });\n    eventBus._on(\"pagerendered\", ({\n      pageNumber\n    }) => {\n      if (!this._pageOpenPending.has(pageNumber)) {\n        return;\n      }\n      if (pageNumber !== __privateGet(this, _pdfViewer).currentPageNumber) {\n        return;\n      }\n      __privateMethod(this, _PDFScriptingManager_instances, dispatchPageOpen_fn).call(this, pageNumber);\n    }, {\n      signal\n    });\n    eventBus._on(\"pagesdestroy\", async () => {\n      var _a2, _b;\n      await __privateMethod(this, _PDFScriptingManager_instances, dispatchPageClose_fn).call(this, __privateGet(this, _pdfViewer).currentPageNumber);\n      await ((_a2 = __privateGet(this, _scripting)) == null ? void 0 : _a2.dispatchEventInSandbox({\n        id: \"doc\",\n        name: \"WillClose\"\n      }));\n      (_b = __privateGet(this, _closeCapability)) == null ? void 0 : _b.resolve();\n    }, {\n      signal\n    });\n    try {\n      const docProperties2 = await __privateGet(this, _docProperties).call(this, pdfDocument);\n      if (pdfDocument !== __privateGet(this, _pdfDocument)) {\n        return;\n      }\n      await __privateGet(this, _scripting).createSandbox({\n        objects,\n        calculationOrder,\n        appInfo: {\n          platform: navigator.platform,\n          language: navigator.language\n        },\n        docInfo: {\n          ...docProperties2,\n          actions: docActions\n        }\n      });\n      eventBus.dispatch(\"sandboxcreated\", {\n        source: this\n      });\n    } catch (error) {\n      console.error(`setDocument: \"${error.message}\".`);\n      await __privateMethod(this, _PDFScriptingManager_instances, destroyScripting_fn).call(this);\n      return;\n    }\n    await ((_a = __privateGet(this, _scripting)) == null ? void 0 : _a.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"Open\"\n    }));\n    await __privateMethod(this, _PDFScriptingManager_instances, dispatchPageOpen_fn).call(this, __privateGet(this, _pdfViewer).currentPageNumber, true);\n    Promise.resolve().then(() => {\n      if (pdfDocument === __privateGet(this, _pdfDocument)) {\n        __privateSet(this, _ready, true);\n      }\n    });\n  }\n  async dispatchWillSave() {\n    var _a;\n    return (_a = __privateGet(this, _scripting)) == null ? void 0 : _a.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"WillSave\"\n    });\n  }\n  async dispatchDidSave() {\n    var _a;\n    return (_a = __privateGet(this, _scripting)) == null ? void 0 : _a.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"DidSave\"\n    });\n  }\n  async dispatchWillPrint() {\n    var _a;\n    if (!__privateGet(this, _scripting)) {\n      return;\n    }\n    await ((_a = __privateGet(this, _willPrintCapability)) == null ? void 0 : _a.promise);\n    __privateSet(this, _willPrintCapability, Promise.withResolvers());\n    try {\n      await __privateGet(this, _scripting).dispatchEventInSandbox({\n        id: \"doc\",\n        name: \"WillPrint\"\n      });\n    } catch (ex) {\n      __privateGet(this, _willPrintCapability).resolve();\n      __privateSet(this, _willPrintCapability, null);\n      throw ex;\n    }\n    await __privateGet(this, _willPrintCapability).promise;\n  }\n  async dispatchDidPrint() {\n    var _a;\n    return (_a = __privateGet(this, _scripting)) == null ? void 0 : _a.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"DidPrint\"\n    });\n  }\n  get destroyPromise() {\n    var _a;\n    return ((_a = __privateGet(this, _destroyCapability)) == null ? void 0 : _a.promise) || null;\n  }\n  get ready() {\n    return __privateGet(this, _ready);\n  }\n  get _pageOpenPending() {\n    return shadow(this, \"_pageOpenPending\", /* @__PURE__ */ new Set());\n  }\n  get _visitedPages() {\n    return shadow(this, \"_visitedPages\", /* @__PURE__ */ new Map());\n  }\n}\n_closeCapability = new WeakMap();\n_destroyCapability = new WeakMap();\n_docProperties = new WeakMap();\n_eventAbortController4 = new WeakMap();\n_eventBus = new WeakMap();\n_externalServices = new WeakMap();\n_pdfDocument = new WeakMap();\n_pdfViewer = new WeakMap();\n_ready = new WeakMap();\n_scripting = new WeakMap();\n_willPrintCapability = new WeakMap();\n_PDFScriptingManager_instances = new WeakSet();\nupdateFromSandbox_fn = async function(detail) {\n  var _a, _b;\n  const pdfViewer = __privateGet(this, _pdfViewer);\n  const isInPresentationMode = pdfViewer.isInPresentationMode || pdfViewer.isChangingPresentationMode;\n  const {\n    id,\n    siblings,\n    command,\n    value\n  } = detail;\n  if (!id) {\n    switch (command) {\n      case \"clear\":\n        console.clear();\n        break;\n      case \"error\":\n        console.error(value);\n        break;\n      case \"layout\":\n        if (!isInPresentationMode) {\n          const modes = apiPageLayoutToViewerModes(value);\n          pdfViewer.spreadMode = modes.spreadMode;\n        }\n        break;\n      case \"page-num\":\n        pdfViewer.currentPageNumber = value + 1;\n        break;\n      case \"print\":\n        await pdfViewer.pagesPromise;\n        __privateGet(this, _eventBus).dispatch(\"print\", {\n          source: this\n        });\n        break;\n      case \"println\":\n        console.log(value);\n        break;\n      case \"zoom\":\n        if (!isInPresentationMode) {\n          pdfViewer.currentScaleValue = value;\n        }\n        break;\n      case \"SaveAs\":\n        __privateGet(this, _eventBus).dispatch(\"download\", {\n          source: this\n        });\n        break;\n      case \"FirstPage\":\n        pdfViewer.currentPageNumber = 1;\n        break;\n      case \"LastPage\":\n        pdfViewer.currentPageNumber = pdfViewer.pagesCount;\n        break;\n      case \"NextPage\":\n        pdfViewer.nextPage();\n        break;\n      case \"PrevPage\":\n        pdfViewer.previousPage();\n        break;\n      case \"ZoomViewIn\":\n        if (!isInPresentationMode) {\n          pdfViewer.increaseScale();\n        }\n        break;\n      case \"ZoomViewOut\":\n        if (!isInPresentationMode) {\n          pdfViewer.decreaseScale();\n        }\n        break;\n      case \"WillPrintFinished\":\n        (_a = __privateGet(this, _willPrintCapability)) == null ? void 0 : _a.resolve();\n        __privateSet(this, _willPrintCapability, null);\n        break;\n    }\n    return;\n  }\n  if (isInPresentationMode && detail.focus) {\n    return;\n  }\n  delete detail.id;\n  delete detail.siblings;\n  const ids = siblings ? [id, ...siblings] : [id];\n  for (const elementId of ids) {\n    const element = document.querySelector(`[data-element-id=\"${elementId}\"]`);\n    if (element) {\n      element.dispatchEvent(new CustomEvent(\"updatefromsandbox\", {\n        detail\n      }));\n    } else {\n      (_b = __privateGet(this, _pdfDocument)) == null ? void 0 : _b.annotationStorage.setValue(elementId, detail);\n    }\n  }\n};\ndispatchPageOpen_fn = async function(pageNumber, initialize = false) {\n  const pdfDocument = __privateGet(this, _pdfDocument), visitedPages = this._visitedPages;\n  if (initialize) {\n    __privateSet(this, _closeCapability, Promise.withResolvers());\n  }\n  if (!__privateGet(this, _closeCapability)) {\n    return;\n  }\n  const pageView = __privateGet(this, _pdfViewer).getPageView(pageNumber - 1);\n  if ((pageView == null ? void 0 : pageView.renderingState) !== RenderingStates.FINISHED) {\n    this._pageOpenPending.add(pageNumber);\n    return;\n  }\n  this._pageOpenPending.delete(pageNumber);\n  const actionsPromise = (async () => {\n    var _a, _b;\n    const actions = await (!visitedPages.has(pageNumber) ? (_a = pageView.pdfPage) == null ? void 0 : _a.getJSActions() : null);\n    if (pdfDocument !== __privateGet(this, _pdfDocument)) {\n      return;\n    }\n    await ((_b = __privateGet(this, _scripting)) == null ? void 0 : _b.dispatchEventInSandbox({\n      id: \"page\",\n      name: \"PageOpen\",\n      pageNumber,\n      actions\n    }));\n  })();\n  visitedPages.set(pageNumber, actionsPromise);\n};\ndispatchPageClose_fn = async function(pageNumber) {\n  var _a;\n  const pdfDocument = __privateGet(this, _pdfDocument), visitedPages = this._visitedPages;\n  if (!__privateGet(this, _closeCapability)) {\n    return;\n  }\n  if (this._pageOpenPending.has(pageNumber)) {\n    return;\n  }\n  const actionsPromise = visitedPages.get(pageNumber);\n  if (!actionsPromise) {\n    return;\n  }\n  visitedPages.set(pageNumber, null);\n  await actionsPromise;\n  if (pdfDocument !== __privateGet(this, _pdfDocument)) {\n    return;\n  }\n  await ((_a = __privateGet(this, _scripting)) == null ? void 0 : _a.dispatchEventInSandbox({\n    id: \"page\",\n    name: \"PageClose\",\n    pageNumber\n  }));\n};\ninitScripting_fn = function() {\n  __privateSet(this, _destroyCapability, Promise.withResolvers());\n  if (__privateGet(this, _scripting)) {\n    throw new Error(\"#initScripting: Scripting already exists.\");\n  }\n  return __privateGet(this, _externalServices).createScripting();\n};\ndestroyScripting_fn = async function() {\n  var _a, _b, _c, _d;\n  if (!__privateGet(this, _scripting)) {\n    __privateSet(this, _pdfDocument, null);\n    (_a = __privateGet(this, _destroyCapability)) == null ? void 0 : _a.resolve();\n    return;\n  }\n  if (__privateGet(this, _closeCapability)) {\n    await Promise.race([__privateGet(this, _closeCapability).promise, new Promise((resolve) => {\n      setTimeout(resolve, 1e3);\n    })]).catch(() => {\n    });\n    __privateSet(this, _closeCapability, null);\n  }\n  __privateSet(this, _pdfDocument, null);\n  try {\n    await __privateGet(this, _scripting).destroySandbox();\n  } catch {\n  }\n  (_b = __privateGet(this, _willPrintCapability)) == null ? void 0 : _b.reject(new Error(\"Scripting destroyed.\"));\n  __privateSet(this, _willPrintCapability, null);\n  (_c = __privateGet(this, _eventAbortController4)) == null ? void 0 : _c.abort();\n  __privateSet(this, _eventAbortController4, null);\n  this._pageOpenPending.clear();\n  this._visitedPages.clear();\n  __privateSet(this, _scripting, null);\n  __privateSet(this, _ready, false);\n  (_d = __privateGet(this, _destroyCapability)) == null ? void 0 : _d.resolve();\n};\nclass PDFScriptingManagerComponents extends PDFScriptingManager {\n  constructor(options) {\n    if (!options.externalServices) {\n      window.addEventListener(\"updatefromsandbox\", (event) => {\n        options.eventBus.dispatch(\"updatefromsandbox\", {\n          source: window,\n          detail: event.detail\n        });\n      });\n    }\n    options.externalServices || (options.externalServices = {\n      createScripting: () => new GenericScripting(options.sandboxBundleSrc)\n    });\n    options.docProperties || (options.docProperties = (pdfDocument) => docProperties(pdfDocument));\n    super(options);\n  }\n}\nconst CLEANUP_TIMEOUT = 3e4;\nclass PDFRenderingQueue {\n  constructor() {\n    this.pdfViewer = null;\n    this.pdfThumbnailViewer = null;\n    this.onIdle = null;\n    this.highestPriorityPage = null;\n    this.idleTimeout = null;\n    this.printing = false;\n    this.isThumbnailViewEnabled = false;\n    Object.defineProperty(this, \"hasViewer\", {\n      value: () => !!this.pdfViewer\n    });\n  }\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n  setThumbnailViewer(pdfThumbnailViewer) {\n    this.pdfThumbnailViewer = pdfThumbnailViewer;\n  }\n  isHighestPriority(view) {\n    return this.highestPriorityPage === view.renderingId;\n  }\n  renderHighestPriority(currentlyVisiblePages) {\n    var _a;\n    if (this.idleTimeout) {\n      clearTimeout(this.idleTimeout);\n      this.idleTimeout = null;\n    }\n    if (this.pdfViewer.forceRendering(currentlyVisiblePages)) {\n      return;\n    }\n    if (this.isThumbnailViewEnabled && ((_a = this.pdfThumbnailViewer) == null ? void 0 : _a.forceRendering())) {\n      return;\n    }\n    if (this.printing) {\n      return;\n    }\n    if (this.onIdle) {\n      this.idleTimeout = setTimeout(this.onIdle.bind(this), CLEANUP_TIMEOUT);\n    }\n  }\n  getHighestPriority(visible, views, scrolledDown, preRenderExtra = false) {\n    const visibleViews = visible.views, numVisible = visibleViews.length;\n    if (numVisible === 0) {\n      return null;\n    }\n    for (let i = 0; i < numVisible; i++) {\n      const view = visibleViews[i].view;\n      if (!this.isViewFinished(view)) {\n        return view;\n      }\n    }\n    const firstId = visible.first.id, lastId = visible.last.id;\n    if (lastId - firstId + 1 > numVisible) {\n      const visibleIds = visible.ids;\n      for (let i = 1, ii = lastId - firstId; i < ii; i++) {\n        const holeId = scrolledDown ? firstId + i : lastId - i;\n        if (visibleIds.has(holeId)) {\n          continue;\n        }\n        const holeView = views[holeId - 1];\n        if (!this.isViewFinished(holeView)) {\n          return holeView;\n        }\n      }\n    }\n    let preRenderIndex = scrolledDown ? lastId : firstId - 2;\n    let preRenderView = views[preRenderIndex];\n    if (preRenderView && !this.isViewFinished(preRenderView)) {\n      return preRenderView;\n    }\n    if (preRenderExtra) {\n      preRenderIndex += scrolledDown ? 1 : -1;\n      preRenderView = views[preRenderIndex];\n      if (preRenderView && !this.isViewFinished(preRenderView)) {\n        return preRenderView;\n      }\n    }\n    return null;\n  }\n  isViewFinished(view) {\n    return view.renderingState === RenderingStates.FINISHED;\n  }\n  renderView(view) {\n    switch (view.renderingState) {\n      case RenderingStates.FINISHED:\n        return false;\n      case RenderingStates.PAUSED:\n        this.highestPriorityPage = view.renderingId;\n        view.resume();\n        break;\n      case RenderingStates.RUNNING:\n        this.highestPriorityPage = view.renderingId;\n        break;\n      case RenderingStates.INITIAL:\n        this.highestPriorityPage = view.renderingId;\n        view.draw().finally(() => {\n          this.renderHighestPriority();\n        }).catch((reason) => {\n          if (reason instanceof RenderingCancelledException) {\n            return;\n          }\n          console.error(`renderView: \"${reason}\"`);\n        });\n        break;\n    }\n    return true;\n  }\n}\nconst DEFAULT_CACHE_SIZE = 10;\nconst PagesCountLimit = {\n  FORCE_SCROLL_MODE_PAGE: 1e4,\n  FORCE_LAZY_PAGE_INIT: 5e3,\n  PAUSE_EAGER_PAGE_INIT: 250\n};\nfunction isValidAnnotationEditorMode(mode) {\n  return Object.values(AnnotationEditorType).includes(mode) && mode !== AnnotationEditorType.DISABLE;\n}\nclass PDFPageViewBuffer {\n  constructor(size) {\n    __privateAdd(this, _PDFPageViewBuffer_instances);\n    __privateAdd(this, _buf, /* @__PURE__ */ new Set());\n    __privateAdd(this, _size, 0);\n    __privateSet(this, _size, size);\n  }\n  push(view) {\n    const buf = __privateGet(this, _buf);\n    if (buf.has(view)) {\n      buf.delete(view);\n    }\n    buf.add(view);\n    if (buf.size > __privateGet(this, _size)) {\n      __privateMethod(this, _PDFPageViewBuffer_instances, destroyFirstView_fn).call(this);\n    }\n  }\n  resize(newSize, idsToKeep = null) {\n    __privateSet(this, _size, newSize);\n    const buf = __privateGet(this, _buf);\n    if (idsToKeep) {\n      const ii = buf.size;\n      let i = 1;\n      for (const view of buf) {\n        if (idsToKeep.has(view.id)) {\n          buf.delete(view);\n          buf.add(view);\n        }\n        if (++i > ii) {\n          break;\n        }\n      }\n    }\n    while (buf.size > __privateGet(this, _size)) {\n      __privateMethod(this, _PDFPageViewBuffer_instances, destroyFirstView_fn).call(this);\n    }\n  }\n  has(view) {\n    return __privateGet(this, _buf).has(view);\n  }\n  [Symbol.iterator]() {\n    return __privateGet(this, _buf).keys();\n  }\n}\n_buf = new WeakMap();\n_size = new WeakMap();\n_PDFPageViewBuffer_instances = new WeakSet();\ndestroyFirstView_fn = function() {\n  const firstView = __privateGet(this, _buf).keys().next().value;\n  firstView == null ? void 0 : firstView.destroy();\n  __privateGet(this, _buf).delete(firstView);\n};\nclass PDFViewer {\n  constructor(options) {\n    __privateAdd(this, _PDFViewer_instances);\n    __privateAdd(this, _buffer, null);\n    __privateAdd(this, _altTextManager, null);\n    __privateAdd(this, _annotationEditorHighlightColors, null);\n    __privateAdd(this, _annotationEditorMode, AnnotationEditorType.NONE);\n    __privateAdd(this, _annotationEditorUIManager, null);\n    __privateAdd(this, _annotationMode2, AnnotationMode.ENABLE_FORMS);\n    __privateAdd(this, _containerTopLeft, null);\n    __privateAdd(this, _enableHWA2, false);\n    __privateAdd(this, _enableHighlightFloatingButton, false);\n    __privateAdd(this, _enablePermissions2, false);\n    __privateAdd(this, _eventAbortController5, null);\n    __privateAdd(this, _mlManager, null);\n    __privateAdd(this, _getAllTextInProgress, false);\n    __privateAdd(this, _hiddenCopyElement, null);\n    __privateAdd(this, _interruptCopyCondition, false);\n    __privateAdd(this, _previousContainerHeight, 0);\n    __privateAdd(this, _resizeObserver, new ResizeObserver(__privateMethod(this, _PDFViewer_instances, resizeObserverCallback_fn).bind(this)));\n    __privateAdd(this, _scrollModePageState, null);\n    __privateAdd(this, _scaleTimeoutId, null);\n    __privateAdd(this, _textLayerMode2, TextLayerMode.ENABLE);\n    var _a, _b;\n    const viewerVersion = \"4.4.168\";\n    if (version !== viewerVersion) {\n      throw new Error(`The API version \"${version}\" does not match the Viewer version \"${viewerVersion}\".`);\n    }\n    this.container = options.container;\n    this.viewer = options.viewer || options.container.firstElementChild;\n    if (((_a = this.container) == null ? void 0 : _a.tagName) !== \"DIV\" || ((_b = this.viewer) == null ? void 0 : _b.tagName) !== \"DIV\") {\n      throw new Error(\"Invalid `container` and/or `viewer` option.\");\n    }\n    if (this.container.offsetParent && getComputedStyle(this.container).position !== \"absolute\") {\n      throw new Error(\"The `container` must be absolutely positioned.\");\n    }\n    __privateGet(this, _resizeObserver).observe(this.container);\n    this.eventBus = options.eventBus;\n    this.linkService = options.linkService || new SimpleLinkService();\n    this.downloadManager = options.downloadManager || null;\n    this.findController = options.findController || null;\n    __privateSet(this, _altTextManager, options.altTextManager || null);\n    if (this.findController) {\n      this.findController.onIsPageVisible = (pageNumber) => this._getVisiblePages().ids.has(pageNumber);\n    }\n    this._scriptingManager = options.scriptingManager || null;\n    __privateSet(this, _textLayerMode2, options.textLayerMode ?? TextLayerMode.ENABLE);\n    __privateSet(this, _annotationMode2, options.annotationMode ?? AnnotationMode.ENABLE_FORMS);\n    __privateSet(this, _annotationEditorMode, options.annotationEditorMode ?? AnnotationEditorType.NONE);\n    __privateSet(this, _annotationEditorHighlightColors, options.annotationEditorHighlightColors || null);\n    __privateSet(this, _enableHighlightFloatingButton, options.enableHighlightFloatingButton === true);\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.enablePrintAutoRotate = options.enablePrintAutoRotate || false;\n    this.removePageBorders = options.removePageBorders || false;\n    this.maxCanvasPixels = options.maxCanvasPixels;\n    this.l10n = options.l10n;\n    this.l10n || (this.l10n = new genericl10n_GenericL10n());\n    __privateSet(this, _enablePermissions2, options.enablePermissions || false);\n    this.pageColors = options.pageColors || null;\n    __privateSet(this, _mlManager, options.mlManager || null);\n    __privateSet(this, _enableHWA2, options.enableHWA || false);\n    this.defaultRenderingQueue = !options.renderingQueue;\n    if (this.defaultRenderingQueue) {\n      this.renderingQueue = new PDFRenderingQueue();\n      this.renderingQueue.setViewer(this);\n    } else {\n      this.renderingQueue = options.renderingQueue;\n    }\n    const {\n      abortSignal\n    } = options;\n    abortSignal == null ? void 0 : abortSignal.addEventListener(\"abort\", () => {\n      __privateGet(this, _resizeObserver).disconnect();\n      __privateSet(this, _resizeObserver, null);\n    }, {\n      once: true\n    });\n    this.scroll = watchScroll(this.container, this._scrollUpdate.bind(this), abortSignal);\n    this.presentationModeState = PresentationModeState.UNKNOWN;\n    this._resetView();\n    if (this.removePageBorders) {\n      this.viewer.classList.add(\"removePageBorders\");\n    }\n    __privateMethod(this, _PDFViewer_instances, updateContainerHeightCss_fn).call(this);\n    this.eventBus._on(\"thumbnailrendered\", ({\n      pageNumber,\n      pdfPage\n    }) => {\n      const pageView = this._pages[pageNumber - 1];\n      if (!__privateGet(this, _buffer).has(pageView)) {\n        pdfPage == null ? void 0 : pdfPage.cleanup();\n      }\n    });\n    if (!options.l10n) {\n      this.l10n.translate(this.container);\n    }\n  }\n  get pagesCount() {\n    return this._pages.length;\n  }\n  getPageView(index) {\n    return this._pages[index];\n  }\n  getCachedPageViews() {\n    return new Set(__privateGet(this, _buffer));\n  }\n  get pageViewsReady() {\n    return this._pages.every((pageView) => pageView == null ? void 0 : pageView.pdfPage);\n  }\n  get renderForms() {\n    return __privateGet(this, _annotationMode2) === AnnotationMode.ENABLE_FORMS;\n  }\n  get enableScripting() {\n    return !!this._scriptingManager;\n  }\n  get currentPageNumber() {\n    return this._currentPageNumber;\n  }\n  set currentPageNumber(val) {\n    if (!Number.isInteger(val)) {\n      throw new Error(\"Invalid page number.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!this._setCurrentPageNumber(val, true)) {\n      console.error(`currentPageNumber: \"${val}\" is not a valid page.`);\n    }\n  }\n  _setCurrentPageNumber(val, resetCurrentPageView = false) {\n    var _a;\n    if (this._currentPageNumber === val) {\n      if (resetCurrentPageView) {\n        __privateMethod(this, _PDFViewer_instances, resetCurrentPageView_fn).call(this);\n      }\n      return true;\n    }\n    if (!(0 < val && val <= this.pagesCount)) {\n      return false;\n    }\n    const previous = this._currentPageNumber;\n    this._currentPageNumber = val;\n    this.eventBus.dispatch(\"pagechanging\", {\n      source: this,\n      pageNumber: val,\n      pageLabel: ((_a = this._pageLabels) == null ? void 0 : _a[val - 1]) ?? null,\n      previous\n    });\n    if (resetCurrentPageView) {\n      __privateMethod(this, _PDFViewer_instances, resetCurrentPageView_fn).call(this);\n    }\n    return true;\n  }\n  get currentPageLabel() {\n    var _a;\n    return ((_a = this._pageLabels) == null ? void 0 : _a[this._currentPageNumber - 1]) ?? null;\n  }\n  set currentPageLabel(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    let page = val | 0;\n    if (this._pageLabels) {\n      const i = this._pageLabels.indexOf(val);\n      if (i >= 0) {\n        page = i + 1;\n      }\n    }\n    if (!this._setCurrentPageNumber(page, true)) {\n      console.error(`currentPageLabel: \"${val}\" is not a valid page.`);\n    }\n  }\n  get currentScale() {\n    return this._currentScale !== UNKNOWN_SCALE ? this._currentScale : DEFAULT_SCALE;\n  }\n  set currentScale(val) {\n    if (isNaN(val)) {\n      throw new Error(\"Invalid numeric scale.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, val, {\n      noScroll: false\n    });\n  }\n  get currentScaleValue() {\n    return this._currentScaleValue;\n  }\n  set currentScaleValue(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, val, {\n      noScroll: false\n    });\n  }\n  get pagesRotation() {\n    return this._pagesRotation;\n  }\n  set pagesRotation(rotation) {\n    if (!isValidRotation(rotation)) {\n      throw new Error(\"Invalid pages rotation angle.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    if (this._pagesRotation === rotation) {\n      return;\n    }\n    this._pagesRotation = rotation;\n    const pageNumber = this._currentPageNumber;\n    this.refresh(true, {\n      rotation\n    });\n    if (this._currentScaleValue) {\n      __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this.eventBus.dispatch(\"rotationchanging\", {\n      source: this,\n      pagesRotation: rotation,\n      pageNumber\n    });\n    if (this.defaultRenderingQueue) {\n      this.update();\n    }\n  }\n  get firstPagePromise() {\n    return this.pdfDocument ? this._firstPageCapability.promise : null;\n  }\n  get onePageRendered() {\n    return this.pdfDocument ? this._onePageRenderedCapability.promise : null;\n  }\n  get pagesPromise() {\n    return this.pdfDocument ? this._pagesCapability.promise : null;\n  }\n  get _layerProperties() {\n    const self = this;\n    return shadow(this, \"_layerProperties\", {\n      get annotationEditorUIManager() {\n        return __privateGet(self, _annotationEditorUIManager);\n      },\n      get annotationStorage() {\n        var _a;\n        return (_a = self.pdfDocument) == null ? void 0 : _a.annotationStorage;\n      },\n      get downloadManager() {\n        return self.downloadManager;\n      },\n      get enableScripting() {\n        return !!self._scriptingManager;\n      },\n      get fieldObjectsPromise() {\n        var _a;\n        return (_a = self.pdfDocument) == null ? void 0 : _a.getFieldObjects();\n      },\n      get findController() {\n        return self.findController;\n      },\n      get hasJSActionsPromise() {\n        var _a;\n        return (_a = self.pdfDocument) == null ? void 0 : _a.hasJSActions();\n      },\n      get linkService() {\n        return self.linkService;\n      }\n    });\n  }\n  async getAllText() {\n    const texts = [];\n    const buffer = [];\n    for (let pageNum = 1, pagesCount = this.pdfDocument.numPages; pageNum <= pagesCount; ++pageNum) {\n      if (__privateGet(this, _interruptCopyCondition)) {\n        return null;\n      }\n      buffer.length = 0;\n      const page = await this.pdfDocument.getPage(pageNum);\n      const {\n        items\n      } = await page.getTextContent();\n      for (const item of items) {\n        if (item.str) {\n          buffer.push(item.str);\n        }\n        if (item.hasEOL) {\n          buffer.push(\"\\n\");\n        }\n      }\n      texts.push(removeNullCharacters(buffer.join(\"\")));\n    }\n    return texts.join(\"\\n\");\n  }\n  setDocument(pdfDocument) {\n    var _a, _b;\n    if (this.pdfDocument) {\n      this.eventBus.dispatch(\"pagesdestroy\", {\n        source: this\n      });\n      this._cancelRendering();\n      this._resetView();\n      (_a = this.findController) == null ? void 0 : _a.setDocument(null);\n      (_b = this._scriptingManager) == null ? void 0 : _b.setDocument(null);\n      if (__privateGet(this, _annotationEditorUIManager)) {\n        __privateGet(this, _annotationEditorUIManager).destroy();\n        __privateSet(this, _annotationEditorUIManager, null);\n      }\n    }\n    this.pdfDocument = pdfDocument;\n    if (!pdfDocument) {\n      return;\n    }\n    const pagesCount = pdfDocument.numPages;\n    const firstPagePromise = pdfDocument.getPage(1);\n    const optionalContentConfigPromise = pdfDocument.getOptionalContentConfig({\n      intent: \"display\"\n    });\n    const permissionsPromise = __privateGet(this, _enablePermissions2) ? pdfDocument.getPermissions() : Promise.resolve();\n    const {\n      eventBus,\n      pageColors,\n      viewer\n    } = this;\n    __privateSet(this, _eventAbortController5, new AbortController());\n    const {\n      signal\n    } = __privateGet(this, _eventAbortController5);\n    if (pagesCount > PagesCountLimit.FORCE_SCROLL_MODE_PAGE) {\n      console.warn(\"Forcing PAGE-scrolling for performance reasons, given the length of the document.\");\n      const mode = this._scrollMode = ScrollMode.PAGE;\n      eventBus.dispatch(\"scrollmodechanged\", {\n        source: this,\n        mode\n      });\n    }\n    this._pagesCapability.promise.then(() => {\n      eventBus.dispatch(\"pagesloaded\", {\n        source: this,\n        pagesCount\n      });\n    }, () => {\n    });\n    const onBeforeDraw = (evt) => {\n      const pageView = this._pages[evt.pageNumber - 1];\n      if (!pageView) {\n        return;\n      }\n      __privateGet(this, _buffer).push(pageView);\n    };\n    eventBus._on(\"pagerender\", onBeforeDraw, {\n      signal\n    });\n    const onAfterDraw = (evt) => {\n      if (evt.cssTransform) {\n        return;\n      }\n      this._onePageRenderedCapability.resolve({\n        timestamp: evt.timestamp\n      });\n      eventBus._off(\"pagerendered\", onAfterDraw);\n    };\n    eventBus._on(\"pagerendered\", onAfterDraw, {\n      signal\n    });\n    Promise.all([firstPagePromise, permissionsPromise]).then(([firstPdfPage, permissions]) => {\n      var _a2;\n      if (pdfDocument !== this.pdfDocument) {\n        return;\n      }\n      this._firstPageCapability.resolve(firstPdfPage);\n      this._optionalContentConfigPromise = optionalContentConfigPromise;\n      const {\n        annotationEditorMode,\n        annotationMode,\n        textLayerMode\n      } = __privateMethod(this, _PDFViewer_instances, initializePermissions_fn).call(this, permissions);\n      if (textLayerMode !== TextLayerMode.DISABLE) {\n        const element = __privateSet(this, _hiddenCopyElement, document.createElement(\"div\"));\n        element.id = \"hiddenCopyElement\";\n        viewer.before(element);\n      }\n      if (annotationEditorMode !== AnnotationEditorType.DISABLE) {\n        const mode = annotationEditorMode;\n        if (pdfDocument.isPureXfa) {\n          console.warn(\"Warning: XFA-editing is not implemented.\");\n        } else if (isValidAnnotationEditorMode(mode)) {\n          __privateSet(this, _annotationEditorUIManager, new AnnotationEditorUIManager(this.container, viewer, __privateGet(this, _altTextManager), eventBus, pdfDocument, pageColors, __privateGet(this, _annotationEditorHighlightColors), __privateGet(this, _enableHighlightFloatingButton), __privateGet(this, _mlManager)));\n          eventBus.dispatch(\"annotationeditoruimanager\", {\n            source: this,\n            uiManager: __privateGet(this, _annotationEditorUIManager)\n          });\n          if (mode !== AnnotationEditorType.NONE) {\n            __privateGet(this, _annotationEditorUIManager).updateMode(mode);\n          }\n        } else {\n          console.error(`Invalid AnnotationEditor mode: ${mode}`);\n        }\n      }\n      const viewerElement = this._scrollMode === ScrollMode.PAGE ? null : viewer;\n      const scale = this.currentScale;\n      const viewport = firstPdfPage.getViewport({\n        scale: scale * PixelsPerInch.PDF_TO_CSS_UNITS\n      });\n      viewer.style.setProperty(\"--scale-factor\", viewport.scale);\n      if ((pageColors == null ? void 0 : pageColors.foreground) === \"CanvasText\" || (pageColors == null ? void 0 : pageColors.background) === \"Canvas\") {\n        viewer.style.setProperty(\"--hcm-highlight-filter\", pdfDocument.filterFactory.addHighlightHCMFilter(\"highlight\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n        viewer.style.setProperty(\"--hcm-highlight-selected-filter\", pdfDocument.filterFactory.addHighlightHCMFilter(\"highlight_selected\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"ButtonText\"));\n      }\n      for (let pageNum = 1; pageNum <= pagesCount; ++pageNum) {\n        const pageView = new PDFPageView({\n          container: viewerElement,\n          eventBus,\n          id: pageNum,\n          scale,\n          defaultViewport: viewport.clone(),\n          optionalContentConfigPromise,\n          renderingQueue: this.renderingQueue,\n          textLayerMode,\n          annotationMode,\n          imageResourcesPath: this.imageResourcesPath,\n          maxCanvasPixels: this.maxCanvasPixels,\n          pageColors,\n          l10n: this.l10n,\n          layerProperties: this._layerProperties,\n          enableHWA: __privateGet(this, _enableHWA2)\n        });\n        this._pages.push(pageView);\n      }\n      (_a2 = this._pages[0]) == null ? void 0 : _a2.setPdfPage(firstPdfPage);\n      if (this._scrollMode === ScrollMode.PAGE) {\n        __privateMethod(this, _PDFViewer_instances, ensurePageViewVisible_fn).call(this);\n      } else if (this._spreadMode !== SpreadMode.NONE) {\n        this._updateSpreadMode();\n      }\n      __privateMethod(this, _PDFViewer_instances, onePageRenderedOrForceFetch_fn).call(this, signal).then(async () => {\n        var _a3, _b2;\n        if (pdfDocument !== this.pdfDocument) {\n          return;\n        }\n        (_a3 = this.findController) == null ? void 0 : _a3.setDocument(pdfDocument);\n        (_b2 = this._scriptingManager) == null ? void 0 : _b2.setDocument(pdfDocument);\n        if (__privateGet(this, _hiddenCopyElement)) {\n          document.addEventListener(\"copy\", __privateMethod(this, _PDFViewer_instances, copyCallback_fn).bind(this, textLayerMode), {\n            signal\n          });\n        }\n        if (__privateGet(this, _annotationEditorUIManager)) {\n          eventBus.dispatch(\"annotationeditormodechanged\", {\n            source: this,\n            mode: __privateGet(this, _annotationEditorMode)\n          });\n        }\n        if (pdfDocument.loadingParams.disableAutoFetch || pagesCount > PagesCountLimit.FORCE_LAZY_PAGE_INIT) {\n          this._pagesCapability.resolve();\n          return;\n        }\n        let getPagesLeft = pagesCount - 1;\n        if (getPagesLeft <= 0) {\n          this._pagesCapability.resolve();\n          return;\n        }\n        for (let pageNum = 2; pageNum <= pagesCount; ++pageNum) {\n          const promise = pdfDocument.getPage(pageNum).then((pdfPage) => {\n            const pageView = this._pages[pageNum - 1];\n            if (!pageView.pdfPage) {\n              pageView.setPdfPage(pdfPage);\n            }\n            if (--getPagesLeft === 0) {\n              this._pagesCapability.resolve();\n            }\n          }, (reason) => {\n            console.error(`Unable to get page ${pageNum} to initialize viewer`, reason);\n            if (--getPagesLeft === 0) {\n              this._pagesCapability.resolve();\n            }\n          });\n          if (pageNum % PagesCountLimit.PAUSE_EAGER_PAGE_INIT === 0) {\n            await promise;\n          }\n        }\n      });\n      eventBus.dispatch(\"pagesinit\", {\n        source: this\n      });\n      pdfDocument.getMetadata().then(({\n        info\n      }) => {\n        if (pdfDocument !== this.pdfDocument) {\n          return;\n        }\n        if (info.Language) {\n          viewer.lang = info.Language;\n        }\n      });\n      if (this.defaultRenderingQueue) {\n        this.update();\n      }\n    }).catch((reason) => {\n      console.error(\"Unable to initialize viewer\", reason);\n      this._pagesCapability.reject(reason);\n    });\n  }\n  setPageLabels(labels) {\n    var _a;\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!labels) {\n      this._pageLabels = null;\n    } else if (!(Array.isArray(labels) && this.pdfDocument.numPages === labels.length)) {\n      this._pageLabels = null;\n      console.error(`setPageLabels: Invalid page labels.`);\n    } else {\n      this._pageLabels = labels;\n    }\n    for (let i = 0, ii = this._pages.length; i < ii; i++) {\n      this._pages[i].setPageLabel(((_a = this._pageLabels) == null ? void 0 : _a[i]) ?? null);\n    }\n  }\n  _resetView() {\n    var _a, _b;\n    this._pages = [];\n    this._currentPageNumber = 1;\n    this._currentScale = UNKNOWN_SCALE;\n    this._currentScaleValue = null;\n    this._pageLabels = null;\n    __privateSet(this, _buffer, new PDFPageViewBuffer(DEFAULT_CACHE_SIZE));\n    this._location = null;\n    this._pagesRotation = 0;\n    this._optionalContentConfigPromise = null;\n    this._firstPageCapability = Promise.withResolvers();\n    this._onePageRenderedCapability = Promise.withResolvers();\n    this._pagesCapability = Promise.withResolvers();\n    this._scrollMode = ScrollMode.VERTICAL;\n    this._previousScrollMode = ScrollMode.UNKNOWN;\n    this._spreadMode = SpreadMode.NONE;\n    __privateSet(this, _scrollModePageState, {\n      previousPageNumber: 1,\n      scrollDown: true,\n      pages: []\n    });\n    (_a = __privateGet(this, _eventAbortController5)) == null ? void 0 : _a.abort();\n    __privateSet(this, _eventAbortController5, null);\n    this.viewer.textContent = \"\";\n    this._updateScrollMode();\n    this.viewer.removeAttribute(\"lang\");\n    (_b = __privateGet(this, _hiddenCopyElement)) == null ? void 0 : _b.remove();\n    __privateSet(this, _hiddenCopyElement, null);\n  }\n  _scrollUpdate() {\n    if (this.pagesCount === 0) {\n      return;\n    }\n    this.update();\n  }\n  pageLabelToPageNumber(label) {\n    if (!this._pageLabels) {\n      return null;\n    }\n    const i = this._pageLabels.indexOf(label);\n    if (i < 0) {\n      return null;\n    }\n    return i + 1;\n  }\n  scrollPageIntoView({\n    pageNumber,\n    destArray = null,\n    allowNegativeOffset = false,\n    ignoreDestinationZoom = false\n  }) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const pageView = Number.isInteger(pageNumber) && this._pages[pageNumber - 1];\n    if (!pageView) {\n      console.error(`scrollPageIntoView: \"${pageNumber}\" is not a valid pageNumber parameter.`);\n      return;\n    }\n    if (this.isInPresentationMode || !destArray) {\n      this._setCurrentPageNumber(pageNumber, true);\n      return;\n    }\n    let x = 0, y = 0;\n    let width = 0, height = 0, widthScale, heightScale;\n    const changeOrientation = pageView.rotation % 180 !== 0;\n    const pageWidth = (changeOrientation ? pageView.height : pageView.width) / pageView.scale / PixelsPerInch.PDF_TO_CSS_UNITS;\n    const pageHeight = (changeOrientation ? pageView.width : pageView.height) / pageView.scale / PixelsPerInch.PDF_TO_CSS_UNITS;\n    let scale = 0;\n    switch (destArray[1].name) {\n      case \"XYZ\":\n        x = destArray[2];\n        y = destArray[3];\n        scale = destArray[4];\n        x = x !== null ? x : 0;\n        y = y !== null ? y : pageHeight;\n        break;\n      case \"Fit\":\n      case \"FitB\":\n        scale = \"page-fit\";\n        break;\n      case \"FitH\":\n      case \"FitBH\":\n        y = destArray[2];\n        scale = \"page-width\";\n        if (y === null && this._location) {\n          x = this._location.left;\n          y = this._location.top;\n        } else if (typeof y !== \"number\" || y < 0) {\n          y = pageHeight;\n        }\n        break;\n      case \"FitV\":\n      case \"FitBV\":\n        x = destArray[2];\n        width = pageWidth;\n        height = pageHeight;\n        scale = \"page-height\";\n        break;\n      case \"FitR\":\n        x = destArray[2];\n        y = destArray[3];\n        width = destArray[4] - x;\n        height = destArray[5] - y;\n        let hPadding = SCROLLBAR_PADDING, vPadding = VERTICAL_PADDING;\n        if (this.removePageBorders) {\n          hPadding = vPadding = 0;\n        }\n        widthScale = (this.container.clientWidth - hPadding) / width / PixelsPerInch.PDF_TO_CSS_UNITS;\n        heightScale = (this.container.clientHeight - vPadding) / height / PixelsPerInch.PDF_TO_CSS_UNITS;\n        scale = Math.min(Math.abs(widthScale), Math.abs(heightScale));\n        break;\n      default:\n        console.error(`scrollPageIntoView: \"${destArray[1].name}\" is not a valid destination type.`);\n        return;\n    }\n    if (!ignoreDestinationZoom) {\n      if (scale && scale !== this._currentScale) {\n        this.currentScaleValue = scale;\n      } else if (this._currentScale === UNKNOWN_SCALE) {\n        this.currentScaleValue = DEFAULT_SCALE_VALUE;\n      }\n    }\n    if (scale === \"page-fit\" && !destArray[4]) {\n      __privateMethod(this, _PDFViewer_instances, scrollIntoView_fn).call(this, pageView);\n      return;\n    }\n    const boundingRect = [pageView.viewport.convertToViewportPoint(x, y), pageView.viewport.convertToViewportPoint(x + width, y + height)];\n    let left = Math.min(boundingRect[0][0], boundingRect[1][0]);\n    let top = Math.min(boundingRect[0][1], boundingRect[1][1]);\n    if (!allowNegativeOffset) {\n      left = Math.max(left, 0);\n      top = Math.max(top, 0);\n    }\n    __privateMethod(this, _PDFViewer_instances, scrollIntoView_fn).call(this, pageView, {\n      left,\n      top\n    });\n  }\n  _updateLocation(firstPage) {\n    const currentScale = this._currentScale;\n    const currentScaleValue = this._currentScaleValue;\n    const normalizedScaleValue = parseFloat(currentScaleValue) === currentScale ? Math.round(currentScale * 1e4) / 100 : currentScaleValue;\n    const pageNumber = firstPage.id;\n    const currentPageView = this._pages[pageNumber - 1];\n    const container = this.container;\n    const topLeft = currentPageView.getPagePoint(container.scrollLeft - firstPage.x, container.scrollTop - firstPage.y);\n    const intLeft = Math.round(topLeft[0]);\n    const intTop = Math.round(topLeft[1]);\n    let pdfOpenParams = `#page=${pageNumber}`;\n    if (!this.isInPresentationMode) {\n      pdfOpenParams += `&zoom=${normalizedScaleValue},${intLeft},${intTop}`;\n    }\n    this._location = {\n      pageNumber,\n      scale: normalizedScaleValue,\n      top: intTop,\n      left: intLeft,\n      rotation: this._pagesRotation,\n      pdfOpenParams\n    };\n  }\n  update() {\n    const visible = this._getVisiblePages();\n    const visiblePages = visible.views, numVisiblePages = visiblePages.length;\n    if (numVisiblePages === 0) {\n      return;\n    }\n    const newCacheSize = Math.max(DEFAULT_CACHE_SIZE, 2 * numVisiblePages + 1);\n    __privateGet(this, _buffer).resize(newCacheSize, visible.ids);\n    this.renderingQueue.renderHighestPriority(visible);\n    const isSimpleLayout = this._spreadMode === SpreadMode.NONE && (this._scrollMode === ScrollMode.PAGE || this._scrollMode === ScrollMode.VERTICAL);\n    const currentId = this._currentPageNumber;\n    let stillFullyVisible = false;\n    for (const page of visiblePages) {\n      if (page.percent < 100) {\n        break;\n      }\n      if (page.id === currentId && isSimpleLayout) {\n        stillFullyVisible = true;\n        break;\n      }\n    }\n    this._setCurrentPageNumber(stillFullyVisible ? currentId : visiblePages[0].id);\n    this._updateLocation(visible.first);\n    this.eventBus.dispatch(\"updateviewarea\", {\n      source: this,\n      location: this._location\n    });\n  }\n  containsElement(element) {\n    return this.container.contains(element);\n  }\n  focus() {\n    this.container.focus();\n  }\n  get _isContainerRtl() {\n    return getComputedStyle(this.container).direction === \"rtl\";\n  }\n  get isInPresentationMode() {\n    return this.presentationModeState === PresentationModeState.FULLSCREEN;\n  }\n  get isChangingPresentationMode() {\n    return this.presentationModeState === PresentationModeState.CHANGING;\n  }\n  get isHorizontalScrollbarEnabled() {\n    return this.isInPresentationMode ? false : this.container.scrollWidth > this.container.clientWidth;\n  }\n  get isVerticalScrollbarEnabled() {\n    return this.isInPresentationMode ? false : this.container.scrollHeight > this.container.clientHeight;\n  }\n  _getVisiblePages() {\n    const views = this._scrollMode === ScrollMode.PAGE ? __privateGet(this, _scrollModePageState).pages : this._pages, horizontal = this._scrollMode === ScrollMode.HORIZONTAL, rtl = horizontal && this._isContainerRtl;\n    return getVisibleElements({\n      scrollEl: this.container,\n      views,\n      sortByVisibility: true,\n      horizontal,\n      rtl\n    });\n  }\n  cleanup() {\n    for (const pageView of this._pages) {\n      if (pageView.renderingState !== RenderingStates.FINISHED) {\n        pageView.reset();\n      }\n    }\n  }\n  _cancelRendering() {\n    for (const pageView of this._pages) {\n      pageView.cancelRendering();\n    }\n  }\n  forceRendering(currentlyVisiblePages) {\n    const visiblePages = currentlyVisiblePages || this._getVisiblePages();\n    const scrollAhead = __privateMethod(this, _PDFViewer_instances, getScrollAhead_fn).call(this, visiblePages);\n    const preRenderExtra = this._spreadMode !== SpreadMode.NONE && this._scrollMode !== ScrollMode.HORIZONTAL;\n    const pageView = this.renderingQueue.getHighestPriority(visiblePages, this._pages, scrollAhead, preRenderExtra);\n    if (pageView) {\n      __privateMethod(this, _PDFViewer_instances, ensurePdfPageLoaded_fn).call(this, pageView).then(() => {\n        this.renderingQueue.renderView(pageView);\n      });\n      return true;\n    }\n    return false;\n  }\n  get hasEqualPageSizes() {\n    const firstPageView = this._pages[0];\n    for (let i = 1, ii = this._pages.length; i < ii; ++i) {\n      const pageView = this._pages[i];\n      if (pageView.width !== firstPageView.width || pageView.height !== firstPageView.height) {\n        return false;\n      }\n    }\n    return true;\n  }\n  getPagesOverview() {\n    let initialOrientation;\n    return this._pages.map((pageView) => {\n      const viewport = pageView.pdfPage.getViewport({\n        scale: 1\n      });\n      const orientation = isPortraitOrientation(viewport);\n      if (initialOrientation === void 0) {\n        initialOrientation = orientation;\n      } else if (this.enablePrintAutoRotate && orientation !== initialOrientation) {\n        return {\n          width: viewport.height,\n          height: viewport.width,\n          rotation: (viewport.rotation - 90) % 360\n        };\n      }\n      return {\n        width: viewport.width,\n        height: viewport.height,\n        rotation: viewport.rotation\n      };\n    });\n  }\n  get optionalContentConfigPromise() {\n    if (!this.pdfDocument) {\n      return Promise.resolve(null);\n    }\n    if (!this._optionalContentConfigPromise) {\n      console.error(\"optionalContentConfigPromise: Not initialized yet.\");\n      return this.pdfDocument.getOptionalContentConfig({\n        intent: \"display\"\n      });\n    }\n    return this._optionalContentConfigPromise;\n  }\n  set optionalContentConfigPromise(promise) {\n    if (!(promise instanceof Promise)) {\n      throw new Error(`Invalid optionalContentConfigPromise: ${promise}`);\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!this._optionalContentConfigPromise) {\n      return;\n    }\n    this._optionalContentConfigPromise = promise;\n    this.refresh(false, {\n      optionalContentConfigPromise: promise\n    });\n    this.eventBus.dispatch(\"optionalcontentconfigchanged\", {\n      source: this,\n      promise\n    });\n  }\n  get scrollMode() {\n    return this._scrollMode;\n  }\n  set scrollMode(mode) {\n    if (this._scrollMode === mode) {\n      return;\n    }\n    if (!isValidScrollMode(mode)) {\n      throw new Error(`Invalid scroll mode: ${mode}`);\n    }\n    if (this.pagesCount > PagesCountLimit.FORCE_SCROLL_MODE_PAGE) {\n      return;\n    }\n    this._previousScrollMode = this._scrollMode;\n    this._scrollMode = mode;\n    this.eventBus.dispatch(\"scrollmodechanged\", {\n      source: this,\n      mode\n    });\n    this._updateScrollMode(this._currentPageNumber);\n  }\n  _updateScrollMode(pageNumber = null) {\n    const scrollMode = this._scrollMode, viewer = this.viewer;\n    viewer.classList.toggle(\"scrollHorizontal\", scrollMode === ScrollMode.HORIZONTAL);\n    viewer.classList.toggle(\"scrollWrapped\", scrollMode === ScrollMode.WRAPPED);\n    if (!this.pdfDocument || !pageNumber) {\n      return;\n    }\n    if (scrollMode === ScrollMode.PAGE) {\n      __privateMethod(this, _PDFViewer_instances, ensurePageViewVisible_fn).call(this);\n    } else if (this._previousScrollMode === ScrollMode.PAGE) {\n      this._updateSpreadMode();\n    }\n    if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n      __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this._setCurrentPageNumber(pageNumber, true);\n    this.update();\n  }\n  get spreadMode() {\n    return this._spreadMode;\n  }\n  set spreadMode(mode) {\n    if (this._spreadMode === mode) {\n      return;\n    }\n    if (!isValidSpreadMode(mode)) {\n      throw new Error(`Invalid spread mode: ${mode}`);\n    }\n    this._spreadMode = mode;\n    this.eventBus.dispatch(\"spreadmodechanged\", {\n      source: this,\n      mode\n    });\n    this._updateSpreadMode(this._currentPageNumber);\n  }\n  _updateSpreadMode(pageNumber = null) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const viewer = this.viewer, pages = this._pages;\n    if (this._scrollMode === ScrollMode.PAGE) {\n      __privateMethod(this, _PDFViewer_instances, ensurePageViewVisible_fn).call(this);\n    } else {\n      viewer.textContent = \"\";\n      if (this._spreadMode === SpreadMode.NONE) {\n        for (const pageView of this._pages) {\n          viewer.append(pageView.div);\n        }\n      } else {\n        const parity = this._spreadMode - 1;\n        let spread = null;\n        for (let i = 0, ii = pages.length; i < ii; ++i) {\n          if (spread === null) {\n            spread = document.createElement(\"div\");\n            spread.className = \"spread\";\n            viewer.append(spread);\n          } else if (i % 2 === parity) {\n            spread = spread.cloneNode(false);\n            viewer.append(spread);\n          }\n          spread.append(pages[i].div);\n        }\n      }\n    }\n    if (!pageNumber) {\n      return;\n    }\n    if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n      __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this._setCurrentPageNumber(pageNumber, true);\n    this.update();\n  }\n  _getPageAdvance(currentPageNumber, previous = false) {\n    switch (this._scrollMode) {\n      case ScrollMode.WRAPPED: {\n        const {\n          views\n        } = this._getVisiblePages(), pageLayout = /* @__PURE__ */ new Map();\n        for (const {\n          id,\n          y,\n          percent,\n          widthPercent\n        } of views) {\n          if (percent === 0 || widthPercent < 100) {\n            continue;\n          }\n          let yArray = pageLayout.get(y);\n          if (!yArray) {\n            pageLayout.set(y, yArray || (yArray = []));\n          }\n          yArray.push(id);\n        }\n        for (const yArray of pageLayout.values()) {\n          const currentIndex = yArray.indexOf(currentPageNumber);\n          if (currentIndex === -1) {\n            continue;\n          }\n          const numPages = yArray.length;\n          if (numPages === 1) {\n            break;\n          }\n          if (previous) {\n            for (let i = currentIndex - 1, ii = 0; i >= ii; i--) {\n              const currentId = yArray[i], expectedId = yArray[i + 1] - 1;\n              if (currentId < expectedId) {\n                return currentPageNumber - expectedId;\n              }\n            }\n          } else {\n            for (let i = currentIndex + 1, ii = numPages; i < ii; i++) {\n              const currentId = yArray[i], expectedId = yArray[i - 1] + 1;\n              if (currentId > expectedId) {\n                return expectedId - currentPageNumber;\n              }\n            }\n          }\n          if (previous) {\n            const firstId = yArray[0];\n            if (firstId < currentPageNumber) {\n              return currentPageNumber - firstId + 1;\n            }\n          } else {\n            const lastId = yArray[numPages - 1];\n            if (lastId > currentPageNumber) {\n              return lastId - currentPageNumber + 1;\n            }\n          }\n          break;\n        }\n        break;\n      }\n      case ScrollMode.HORIZONTAL: {\n        break;\n      }\n      case ScrollMode.PAGE:\n      case ScrollMode.VERTICAL: {\n        if (this._spreadMode === SpreadMode.NONE) {\n          break;\n        }\n        const parity = this._spreadMode - 1;\n        if (previous && currentPageNumber % 2 !== parity) {\n          break;\n        } else if (!previous && currentPageNumber % 2 === parity) {\n          break;\n        }\n        const {\n          views\n        } = this._getVisiblePages(), expectedId = previous ? currentPageNumber - 1 : currentPageNumber + 1;\n        for (const {\n          id,\n          percent,\n          widthPercent\n        } of views) {\n          if (id !== expectedId) {\n            continue;\n          }\n          if (percent > 0 && widthPercent === 100) {\n            return 2;\n          }\n          break;\n        }\n        break;\n      }\n    }\n    return 1;\n  }\n  nextPage() {\n    const currentPageNumber = this._currentPageNumber, pagesCount = this.pagesCount;\n    if (currentPageNumber >= pagesCount) {\n      return false;\n    }\n    const advance = this._getPageAdvance(currentPageNumber, false) || 1;\n    this.currentPageNumber = Math.min(currentPageNumber + advance, pagesCount);\n    return true;\n  }\n  previousPage() {\n    const currentPageNumber = this._currentPageNumber;\n    if (currentPageNumber <= 1) {\n      return false;\n    }\n    const advance = this._getPageAdvance(currentPageNumber, true) || 1;\n    this.currentPageNumber = Math.max(currentPageNumber - advance, 1);\n    return true;\n  }\n  updateScale({\n    drawingDelay,\n    scaleFactor = null,\n    steps = null,\n    origin\n  }) {\n    if (steps === null && scaleFactor === null) {\n      throw new Error(\"Invalid updateScale options: either `steps` or `scaleFactor` must be provided.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    let newScale = this._currentScale;\n    if (scaleFactor > 0 && scaleFactor !== 1) {\n      newScale = Math.round(newScale * scaleFactor * 100) / 100;\n    } else if (steps) {\n      const delta = steps > 0 ? DEFAULT_SCALE_DELTA : 1 / DEFAULT_SCALE_DELTA;\n      const round = steps > 0 ? Math.ceil : Math.floor;\n      steps = Math.abs(steps);\n      do {\n        newScale = round((newScale * delta).toFixed(2) * 10) / 10;\n      } while (--steps > 0);\n    }\n    newScale = Math.max(MIN_SCALE, Math.min(MAX_SCALE, newScale));\n    __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, newScale, {\n      noScroll: false,\n      drawingDelay,\n      origin\n    });\n  }\n  increaseScale(options = {}) {\n    this.updateScale({\n      ...options,\n      steps: options.steps ?? 1\n    });\n  }\n  decreaseScale(options = {}) {\n    this.updateScale({\n      ...options,\n      steps: -(options.steps ?? 1)\n    });\n  }\n  get containerTopLeft() {\n    return __privateGet(this, _containerTopLeft) || __privateSet(this, _containerTopLeft, [this.container.offsetTop, this.container.offsetLeft]);\n  }\n  get annotationEditorMode() {\n    return __privateGet(this, _annotationEditorUIManager) ? __privateGet(this, _annotationEditorMode) : AnnotationEditorType.DISABLE;\n  }\n  set annotationEditorMode({\n    mode,\n    editId = null,\n    isFromKeyboard = false\n  }) {\n    if (!__privateGet(this, _annotationEditorUIManager)) {\n      throw new Error(`The AnnotationEditor is not enabled.`);\n    }\n    if (__privateGet(this, _annotationEditorMode) === mode) {\n      return;\n    }\n    if (!isValidAnnotationEditorMode(mode)) {\n      throw new Error(`Invalid AnnotationEditor mode: ${mode}`);\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    __privateSet(this, _annotationEditorMode, mode);\n    this.eventBus.dispatch(\"annotationeditormodechanged\", {\n      source: this,\n      mode\n    });\n    __privateGet(this, _annotationEditorUIManager).updateMode(mode, editId, isFromKeyboard);\n  }\n  set annotationEditorParams({\n    type,\n    value\n  }) {\n    if (!__privateGet(this, _annotationEditorUIManager)) {\n      throw new Error(`The AnnotationEditor is not enabled.`);\n    }\n    __privateGet(this, _annotationEditorUIManager).updateParams(type, value);\n  }\n  refresh(noUpdate = false, updateArgs = /* @__PURE__ */ Object.create(null)) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    for (const pageView of this._pages) {\n      pageView.update(updateArgs);\n    }\n    if (__privateGet(this, _scaleTimeoutId) !== null) {\n      clearTimeout(__privateGet(this, _scaleTimeoutId));\n      __privateSet(this, _scaleTimeoutId, null);\n    }\n    if (!noUpdate) {\n      this.update();\n    }\n  }\n}\n_buffer = new WeakMap();\n_altTextManager = new WeakMap();\n_annotationEditorHighlightColors = new WeakMap();\n_annotationEditorMode = new WeakMap();\n_annotationEditorUIManager = new WeakMap();\n_annotationMode2 = new WeakMap();\n_containerTopLeft = new WeakMap();\n_enableHWA2 = new WeakMap();\n_enableHighlightFloatingButton = new WeakMap();\n_enablePermissions2 = new WeakMap();\n_eventAbortController5 = new WeakMap();\n_mlManager = new WeakMap();\n_getAllTextInProgress = new WeakMap();\n_hiddenCopyElement = new WeakMap();\n_interruptCopyCondition = new WeakMap();\n_previousContainerHeight = new WeakMap();\n_resizeObserver = new WeakMap();\n_scrollModePageState = new WeakMap();\n_scaleTimeoutId = new WeakMap();\n_textLayerMode2 = new WeakMap();\n_PDFViewer_instances = new WeakSet();\ninitializePermissions_fn = function(permissions) {\n  const params = {\n    annotationEditorMode: __privateGet(this, _annotationEditorMode),\n    annotationMode: __privateGet(this, _annotationMode2),\n    textLayerMode: __privateGet(this, _textLayerMode2)\n  };\n  if (!permissions) {\n    return params;\n  }\n  if (!permissions.includes(PermissionFlag.COPY) && __privateGet(this, _textLayerMode2) === TextLayerMode.ENABLE) {\n    params.textLayerMode = TextLayerMode.ENABLE_PERMISSIONS;\n  }\n  if (!permissions.includes(PermissionFlag.MODIFY_CONTENTS)) {\n    params.annotationEditorMode = AnnotationEditorType.DISABLE;\n  }\n  if (!permissions.includes(PermissionFlag.MODIFY_ANNOTATIONS) && !permissions.includes(PermissionFlag.FILL_INTERACTIVE_FORMS) && __privateGet(this, _annotationMode2) === AnnotationMode.ENABLE_FORMS) {\n    params.annotationMode = AnnotationMode.ENABLE;\n  }\n  return params;\n};\nonePageRenderedOrForceFetch_fn = async function(signal) {\n  if (document.visibilityState === \"hidden\" || !this.container.offsetParent || this._getVisiblePages().views.length === 0) {\n    return;\n  }\n  const hiddenCapability = Promise.withResolvers();\n  function onVisibilityChange() {\n    if (document.visibilityState === \"hidden\") {\n      hiddenCapability.resolve();\n    }\n  }\n  document.addEventListener(\"visibilitychange\", onVisibilityChange, {\n    signal\n  });\n  await Promise.race([this._onePageRenderedCapability.promise, hiddenCapability.promise]);\n  document.removeEventListener(\"visibilitychange\", onVisibilityChange);\n};\ncopyCallback_fn = function(textLayerMode, event) {\n  const selection = document.getSelection();\n  const {\n    focusNode,\n    anchorNode\n  } = selection;\n  if (anchorNode && focusNode && selection.containsNode(__privateGet(this, _hiddenCopyElement))) {\n    if (__privateGet(this, _getAllTextInProgress) || textLayerMode === TextLayerMode.ENABLE_PERMISSIONS) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n    __privateSet(this, _getAllTextInProgress, true);\n    const {\n      classList\n    } = this.viewer;\n    classList.add(\"copyAll\");\n    const ac = new AbortController();\n    window.addEventListener(\"keydown\", (ev) => __privateSet(this, _interruptCopyCondition, ev.key === \"Escape\"), {\n      signal: ac.signal\n    });\n    this.getAllText().then(async (text) => {\n      if (text !== null) {\n        await navigator.clipboard.writeText(text);\n      }\n    }).catch((reason) => {\n      console.warn(`Something goes wrong when extracting the text: ${reason.message}`);\n    }).finally(() => {\n      __privateSet(this, _getAllTextInProgress, false);\n      __privateSet(this, _interruptCopyCondition, false);\n      ac.abort();\n      classList.remove(\"copyAll\");\n    });\n    event.preventDefault();\n    event.stopPropagation();\n  }\n};\nensurePageViewVisible_fn = function() {\n  if (this._scrollMode !== ScrollMode.PAGE) {\n    throw new Error(\"#ensurePageViewVisible: Invalid scrollMode value.\");\n  }\n  const pageNumber = this._currentPageNumber, state = __privateGet(this, _scrollModePageState), viewer = this.viewer;\n  viewer.textContent = \"\";\n  state.pages.length = 0;\n  if (this._spreadMode === SpreadMode.NONE && !this.isInPresentationMode) {\n    const pageView = this._pages[pageNumber - 1];\n    viewer.append(pageView.div);\n    state.pages.push(pageView);\n  } else {\n    const pageIndexSet = /* @__PURE__ */ new Set(), parity = this._spreadMode - 1;\n    if (parity === -1) {\n      pageIndexSet.add(pageNumber - 1);\n    } else if (pageNumber % 2 !== parity) {\n      pageIndexSet.add(pageNumber - 1);\n      pageIndexSet.add(pageNumber);\n    } else {\n      pageIndexSet.add(pageNumber - 2);\n      pageIndexSet.add(pageNumber - 1);\n    }\n    const spread = document.createElement(\"div\");\n    spread.className = \"spread\";\n    if (this.isInPresentationMode) {\n      const dummyPage = document.createElement(\"div\");\n      dummyPage.className = \"dummyPage\";\n      spread.append(dummyPage);\n    }\n    for (const i of pageIndexSet) {\n      const pageView = this._pages[i];\n      if (!pageView) {\n        continue;\n      }\n      spread.append(pageView.div);\n      state.pages.push(pageView);\n    }\n    viewer.append(spread);\n  }\n  state.scrollDown = pageNumber >= state.previousPageNumber;\n  state.previousPageNumber = pageNumber;\n};\nscrollIntoView_fn = function(pageView, pageSpot = null) {\n  const {\n    div,\n    id\n  } = pageView;\n  if (this._currentPageNumber !== id) {\n    this._setCurrentPageNumber(id);\n  }\n  if (this._scrollMode === ScrollMode.PAGE) {\n    __privateMethod(this, _PDFViewer_instances, ensurePageViewVisible_fn).call(this);\n    this.update();\n  }\n  if (!pageSpot && !this.isInPresentationMode) {\n    const left = div.offsetLeft + div.clientLeft, right = left + div.clientWidth;\n    const {\n      scrollLeft,\n      clientWidth\n    } = this.container;\n    if (this._scrollMode === ScrollMode.HORIZONTAL || left < scrollLeft || right > scrollLeft + clientWidth) {\n      pageSpot = {\n        left: 0,\n        top: 0\n      };\n    }\n  }\n  scrollIntoView(div, pageSpot);\n  if (!this._currentScaleValue && this._location) {\n    this._location = null;\n  }\n};\nisSameScale_fn = function(newScale) {\n  return newScale === this._currentScale || Math.abs(newScale - this._currentScale) < 1e-15;\n};\nsetScaleUpdatePages_fn = function(newScale, newValue, {\n  noScroll = false,\n  preset = false,\n  drawingDelay = -1,\n  origin = null\n}) {\n  this._currentScaleValue = newValue.toString();\n  if (__privateMethod(this, _PDFViewer_instances, isSameScale_fn).call(this, newScale)) {\n    if (preset) {\n      this.eventBus.dispatch(\"scalechanging\", {\n        source: this,\n        scale: newScale,\n        presetValue: newValue\n      });\n    }\n    return;\n  }\n  this.viewer.style.setProperty(\"--scale-factor\", newScale * PixelsPerInch.PDF_TO_CSS_UNITS);\n  const postponeDrawing = drawingDelay >= 0 && drawingDelay < 1e3;\n  this.refresh(true, {\n    scale: newScale,\n    drawingDelay: postponeDrawing ? drawingDelay : -1\n  });\n  if (postponeDrawing) {\n    __privateSet(this, _scaleTimeoutId, setTimeout(() => {\n      __privateSet(this, _scaleTimeoutId, null);\n      this.refresh();\n    }, drawingDelay));\n  }\n  const previousScale = this._currentScale;\n  this._currentScale = newScale;\n  if (!noScroll) {\n    let page = this._currentPageNumber, dest;\n    if (this._location && !(this.isInPresentationMode || this.isChangingPresentationMode)) {\n      page = this._location.pageNumber;\n      dest = [null, {\n        name: \"XYZ\"\n      }, this._location.left, this._location.top, null];\n    }\n    this.scrollPageIntoView({\n      pageNumber: page,\n      destArray: dest,\n      allowNegativeOffset: true\n    });\n    if (Array.isArray(origin)) {\n      const scaleDiff = newScale / previousScale - 1;\n      const [top, left] = this.containerTopLeft;\n      this.container.scrollLeft += (origin[0] - left) * scaleDiff;\n      this.container.scrollTop += (origin[1] - top) * scaleDiff;\n    }\n  }\n  this.eventBus.dispatch(\"scalechanging\", {\n    source: this,\n    scale: newScale,\n    presetValue: preset ? newValue : void 0\n  });\n  if (this.defaultRenderingQueue) {\n    this.update();\n  }\n};\npageWidthScaleFactor_get = function() {\n  if (this._spreadMode !== SpreadMode.NONE && this._scrollMode !== ScrollMode.HORIZONTAL) {\n    return 2;\n  }\n  return 1;\n};\nsetScale_fn = function(value, options) {\n  let scale = parseFloat(value);\n  if (scale > 0) {\n    options.preset = false;\n    __privateMethod(this, _PDFViewer_instances, setScaleUpdatePages_fn).call(this, scale, value, options);\n  } else {\n    const currentPage = this._pages[this._currentPageNumber - 1];\n    if (!currentPage) {\n      return;\n    }\n    let hPadding = SCROLLBAR_PADDING, vPadding = VERTICAL_PADDING;\n    if (this.isInPresentationMode) {\n      hPadding = vPadding = 4;\n      if (this._spreadMode !== SpreadMode.NONE) {\n        hPadding *= 2;\n      }\n    } else if (this.removePageBorders) {\n      hPadding = vPadding = 0;\n    } else if (this._scrollMode === ScrollMode.HORIZONTAL) {\n      [hPadding, vPadding] = [vPadding, hPadding];\n    }\n    const pageWidthScale = (this.container.clientWidth - hPadding) / currentPage.width * currentPage.scale / __privateGet(this, _PDFViewer_instances, pageWidthScaleFactor_get);\n    const pageHeightScale = (this.container.clientHeight - vPadding) / currentPage.height * currentPage.scale;\n    switch (value) {\n      case \"page-actual\":\n        scale = 1;\n        break;\n      case \"page-width\":\n        scale = pageWidthScale;\n        break;\n      case \"page-height\":\n        scale = pageHeightScale;\n        break;\n      case \"page-fit\":\n        scale = Math.min(pageWidthScale, pageHeightScale);\n        break;\n      case \"auto\":\n        const horizontalScale = isPortraitOrientation(currentPage) ? pageWidthScale : Math.min(pageHeightScale, pageWidthScale);\n        scale = Math.min(MAX_AUTO_SCALE, horizontalScale);\n        break;\n      default:\n        console.error(`#setScale: \"${value}\" is an unknown zoom value.`);\n        return;\n    }\n    options.preset = true;\n    __privateMethod(this, _PDFViewer_instances, setScaleUpdatePages_fn).call(this, scale, value, options);\n  }\n};\nresetCurrentPageView_fn = function() {\n  const pageView = this._pages[this._currentPageNumber - 1];\n  if (this.isInPresentationMode) {\n    __privateMethod(this, _PDFViewer_instances, setScale_fn).call(this, this._currentScaleValue, {\n      noScroll: true\n    });\n  }\n  __privateMethod(this, _PDFViewer_instances, scrollIntoView_fn).call(this, pageView);\n};\nensurePdfPageLoaded_fn = async function(pageView) {\n  if (pageView.pdfPage) {\n    return pageView.pdfPage;\n  }\n  try {\n    const pdfPage = await this.pdfDocument.getPage(pageView.id);\n    if (!pageView.pdfPage) {\n      pageView.setPdfPage(pdfPage);\n    }\n    return pdfPage;\n  } catch (reason) {\n    console.error(\"Unable to get page for page view\", reason);\n    return null;\n  }\n};\ngetScrollAhead_fn = function(visible) {\n  var _a, _b;\n  if (((_a = visible.first) == null ? void 0 : _a.id) === 1) {\n    return true;\n  } else if (((_b = visible.last) == null ? void 0 : _b.id) === this.pagesCount) {\n    return false;\n  }\n  switch (this._scrollMode) {\n    case ScrollMode.PAGE:\n      return __privateGet(this, _scrollModePageState).scrollDown;\n    case ScrollMode.HORIZONTAL:\n      return this.scroll.right;\n  }\n  return this.scroll.down;\n};\nupdateContainerHeightCss_fn = function(height = this.container.clientHeight) {\n  if (height !== __privateGet(this, _previousContainerHeight)) {\n    __privateSet(this, _previousContainerHeight, height);\n    docStyle.setProperty(\"--viewer-container-height\", `${height}px`);\n  }\n};\nresizeObserverCallback_fn = function(entries) {\n  for (const entry of entries) {\n    if (entry.target === this.container) {\n      __privateMethod(this, _PDFViewer_instances, updateContainerHeightCss_fn).call(this, Math.floor(entry.borderBoxSize[0].blockSize));\n      __privateSet(this, _containerTopLeft, null);\n      break;\n    }\n  }\n};\nclass PDFSinglePageViewer extends PDFViewer {\n  _resetView() {\n    super._resetView();\n    this._scrollMode = ScrollMode.PAGE;\n    this._spreadMode = SpreadMode.NONE;\n  }\n  set scrollMode(mode) {\n  }\n  _updateScrollMode() {\n  }\n  set spreadMode(mode) {\n  }\n  _updateSpreadMode() {\n  }\n}\nvar __webpack_exports__AnnotationLayerBuilder = __webpack_exports__.AnnotationLayerBuilder;\nvar __webpack_exports__DownloadManager = __webpack_exports__.DownloadManager;\nvar __webpack_exports__EventBus = __webpack_exports__.EventBus;\nvar __webpack_exports__FindState = __webpack_exports__.FindState;\nvar __webpack_exports__GenericL10n = __webpack_exports__.GenericL10n;\nvar __webpack_exports__LinkTarget = __webpack_exports__.LinkTarget;\nvar __webpack_exports__PDFFindController = __webpack_exports__.PDFFindController;\nvar __webpack_exports__PDFHistory = __webpack_exports__.PDFHistory;\nvar __webpack_exports__PDFLinkService = __webpack_exports__.PDFLinkService;\nvar __webpack_exports__PDFPageView = __webpack_exports__.PDFPageView;\nvar __webpack_exports__PDFScriptingManager = __webpack_exports__.PDFScriptingManager;\nvar __webpack_exports__PDFSinglePageViewer = __webpack_exports__.PDFSinglePageViewer;\nvar __webpack_exports__PDFViewer = __webpack_exports__.PDFViewer;\nvar __webpack_exports__ProgressBar = __webpack_exports__.ProgressBar;\nvar __webpack_exports__RenderingStates = __webpack_exports__.RenderingStates;\nvar __webpack_exports__ScrollMode = __webpack_exports__.ScrollMode;\nvar __webpack_exports__SimpleLinkService = __webpack_exports__.SimpleLinkService;\nvar __webpack_exports__SpreadMode = __webpack_exports__.SpreadMode;\nvar __webpack_exports__StructTreeLayerBuilder = __webpack_exports__.StructTreeLayerBuilder;\nvar __webpack_exports__TextLayerBuilder = __webpack_exports__.TextLayerBuilder;\nvar __webpack_exports__XfaLayerBuilder = __webpack_exports__.XfaLayerBuilder;\nvar __webpack_exports__parseQueryString = __webpack_exports__.parseQueryString;\nexport {\n  __webpack_exports__AnnotationLayerBuilder as AnnotationLayerBuilder,\n  __webpack_exports__DownloadManager as DownloadManager,\n  __webpack_exports__EventBus as EventBus,\n  __webpack_exports__FindState as FindState,\n  __webpack_exports__GenericL10n as GenericL10n,\n  __webpack_exports__LinkTarget as LinkTarget,\n  __webpack_exports__PDFFindController as PDFFindController,\n  __webpack_exports__PDFHistory as PDFHistory,\n  __webpack_exports__PDFLinkService as PDFLinkService,\n  __webpack_exports__PDFPageView as PDFPageView,\n  __webpack_exports__PDFScriptingManager as PDFScriptingManager,\n  __webpack_exports__PDFSinglePageViewer as PDFSinglePageViewer,\n  __webpack_exports__PDFViewer as PDFViewer,\n  __webpack_exports__ProgressBar as ProgressBar,\n  __webpack_exports__RenderingStates as RenderingStates,\n  __webpack_exports__ScrollMode as ScrollMode,\n  __webpack_exports__SimpleLinkService as SimpleLinkService,\n  __webpack_exports__SpreadMode as SpreadMode,\n  __webpack_exports__StructTreeLayerBuilder as StructTreeLayerBuilder,\n  __webpack_exports__TextLayerBuilder as TextLayerBuilder,\n  __webpack_exports__XfaLayerBuilder as XfaLayerBuilder,\n  __webpack_exports__parseQueryString as parseQueryString\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}